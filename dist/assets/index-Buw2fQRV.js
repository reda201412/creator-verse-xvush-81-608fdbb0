function yre(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nU={exports:{}},N1={},rU={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=Symbol.for("react.element"),xre=Symbol.for("react.portal"),bre=Symbol.for("react.fragment"),wre=Symbol.for("react.strict_mode"),_re=Symbol.for("react.profiler"),Sre=Symbol.for("react.provider"),Ere=Symbol.for("react.context"),Tre=Symbol.for("react.forward_ref"),Are=Symbol.for("react.suspense"),jre=Symbol.for("react.memo"),Cre=Symbol.for("react.lazy"),nD=Symbol.iterator;function Pre(t){return t===null||typeof t!="object"?null:(t=nD&&t[nD]||t["@@iterator"],typeof t=="function"?t:null)}var iU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sU=Object.assign,aU={};function Lh(t,e,n){this.props=t,this.context=e,this.refs=aU,this.updater=n||iU}Lh.prototype.isReactComponent={};Lh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oU(){}oU.prototype=Lh.prototype;function Kk(t,e,n){this.props=t,this.context=e,this.refs=aU,this.updater=n||iU}var Gk=Kk.prototype=new oU;Gk.constructor=Kk;sU(Gk,Lh.prototype);Gk.isPureReactComponent=!0;var rD=Array.isArray,lU=Object.prototype.hasOwnProperty,Yk={current:null},cU={key:!0,ref:!0,__self:!0,__source:!0};function uU(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)lU.call(e,r)&&!cU.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:qv,type:t,key:s,ref:a,props:i,_owner:Yk.current}}function kre(t,e){return{$$typeof:qv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xk(t){return typeof t=="object"&&t!==null&&t.$$typeof===qv}function Nre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iD=/\/+/g;function NE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nre(""+t.key):e.toString(36)}function sx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qv:case xre:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+NE(a,0):r,rD(i)?(n="",t!=null&&(n=t.replace(iD,"$&/")+"/"),sx(i,e,n,"",function(u){return u})):i!=null&&(Xk(i)&&(i=kre(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(iD,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",rD(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+NE(s,o);a+=sx(s,e,n,l,i)}else if(l=Pre(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+NE(s,o++),a+=sx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function l0(t,e,n){if(t==null)return t;var r=[],i=0;return sx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ire(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ei={current:null},ax={transition:null},Ore={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:ax,ReactCurrentOwner:Yk};function dU(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:l0,forEach:function(t,e,n){l0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return l0(t,function(){e++}),e},toArray:function(t){return l0(t,function(e){return e})||[]},only:function(t){if(!Xk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=Lh;vt.Fragment=bre;vt.Profiler=_re;vt.PureComponent=Kk;vt.StrictMode=wre;vt.Suspense=Are;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ore;vt.act=dU;vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sU({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Yk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)lU.call(e,l)&&!cU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:qv,type:t.type,key:i,ref:s,props:r,_owner:a}};vt.createContext=function(t){return t={$$typeof:Ere,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sre,_context:t},t.Consumer=t};vt.createElement=uU;vt.createFactory=function(t){var e=uU.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:Tre,render:t}};vt.isValidElement=Xk;vt.lazy=function(t){return{$$typeof:Cre,_payload:{_status:-1,_result:t},_init:Ire}};vt.memo=function(t,e){return{$$typeof:jre,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=ax.transition;ax.transition={};try{t()}finally{ax.transition=e}};vt.unstable_act=dU;vt.useCallback=function(t,e){return ei.current.useCallback(t,e)};vt.useContext=function(t){return ei.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return ei.current.useDeferredValue(t)};vt.useEffect=function(t,e){return ei.current.useEffect(t,e)};vt.useId=function(){return ei.current.useId()};vt.useImperativeHandle=function(t,e,n){return ei.current.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return ei.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return ei.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return ei.current.useMemo(t,e)};vt.useReducer=function(t,e,n){return ei.current.useReducer(t,e,n)};vt.useRef=function(t){return ei.current.useRef(t)};vt.useState=function(t){return ei.current.useState(t)};vt.useSyncExternalStore=function(t,e,n){return ei.current.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return ei.current.useTransition()};vt.version="18.3.1";rU.exports=vt;var b=rU.exports;const M=Nt(b),Qk=yre({__proto__:null,default:M},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rre=b,Mre=Symbol.for("react.element"),Dre=Symbol.for("react.fragment"),Lre=Object.prototype.hasOwnProperty,$re=Rre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vre={key:!0,ref:!0,__self:!0,__source:!0};function fU(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Lre.call(e,r)&&!Vre.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mre,type:t,key:s,ref:a,props:i,_owner:$re.current}}N1.Fragment=Dre;N1.jsx=fU;N1.jsxs=fU;nU.exports=N1;var c=nU.exports,hU={exports:{}},Gi={},pU={exports:{}},mU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var W=L.length;L.push(F);e:for(;0<W;){var ne=W-1>>>1,Q=L[ne];if(0<i(Q,F))L[ne]=F,L[W]=Q,W=ne;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],W=L.pop();if(W!==F){L[0]=W;e:for(var ne=0,Q=L.length,ie=Q>>>1;ne<ie;){var xe=2*(ne+1)-1,Pe=L[xe],he=xe+1,q=L[he];if(0>i(Pe,W))he<Q&&0>i(q,Pe)?(L[ne]=q,L[he]=W,ne=he):(L[ne]=Pe,L[xe]=W,ne=xe);else if(he<Q&&0>i(q,W))L[ne]=q,L[he]=W,ne=he;else break e}}return F}function i(L,F){var W=L.sortIndex-F.sortIndex;return W!==0?W:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=L)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function E(L){if(m=!1,_(L),!g)if(n(l)!==null)g=!0,U(S);else{var F=n(u);F!==null&&z(E,F.startTime-L)}}function S(L,F){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var W=h;try{for(_(F),f=n(l);f!==null&&(!(f.expirationTime>F)||L&&!I());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var Q=ne(f.expirationTime<=F);F=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),_(F)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var xe=n(u);xe!==null&&z(E,xe.startTime-F),ie=!1}return ie}finally{f=null,h=W,p=!1}}var j=!1,A=null,T=-1,C=5,k=-1;function I(){return!(t.unstable_now()-k<C)}function N(){if(A!==null){var L=t.unstable_now();k=L;var F=!0;try{F=A(!0,L)}finally{F?O():(j=!1,A=null)}}else j=!1}var O;if(typeof x=="function")O=function(){x(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,V=D.port2;D.port1.onmessage=N,O=function(){V.postMessage(null)}}else O=function(){v(N,0)};function U(L){A=L,j||(j=!0,O())}function z(L,F){T=v(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,U(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var W=h;h=F;try{return L()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=h;h=L;try{return F()}finally{h=W}},t.unstable_scheduleCallback=function(L,F,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,L={id:d++,callback:F,priorityLevel:L,startTime:W,expirationTime:Q,sortIndex:-1},W>ne?(L.sortIndex=W,e(u,L),n(l)===null&&L===n(u)&&(m?(y(T),T=-1):m=!0,z(E,W-ne))):(L.sortIndex=Q,e(l,L),g||p||(g=!0,U(S))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var F=h;return function(){var W=h;h=F;try{return L.apply(this,arguments)}finally{h=W}}}})(mU);pU.exports=mU;var Fre=pU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zre=b,qi=Fre;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gU=new Set,lg={};function Qu(t,e){kf(t,e),kf(t+"Capture",e)}function kf(t,e){for(lg[t]=e,t=0;t<e.length;t++)gU.add(e[t])}var So=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),UA=Object.prototype.hasOwnProperty,Ure=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sD={},aD={};function Bre(t){return UA.call(aD,t)?!0:UA.call(sD,t)?!1:Ure.test(t)?aD[t]=!0:(sD[t]=!0,!1)}function Wre(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hre(t,e,n,r){if(e===null||typeof e>"u"||Wre(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ti(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zk=/[\-:]([a-z])/g;function Jk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zk,Jk);vr[e]=new ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zk,Jk);vr[e]=new ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zk,Jk);vr[e]=new ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new ti(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function eN(t,e,n,r){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hre(e,n,i,r)&&(n=null),r||i===null?Bre(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Uo=zre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c0=Symbol.for("react.element"),Ld=Symbol.for("react.portal"),$d=Symbol.for("react.fragment"),tN=Symbol.for("react.strict_mode"),BA=Symbol.for("react.profiler"),vU=Symbol.for("react.provider"),yU=Symbol.for("react.context"),nN=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),HA=Symbol.for("react.suspense_list"),rN=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),xU=Symbol.for("react.offscreen"),oD=Symbol.iterator;function Lp(t){return t===null||typeof t!="object"?null:(t=oD&&t[oD]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,IE;function lm(t){if(IE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);IE=e&&e[1]||""}return`
`+IE+t}var OE=!1;function RE(t,e){if(!t||OE)return"";OE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{OE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lm(t):""}function qre(t){switch(t.tag){case 5:return lm(t.type);case 16:return lm("Lazy");case 13:return lm("Suspense");case 19:return lm("SuspenseList");case 0:case 2:case 15:return t=RE(t.type,!1),t;case 11:return t=RE(t.type.render,!1),t;case 1:return t=RE(t.type,!0),t;default:return""}}function qA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $d:return"Fragment";case Ld:return"Portal";case BA:return"Profiler";case tN:return"StrictMode";case WA:return"Suspense";case HA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yU:return(t.displayName||"Context")+".Consumer";case vU:return(t._context.displayName||"Context")+".Provider";case nN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rN:return e=t.displayName||null,e!==null?e:qA(t.type)||"Memo";case hl:e=t._payload,t=t._init;try{return qA(t(e))}catch{}}return null}function Kre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qA(e);case 8:return e===tN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gre(t){var e=bU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function u0(t){t._valueTracker||(t._valueTracker=Gre(t))}function wU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function KA(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lD(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _U(t,e){e=e.checked,e!=null&&eN(t,"checked",e,!1)}function GA(t,e){_U(t,e);var n=sc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?YA(t,e.type,n):e.hasOwnProperty("defaultValue")&&YA(t,e.type,sc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cD(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function YA(t,e,n){(e!=="number"||Wx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cm=Array.isArray;function lf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uD(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(cm(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sc(n)}}function SU(t,e){var n=sc(e.value),r=sc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var d0,TU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(d0=d0||document.createElement("div"),d0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=d0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yre=["Webkit","ms","Moz","O"];Object.keys(Cm).forEach(function(t){Yre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cm[e]=Cm[t]})});function AU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cm.hasOwnProperty(t)&&Cm[t]?(""+e).trim():e+"px"}function jU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xre=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZA(t,e){if(e){if(Xre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function JA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ej=null;function iN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tj=null,cf=null,uf=null;function fD(t){if(t=Yv(t)){if(typeof tj!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=D1(e),tj(t.stateNode,t.type,e))}}function CU(t){cf?uf?uf.push(t):uf=[t]:cf=t}function PU(){if(cf){var t=cf,e=uf;if(uf=cf=null,fD(t),e)for(t=0;t<e.length;t++)fD(e[t])}}function kU(t,e){return t(e)}function NU(){}var ME=!1;function IU(t,e,n){if(ME)return t(e,n);ME=!0;try{return kU(t,e,n)}finally{ME=!1,(cf!==null||uf!==null)&&(NU(),PU())}}function ug(t,e){var n=t.stateNode;if(n===null)return null;var r=D1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var nj=!1;if(So)try{var $p={};Object.defineProperty($p,"passive",{get:function(){nj=!0}}),window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{nj=!1}function Qre(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Pm=!1,Hx=null,qx=!1,rj=null,Zre={onError:function(t){Pm=!0,Hx=t}};function Jre(t,e,n,r,i,s,a,o,l){Pm=!1,Hx=null,Qre.apply(Zre,arguments)}function eie(t,e,n,r,i,s,a,o,l){if(Jre.apply(this,arguments),Pm){if(Pm){var u=Hx;Pm=!1,Hx=null}else throw Error(ve(198));qx||(qx=!0,rj=u)}}function Zu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hD(t){if(Zu(t)!==t)throw Error(ve(188))}function tie(t){var e=t.alternate;if(!e){if(e=Zu(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hD(i),t;if(s===r)return hD(i),e;s=s.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function RU(t){return t=tie(t),t!==null?MU(t):null}function MU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MU(t);if(e!==null)return e;t=t.sibling}return null}var DU=qi.unstable_scheduleCallback,pD=qi.unstable_cancelCallback,nie=qi.unstable_shouldYield,rie=qi.unstable_requestPaint,Cn=qi.unstable_now,iie=qi.unstable_getCurrentPriorityLevel,sN=qi.unstable_ImmediatePriority,LU=qi.unstable_UserBlockingPriority,Kx=qi.unstable_NormalPriority,sie=qi.unstable_LowPriority,$U=qi.unstable_IdlePriority,I1=null,ba=null;function aie(t){if(ba&&typeof ba.onCommitFiberRoot=="function")try{ba.onCommitFiberRoot(I1,t,void 0,(t.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:cie,oie=Math.log,lie=Math.LN2;function cie(t){return t>>>=0,t===0?32:31-(oie(t)/lie|0)|0}var f0=64,h0=4194304;function um(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=um(o):(s&=a,s!==0&&(r=um(s)))}else a=n&~i,a!==0?r=um(a):s!==0&&(r=um(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zs(e),i=1<<n,r|=t[n],e&=~i;return r}function uie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function die(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-zs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=uie(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function ij(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VU(){var t=f0;return f0<<=1,!(f0&4194240)&&(f0=64),t}function DE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zs(e),t[e]=n}function fie(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function aN(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function FU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zU,oN,UU,BU,WU,sj=!1,p0=[],Fl=null,zl=null,Ul=null,dg=new Map,fg=new Map,xl=[],hie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mD(t,e){switch(t){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":dg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fg.delete(e.pointerId)}}function Vp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yv(e),e!==null&&oN(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pie(t,e,n,r,i){switch(e){case"focusin":return Fl=Vp(Fl,t,e,n,r,i),!0;case"dragenter":return zl=Vp(zl,t,e,n,r,i),!0;case"mouseover":return Ul=Vp(Ul,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dg.set(s,Vp(dg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fg.set(s,Vp(fg.get(s)||null,t,e,n,r,i)),!0}return!1}function HU(t){var e=ru(t.target);if(e!==null){var n=Zu(e);if(n!==null){if(e=n.tag,e===13){if(e=OU(n),e!==null){t.blockedOn=e,WU(t.priority,function(){UU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ox(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=aj(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ej=r,n.target.dispatchEvent(r),ej=null}else return e=Yv(n),e!==null&&oN(e),t.blockedOn=n,!1;e.shift()}return!0}function gD(t,e,n){ox(t)&&n.delete(e)}function mie(){sj=!1,Fl!==null&&ox(Fl)&&(Fl=null),zl!==null&&ox(zl)&&(zl=null),Ul!==null&&ox(Ul)&&(Ul=null),dg.forEach(gD),fg.forEach(gD)}function Fp(t,e){t.blockedOn===e&&(t.blockedOn=null,sj||(sj=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,mie)))}function hg(t){function e(i){return Fp(i,t)}if(0<p0.length){Fp(p0[0],t);for(var n=1;n<p0.length;n++){var r=p0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fl!==null&&Fp(Fl,t),zl!==null&&Fp(zl,t),Ul!==null&&Fp(Ul,t),dg.forEach(e),fg.forEach(e),n=0;n<xl.length;n++)r=xl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)HU(n),n.blockedOn===null&&xl.shift()}var df=Uo.ReactCurrentBatchConfig,Yx=!0;function gie(t,e,n,r){var i=Ot,s=df.transition;df.transition=null;try{Ot=1,lN(t,e,n,r)}finally{Ot=i,df.transition=s}}function vie(t,e,n,r){var i=Ot,s=df.transition;df.transition=null;try{Ot=4,lN(t,e,n,r)}finally{Ot=i,df.transition=s}}function lN(t,e,n,r){if(Yx){var i=aj(t,e,n,r);if(i===null)qE(t,e,r,Xx,n),mD(t,r);else if(pie(i,t,e,n,r))r.stopPropagation();else if(mD(t,r),e&4&&-1<hie.indexOf(t)){for(;i!==null;){var s=Yv(i);if(s!==null&&zU(s),s=aj(t,e,n,r),s===null&&qE(t,e,r,Xx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qE(t,e,r,null,n)}}var Xx=null;function aj(t,e,n,r){if(Xx=null,t=iN(r),t=ru(t),t!==null)if(e=Zu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xx=t,null}function qU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iie()){case sN:return 1;case LU:return 4;case Kx:case sie:return 16;case $U:return 536870912;default:return 16}default:return 16}}var Pl=null,cN=null,lx=null;function KU(){if(lx)return lx;var t,e=cN,n=e.length,r,i="value"in Pl?Pl.value:Pl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return lx=i.slice(t,1<r?1-r:void 0)}function cx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function m0(){return!0}function vD(){return!1}function Yi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m0:vD,this.isPropagationStopped=vD,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),e}var $h={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uN=Yi($h),Gv=pn({},$h,{view:0,detail:0}),yie=Yi(Gv),LE,$E,zp,O1=pn({},Gv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zp&&(zp&&t.type==="mousemove"?(LE=t.screenX-zp.screenX,$E=t.screenY-zp.screenY):$E=LE=0,zp=t),LE)},movementY:function(t){return"movementY"in t?t.movementY:$E}}),yD=Yi(O1),xie=pn({},O1,{dataTransfer:0}),bie=Yi(xie),wie=pn({},Gv,{relatedTarget:0}),VE=Yi(wie),_ie=pn({},$h,{animationName:0,elapsedTime:0,pseudoElement:0}),Sie=Yi(_ie),Eie=pn({},$h,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tie=Yi(Eie),Aie=pn({},$h,{data:0}),xD=Yi(Aie),jie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pie[t])?!!e[t]:!1}function dN(){return kie}var Nie=pn({},Gv,{key:function(t){if(t.key){var e=jie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dN,charCode:function(t){return t.type==="keypress"?cx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iie=Yi(Nie),Oie=pn({},O1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bD=Yi(Oie),Rie=pn({},Gv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dN}),Mie=Yi(Rie),Die=pn({},$h,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lie=Yi(Die),$ie=pn({},O1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vie=Yi($ie),Fie=[9,13,27,32],fN=So&&"CompositionEvent"in window,km=null;So&&"documentMode"in document&&(km=document.documentMode);var zie=So&&"TextEvent"in window&&!km,GU=So&&(!fN||km&&8<km&&11>=km),wD=" ",_D=!1;function YU(t,e){switch(t){case"keyup":return Fie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vd=!1;function Uie(t,e){switch(t){case"compositionend":return XU(e);case"keypress":return e.which!==32?null:(_D=!0,wD);case"textInput":return t=e.data,t===wD&&_D?null:t;default:return null}}function Bie(t,e){if(Vd)return t==="compositionend"||!fN&&YU(t,e)?(t=KU(),lx=cN=Pl=null,Vd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GU&&e.locale!=="ko"?null:e.data;default:return null}}var Wie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wie[t.type]:e==="textarea"}function QU(t,e,n,r){CU(r),e=Qx(e,"onChange"),0<e.length&&(n=new uN("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nm=null,pg=null;function Hie(t){lB(t,0)}function R1(t){var e=Ud(t);if(wU(e))return t}function qie(t,e){if(t==="change")return e}var ZU=!1;if(So){var FE;if(So){var zE="oninput"in document;if(!zE){var ED=document.createElement("div");ED.setAttribute("oninput","return;"),zE=typeof ED.oninput=="function"}FE=zE}else FE=!1;ZU=FE&&(!document.documentMode||9<document.documentMode)}function TD(){Nm&&(Nm.detachEvent("onpropertychange",JU),pg=Nm=null)}function JU(t){if(t.propertyName==="value"&&R1(pg)){var e=[];QU(e,pg,t,iN(t)),IU(Hie,e)}}function Kie(t,e,n){t==="focusin"?(TD(),Nm=e,pg=n,Nm.attachEvent("onpropertychange",JU)):t==="focusout"&&TD()}function Gie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return R1(pg)}function Yie(t,e){if(t==="click")return R1(e)}function Xie(t,e){if(t==="input"||t==="change")return R1(e)}function Qie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:Qie;function mg(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!UA.call(e,i)||!Ks(t[i],e[i]))return!1}return!0}function AD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jD(t,e){var n=AD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AD(n)}}function eB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tB(){for(var t=window,e=Wx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wx(t.document)}return e}function hN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zie(t){var e=tB(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eB(n.ownerDocument.documentElement,n)){if(r!==null&&hN(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jD(n,s);var a=jD(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jie=So&&"documentMode"in document&&11>=document.documentMode,Fd=null,oj=null,Im=null,lj=!1;function CD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lj||Fd==null||Fd!==Wx(r)||(r=Fd,"selectionStart"in r&&hN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Im&&mg(Im,r)||(Im=r,r=Qx(oj,"onSelect"),0<r.length&&(e=new uN("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fd)))}function g0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zd={animationend:g0("Animation","AnimationEnd"),animationiteration:g0("Animation","AnimationIteration"),animationstart:g0("Animation","AnimationStart"),transitionend:g0("Transition","TransitionEnd")},UE={},nB={};So&&(nB=document.createElement("div").style,"AnimationEvent"in window||(delete zd.animationend.animation,delete zd.animationiteration.animation,delete zd.animationstart.animation),"TransitionEvent"in window||delete zd.transitionend.transition);function M1(t){if(UE[t])return UE[t];if(!zd[t])return t;var e=zd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nB)return UE[t]=e[n];return t}var rB=M1("animationend"),iB=M1("animationiteration"),sB=M1("animationstart"),aB=M1("transitionend"),oB=new Map,PD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bc(t,e){oB.set(t,e),Qu(e,[t])}for(var BE=0;BE<PD.length;BE++){var WE=PD[BE],ese=WE.toLowerCase(),tse=WE[0].toUpperCase()+WE.slice(1);bc(ese,"on"+tse)}bc(rB,"onAnimationEnd");bc(iB,"onAnimationIteration");bc(sB,"onAnimationStart");bc("dblclick","onDoubleClick");bc("focusin","onFocus");bc("focusout","onBlur");bc(aB,"onTransitionEnd");kf("onMouseEnter",["mouseout","mouseover"]);kf("onMouseLeave",["mouseout","mouseover"]);kf("onPointerEnter",["pointerout","pointerover"]);kf("onPointerLeave",["pointerout","pointerover"]);Qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nse=new Set("cancel close invalid load scroll toggle".split(" ").concat(dm));function kD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eie(r,e,void 0,t),t.currentTarget=null}function lB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;kD(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;kD(i,o,u),s=l}}}if(qx)throw t=rj,qx=!1,rj=null,t}function Qt(t,e){var n=e[hj];n===void 0&&(n=e[hj]=new Set);var r=t+"__bubble";n.has(r)||(cB(e,t,2,!1),n.add(r))}function HE(t,e,n){var r=0;e&&(r|=4),cB(n,t,r,e)}var v0="_reactListening"+Math.random().toString(36).slice(2);function gg(t){if(!t[v0]){t[v0]=!0,gU.forEach(function(n){n!=="selectionchange"&&(nse.has(n)||HE(n,!1,t),HE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[v0]||(e[v0]=!0,HE("selectionchange",!1,e))}}function cB(t,e,n,r){switch(qU(e)){case 1:var i=gie;break;case 4:i=vie;break;default:i=lN}n=i.bind(null,e,n,t),i=void 0,!nj||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ru(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}IU(function(){var u=s,d=iN(n),f=[];e:{var h=oB.get(t);if(h!==void 0){var p=uN,g=t;switch(t){case"keypress":if(cx(n)===0)break e;case"keydown":case"keyup":p=Iie;break;case"focusin":g="focus",p=VE;break;case"focusout":g="blur",p=VE;break;case"beforeblur":case"afterblur":p=VE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Mie;break;case rB:case iB:case sB:p=Sie;break;case aB:p=Lie;break;case"scroll":p=yie;break;case"wheel":p=Vie;break;case"copy":case"cut":case"paste":p=Tie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bD}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,_;x!==null;){_=x;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,y!==null&&(E=ug(x,y),E!=null&&m.push(vg(x,E,_)))),v)break;x=x.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ej&&(g=n.relatedTarget||n.fromElement)&&(ru(g)||g[Eo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?ru(g):null,g!==null&&(v=Zu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=yD,E="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=bD,E="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Ud(p),_=g==null?h:Ud(g),h=new m(E,x+"leave",p,n,d),h.target=v,h.relatedTarget=_,E=null,ru(d)===u&&(m=new m(y,x+"enter",g,n,d),m.target=_,m.relatedTarget=v,E=m),v=E,p&&g)t:{for(m=p,y=g,x=0,_=m;_;_=bd(_))x++;for(_=0,E=y;E;E=bd(E))_++;for(;0<x-_;)m=bd(m),x--;for(;0<_-x;)y=bd(y),_--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=bd(m),y=bd(y)}m=null}else m=null;p!==null&&ND(f,h,p,m,!1),g!==null&&v!==null&&ND(f,v,g,m,!0)}}e:{if(h=u?Ud(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=qie;else if(SD(h))if(ZU)S=Xie;else{S=Gie;var j=Kie}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Yie);if(S&&(S=S(t,u))){QU(f,S,n,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&YA(h,"number",h.value)}switch(j=u?Ud(u):window,t){case"focusin":(SD(j)||j.contentEditable==="true")&&(Fd=j,oj=u,Im=null);break;case"focusout":Im=oj=Fd=null;break;case"mousedown":lj=!0;break;case"contextmenu":case"mouseup":case"dragend":lj=!1,CD(f,n,d);break;case"selectionchange":if(Jie)break;case"keydown":case"keyup":CD(f,n,d)}var A;if(fN)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Vd?YU(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(GU&&n.locale!=="ko"&&(Vd||T!=="onCompositionStart"?T==="onCompositionEnd"&&Vd&&(A=KU()):(Pl=d,cN="value"in Pl?Pl.value:Pl.textContent,Vd=!0)),j=Qx(u,T),0<j.length&&(T=new xD(T,t,null,n,d),f.push({event:T,listeners:j}),A?T.data=A:(A=XU(n),A!==null&&(T.data=A)))),(A=zie?Uie(t,n):Bie(t,n))&&(u=Qx(u,"onBeforeInput"),0<u.length&&(d=new xD("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}lB(f,e)})}function vg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ug(t,n),s!=null&&r.unshift(vg(t,s,i)),s=ug(t,e),s!=null&&r.push(vg(t,s,i))),t=t.return}return r}function bd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ND(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=ug(n,s),l!=null&&a.unshift(vg(n,l,o))):i||(l=ug(n,s),l!=null&&a.push(vg(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var rse=/\r\n?/g,ise=/\u0000|\uFFFD/g;function ID(t){return(typeof t=="string"?t:""+t).replace(rse,`
`).replace(ise,"")}function y0(t,e,n){if(e=ID(e),ID(t)!==e&&n)throw Error(ve(425))}function Zx(){}var cj=null,uj=null;function dj(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fj=typeof setTimeout=="function"?setTimeout:void 0,sse=typeof clearTimeout=="function"?clearTimeout:void 0,OD=typeof Promise=="function"?Promise:void 0,ase=typeof queueMicrotask=="function"?queueMicrotask:typeof OD<"u"?function(t){return OD.resolve(null).then(t).catch(ose)}:fj;function ose(t){setTimeout(function(){throw t})}function KE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hg(e)}function Bl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vh=Math.random().toString(36).slice(2),ua="__reactFiber$"+Vh,yg="__reactProps$"+Vh,Eo="__reactContainer$"+Vh,hj="__reactEvents$"+Vh,lse="__reactListeners$"+Vh,cse="__reactHandles$"+Vh;function ru(t){var e=t[ua];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Eo]||n[ua]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RD(t);t!==null;){if(n=t[ua])return n;t=RD(t)}return e}t=n,n=t.parentNode}return null}function Yv(t){return t=t[ua]||t[Eo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ud(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function D1(t){return t[yg]||null}var pj=[],Bd=-1;function wc(t){return{current:t}}function nn(t){0>Bd||(t.current=pj[Bd],pj[Bd]=null,Bd--)}function qt(t,e){Bd++,pj[Bd]=t.current,t.current=e}var ac={},Rr=wc(ac),pi=wc(!1),Su=ac;function Nf(t,e){var n=t.type.contextTypes;if(!n)return ac;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mi(t){return t=t.childContextTypes,t!=null}function Jx(){nn(pi),nn(Rr)}function MD(t,e,n){if(Rr.current!==ac)throw Error(ve(168));qt(Rr,e),qt(pi,n)}function uB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,Kre(t)||"Unknown",i));return pn({},n,r)}function eb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ac,Su=Rr.current,qt(Rr,t),qt(pi,pi.current),!0}function DD(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=uB(t,e,Su),r.__reactInternalMemoizedMergedChildContext=t,nn(pi),nn(Rr),qt(Rr,t)):nn(pi),qt(pi,n)}var ao=null,L1=!1,GE=!1;function dB(t){ao===null?ao=[t]:ao.push(t)}function use(t){L1=!0,dB(t)}function _c(){if(!GE&&ao!==null){GE=!0;var t=0,e=Ot;try{var n=ao;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ao=null,L1=!1}catch(i){throw ao!==null&&(ao=ao.slice(t+1)),DU(sN,_c),i}finally{Ot=e,GE=!1}}return null}var Wd=[],Hd=0,tb=null,nb=0,rs=[],is=0,Eu=null,oo=1,lo="";function Kc(t,e){Wd[Hd++]=nb,Wd[Hd++]=tb,tb=t,nb=e}function fB(t,e,n){rs[is++]=oo,rs[is++]=lo,rs[is++]=Eu,Eu=t;var r=oo;t=lo;var i=32-zs(r)-1;r&=~(1<<i),n+=1;var s=32-zs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,oo=1<<32-zs(e)+i|n<<i|r,lo=s+t}else oo=1<<s|n<<i|r,lo=t}function pN(t){t.return!==null&&(Kc(t,1),fB(t,1,0))}function mN(t){for(;t===tb;)tb=Wd[--Hd],Wd[Hd]=null,nb=Wd[--Hd],Wd[Hd]=null;for(;t===Eu;)Eu=rs[--is],rs[is]=null,lo=rs[--is],rs[is]=null,oo=rs[--is],rs[is]=null}var zi=null,Li=null,an=!1,Rs=null;function hB(t,e){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function LD(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zi=t,Li=Bl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zi=t,Li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eu!==null?{id:oo,overflow:lo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=as(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zi=t,Li=null,!0):!1;default:return!1}}function mj(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gj(t){if(an){var e=Li;if(e){var n=e;if(!LD(t,e)){if(mj(t))throw Error(ve(418));e=Bl(n.nextSibling);var r=zi;e&&LD(t,e)?hB(r,n):(t.flags=t.flags&-4097|2,an=!1,zi=t)}}else{if(mj(t))throw Error(ve(418));t.flags=t.flags&-4097|2,an=!1,zi=t}}}function $D(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zi=t}function x0(t){if(t!==zi)return!1;if(!an)return $D(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dj(t.type,t.memoizedProps)),e&&(e=Li)){if(mj(t))throw pB(),Error(ve(418));for(;e;)hB(t,e),e=Bl(e.nextSibling)}if($D(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Li=Bl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Li=null}}else Li=zi?Bl(t.stateNode.nextSibling):null;return!0}function pB(){for(var t=Li;t;)t=Bl(t.nextSibling)}function If(){Li=zi=null,an=!1}function gN(t){Rs===null?Rs=[t]:Rs.push(t)}var dse=Uo.ReactCurrentBatchConfig;function Up(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function b0(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function VD(t){var e=t._init;return e(t._payload)}function mB(t){function e(y,x){if(t){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Kl(y,x),y.index=0,y.sibling=null,y}function s(y,x,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,_,E){return x===null||x.tag!==6?(x=tT(_,y.mode,E),x.return=y,x):(x=i(x,_),x.return=y,x)}function l(y,x,_,E){var S=_.type;return S===$d?d(y,x,_.props.children,E,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&VD(S)===x.type)?(E=i(x,_.props),E.ref=Up(y,x,_),E.return=y,E):(E=gx(_.type,_.key,_.props,null,y.mode,E),E.ref=Up(y,x,_),E.return=y,E)}function u(y,x,_,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=nT(_,y.mode,E),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function d(y,x,_,E,S){return x===null||x.tag!==7?(x=vu(_,y.mode,E,S),x.return=y,x):(x=i(x,_),x.return=y,x)}function f(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=tT(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case c0:return _=gx(x.type,x.key,x.props,null,y.mode,_),_.ref=Up(y,null,x),_.return=y,_;case Ld:return x=nT(x,y.mode,_),x.return=y,x;case hl:var E=x._init;return f(y,E(x._payload),_)}if(cm(x)||Lp(x))return x=vu(x,y.mode,_,null),x.return=y,x;b0(y,x)}return null}function h(y,x,_,E){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(y,x,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case c0:return _.key===S?l(y,x,_,E):null;case Ld:return _.key===S?u(y,x,_,E):null;case hl:return S=_._init,h(y,x,S(_._payload),E)}if(cm(_)||Lp(_))return S!==null?null:d(y,x,_,E,null);b0(y,_)}return null}function p(y,x,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(_)||null,o(x,y,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case c0:return y=y.get(E.key===null?_:E.key)||null,l(x,y,E,S);case Ld:return y=y.get(E.key===null?_:E.key)||null,u(x,y,E,S);case hl:var j=E._init;return p(y,x,_,j(E._payload),S)}if(cm(E)||Lp(E))return y=y.get(_)||null,d(x,y,E,S,null);b0(x,E)}return null}function g(y,x,_,E){for(var S=null,j=null,A=x,T=x=0,C=null;A!==null&&T<_.length;T++){A.index>T?(C=A,A=null):C=A.sibling;var k=h(y,A,_[T],E);if(k===null){A===null&&(A=C);break}t&&A&&k.alternate===null&&e(y,A),x=s(k,x,T),j===null?S=k:j.sibling=k,j=k,A=C}if(T===_.length)return n(y,A),an&&Kc(y,T),S;if(A===null){for(;T<_.length;T++)A=f(y,_[T],E),A!==null&&(x=s(A,x,T),j===null?S=A:j.sibling=A,j=A);return an&&Kc(y,T),S}for(A=r(y,A);T<_.length;T++)C=p(A,y,T,_[T],E),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?T:C.key),x=s(C,x,T),j===null?S=C:j.sibling=C,j=C);return t&&A.forEach(function(I){return e(y,I)}),an&&Kc(y,T),S}function m(y,x,_,E){var S=Lp(_);if(typeof S!="function")throw Error(ve(150));if(_=S.call(_),_==null)throw Error(ve(151));for(var j=S=null,A=x,T=x=0,C=null,k=_.next();A!==null&&!k.done;T++,k=_.next()){A.index>T?(C=A,A=null):C=A.sibling;var I=h(y,A,k.value,E);if(I===null){A===null&&(A=C);break}t&&A&&I.alternate===null&&e(y,A),x=s(I,x,T),j===null?S=I:j.sibling=I,j=I,A=C}if(k.done)return n(y,A),an&&Kc(y,T),S;if(A===null){for(;!k.done;T++,k=_.next())k=f(y,k.value,E),k!==null&&(x=s(k,x,T),j===null?S=k:j.sibling=k,j=k);return an&&Kc(y,T),S}for(A=r(y,A);!k.done;T++,k=_.next())k=p(A,y,T,k.value,E),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?T:k.key),x=s(k,x,T),j===null?S=k:j.sibling=k,j=k);return t&&A.forEach(function(N){return e(y,N)}),an&&Kc(y,T),S}function v(y,x,_,E){if(typeof _=="object"&&_!==null&&_.type===$d&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case c0:e:{for(var S=_.key,j=x;j!==null;){if(j.key===S){if(S=_.type,S===$d){if(j.tag===7){n(y,j.sibling),x=i(j,_.props.children),x.return=y,y=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===hl&&VD(S)===j.type){n(y,j.sibling),x=i(j,_.props),x.ref=Up(y,j,_),x.return=y,y=x;break e}n(y,j);break}else e(y,j);j=j.sibling}_.type===$d?(x=vu(_.props.children,y.mode,E,_.key),x.return=y,y=x):(E=gx(_.type,_.key,_.props,null,y.mode,E),E.ref=Up(y,x,_),E.return=y,y=E)}return a(y);case Ld:e:{for(j=_.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=nT(_,y.mode,E),x.return=y,y=x}return a(y);case hl:return j=_._init,v(y,x,j(_._payload),E)}if(cm(_))return g(y,x,_,E);if(Lp(_))return m(y,x,_,E);b0(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,_),x.return=y,y=x):(n(y,x),x=tT(_,y.mode,E),x.return=y,y=x),a(y)):n(y,x)}return v}var Of=mB(!0),gB=mB(!1),rb=wc(null),ib=null,qd=null,vN=null;function yN(){vN=qd=ib=null}function xN(t){var e=rb.current;nn(rb),t._currentValue=e}function vj(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ff(t,e){ib=t,vN=qd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(di=!0),t.firstContext=null)}function fs(t){var e=t._currentValue;if(vN!==t)if(t={context:t,memoizedValue:e,next:null},qd===null){if(ib===null)throw Error(ve(308));qd=t,ib.dependencies={lanes:0,firstContext:t}}else qd=qd.next=t;return e}var iu=null;function bN(t){iu===null?iu=[t]:iu.push(t)}function vB(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bN(e)):(n.next=i.next,i.next=n),e.interleaved=n,To(t,r)}function To(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pl=!1;function wN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function go(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,To(t,n)}return i=r.interleaved,i===null?(e.next=e,bN(r)):(e.next=i.next,i.next=e),r.interleaved=e,To(t,n)}function ux(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aN(t,n)}}function FD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sb(t,e,n,r){var i=t.updateQueue;pl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(h=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=pn({},f,h);break e;case 2:pl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Au|=a,t.lanes=a,t.memoizedState=f}}function zD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Xv={},wa=wc(Xv),xg=wc(Xv),bg=wc(Xv);function su(t){if(t===Xv)throw Error(ve(174));return t}function _N(t,e){switch(qt(bg,e),qt(xg,t),qt(wa,Xv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:QA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=QA(e,t)}nn(wa),qt(wa,e)}function Rf(){nn(wa),nn(xg),nn(bg)}function xB(t){su(bg.current);var e=su(wa.current),n=QA(e,t.type);e!==n&&(qt(xg,t),qt(wa,n))}function SN(t){xg.current===t&&(nn(wa),nn(xg))}var cn=wc(0);function ab(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var YE=[];function EN(){for(var t=0;t<YE.length;t++)YE[t]._workInProgressVersionPrimary=null;YE.length=0}var dx=Uo.ReactCurrentDispatcher,XE=Uo.ReactCurrentBatchConfig,Tu=0,fn=null,Bn=null,Zn=null,ob=!1,Om=!1,wg=0,fse=0;function Sr(){throw Error(ve(321))}function TN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ks(t[n],e[n]))return!1;return!0}function AN(t,e,n,r,i,s){if(Tu=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dx.current=t===null||t.memoizedState===null?gse:vse,t=n(r,i),Om){s=0;do{if(Om=!1,wg=0,25<=s)throw Error(ve(301));s+=1,Zn=Bn=null,e.updateQueue=null,dx.current=yse,t=n(r,i)}while(Om)}if(dx.current=lb,e=Bn!==null&&Bn.next!==null,Tu=0,Zn=Bn=fn=null,ob=!1,e)throw Error(ve(300));return t}function jN(){var t=wg!==0;return wg=0,t}function la(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?fn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function hs(){if(Bn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Bn.next;var e=Zn===null?fn.memoizedState:Zn.next;if(e!==null)Zn=e,Bn=t;else{if(t===null)throw Error(ve(310));Bn=t,t={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Zn===null?fn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function _g(t,e){return typeof e=="function"?e(t):e}function QE(t){var e=hs(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Bn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((Tu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,fn.lanes|=d,Au|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Ks(r,e.memoizedState)||(di=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,fn.lanes|=s,Au|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ZE(t){var e=hs(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ks(s,e.memoizedState)||(di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function bB(){}function wB(t,e){var n=fn,r=hs(),i=e(),s=!Ks(r.memoizedState,i);if(s&&(r.memoizedState=i,di=!0),r=r.queue,CN(EB.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,Sg(9,SB.bind(null,n,r,i,e),void 0,null),nr===null)throw Error(ve(349));Tu&30||_B(n,e,i)}return i}function _B(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SB(t,e,n,r){e.value=n,e.getSnapshot=r,TB(e)&&AB(t)}function EB(t,e,n){return n(function(){TB(e)&&AB(t)})}function TB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ks(t,n)}catch{return!0}}function AB(t){var e=To(t,1);e!==null&&Us(e,t,1,-1)}function UD(t){var e=la();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:t},e.queue=t,t=t.dispatch=mse.bind(null,fn,t),[e.memoizedState,t]}function Sg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jB(){return hs().memoizedState}function fx(t,e,n,r){var i=la();fn.flags|=t,i.memoizedState=Sg(1|e,n,void 0,r===void 0?null:r)}function $1(t,e,n,r){var i=hs();r=r===void 0?null:r;var s=void 0;if(Bn!==null){var a=Bn.memoizedState;if(s=a.destroy,r!==null&&TN(r,a.deps)){i.memoizedState=Sg(e,n,s,r);return}}fn.flags|=t,i.memoizedState=Sg(1|e,n,s,r)}function BD(t,e){return fx(8390656,8,t,e)}function CN(t,e){return $1(2048,8,t,e)}function CB(t,e){return $1(4,2,t,e)}function PB(t,e){return $1(4,4,t,e)}function kB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NB(t,e,n){return n=n!=null?n.concat([t]):null,$1(4,4,kB.bind(null,e,t),n)}function PN(){}function IB(t,e){var n=hs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OB(t,e){var n=hs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&TN(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RB(t,e,n){return Tu&21?(Ks(n,e)||(n=VU(),fn.lanes|=n,Au|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,di=!0),t.memoizedState=n)}function hse(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=XE.transition;XE.transition={};try{t(!1),e()}finally{Ot=n,XE.transition=r}}function MB(){return hs().memoizedState}function pse(t,e,n){var r=ql(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DB(t))LB(e,n);else if(n=vB(t,e,n,r),n!==null){var i=Yr();Us(n,t,r,i),$B(n,e,r)}}function mse(t,e,n){var r=ql(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DB(t))LB(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ks(o,a)){var l=e.interleaved;l===null?(i.next=i,bN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vB(t,e,i,r),n!==null&&(i=Yr(),Us(n,t,r,i),$B(n,e,r))}}function DB(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function LB(t,e){Om=ob=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $B(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aN(t,n)}}var lb={readContext:fs,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},gse={readContext:fs,useCallback:function(t,e){return la().memoizedState=[t,e===void 0?null:e],t},useContext:fs,useEffect:BD,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fx(4194308,4,kB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fx(4194308,4,t,e)},useInsertionEffect:function(t,e){return fx(4,2,t,e)},useMemo:function(t,e){var n=la();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=la();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pse.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=la();return t={current:t},e.memoizedState=t},useState:UD,useDebugValue:PN,useDeferredValue:function(t){return la().memoizedState=t},useTransition:function(){var t=UD(!1),e=t[0];return t=hse.bind(null,t[1]),la().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,i=la();if(an){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),nr===null)throw Error(ve(349));Tu&30||_B(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,BD(EB.bind(null,r,s,t),[t]),r.flags|=2048,Sg(9,SB.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=la(),e=nr.identifierPrefix;if(an){var n=lo,r=oo;n=(r&~(1<<32-zs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fse++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vse={readContext:fs,useCallback:IB,useContext:fs,useEffect:CN,useImperativeHandle:NB,useInsertionEffect:CB,useLayoutEffect:PB,useMemo:OB,useReducer:QE,useRef:jB,useState:function(){return QE(_g)},useDebugValue:PN,useDeferredValue:function(t){var e=hs();return RB(e,Bn.memoizedState,t)},useTransition:function(){var t=QE(_g)[0],e=hs().memoizedState;return[t,e]},useMutableSource:bB,useSyncExternalStore:wB,useId:MB,unstable_isNewReconciler:!1},yse={readContext:fs,useCallback:IB,useContext:fs,useEffect:CN,useImperativeHandle:NB,useInsertionEffect:CB,useLayoutEffect:PB,useMemo:OB,useReducer:ZE,useRef:jB,useState:function(){return ZE(_g)},useDebugValue:PN,useDeferredValue:function(t){var e=hs();return Bn===null?e.memoizedState=t:RB(e,Bn.memoizedState,t)},useTransition:function(){var t=ZE(_g)[0],e=hs().memoizedState;return[t,e]},useMutableSource:bB,useSyncExternalStore:wB,useId:MB,unstable_isNewReconciler:!1};function ks(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yj(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var V1={isMounted:function(t){return(t=t._reactInternals)?Zu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yr(),i=ql(t),s=go(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wl(t,s,i),e!==null&&(Us(e,t,i,r),ux(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yr(),i=ql(t),s=go(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wl(t,s,i),e!==null&&(Us(e,t,i,r),ux(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yr(),r=ql(t),i=go(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wl(t,i,r),e!==null&&(Us(e,t,r,n),ux(e,t,r))}};function WD(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!mg(n,r)||!mg(i,s):!0}function VB(t,e,n){var r=!1,i=ac,s=e.contextType;return typeof s=="object"&&s!==null?s=fs(s):(i=mi(e)?Su:Rr.current,r=e.contextTypes,s=(r=r!=null)?Nf(t,i):ac),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=V1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function HD(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&V1.enqueueReplaceState(e,e.state,null)}function xj(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wN(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fs(s):(s=mi(e)?Su:Rr.current,i.context=Nf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yj(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&V1.enqueueReplaceState(i,i.state,null),sb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mf(t,e){try{var n="",r=e;do n+=qre(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function JE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bj(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xse=typeof WeakMap=="function"?WeakMap:Map;function FB(t,e,n){n=go(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ub||(ub=!0,kj=r),bj(t,e)},n}function zB(t,e,n){n=go(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bj(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bj(t,e),typeof r!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function qD(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xse;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ose.bind(null,t,e,n),e.then(t,t))}function KD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GD(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=go(-1,1),e.tag=2,Wl(n,e,1))),n.lanes|=1),t)}var bse=Uo.ReactCurrentOwner,di=!1;function Fr(t,e,n,r){e.child=t===null?gB(e,null,n,r):Of(e,t.child,n,r)}function YD(t,e,n,r,i){n=n.render;var s=e.ref;return ff(e,i),r=AN(t,e,n,r,s,i),n=jN(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ao(t,e,i)):(an&&n&&pN(e),e.flags|=1,Fr(t,e,r,i),e.child)}function XD(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!LN(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,UB(t,e,s,r,i)):(t=gx(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:mg,n(a,r)&&t.ref===e.ref)return Ao(t,e,i)}return e.flags|=1,t=Kl(s,r),t.ref=e.ref,t.return=e,e.child=t}function UB(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(mg(s,r)&&t.ref===e.ref)if(di=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(di=!0);else return e.lanes=t.lanes,Ao(t,e,i)}return wj(t,e,n,r,i)}function BB(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Gd,ki),ki|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(Gd,ki),ki|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qt(Gd,ki),ki|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qt(Gd,ki),ki|=r;return Fr(t,e,i,n),e.child}function WB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wj(t,e,n,r,i){var s=mi(n)?Su:Rr.current;return s=Nf(e,s),ff(e,i),n=AN(t,e,n,r,s,i),r=jN(),t!==null&&!di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ao(t,e,i)):(an&&r&&pN(e),e.flags|=1,Fr(t,e,n,i),e.child)}function QD(t,e,n,r,i){if(mi(n)){var s=!0;eb(e)}else s=!1;if(ff(e,i),e.stateNode===null)hx(t,e),VB(e,n,r),xj(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=fs(u):(u=mi(n)?Su:Rr.current,u=Nf(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&HD(e,a,r,u),pl=!1;var h=e.memoizedState;a.state=h,sb(e,r,a,i),l=e.memoizedState,o!==r||h!==l||pi.current||pl?(typeof d=="function"&&(yj(e,n,d,r),l=e.memoizedState),(o=pl||WD(e,n,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yB(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ks(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=fs(l):(l=mi(n)?Su:Rr.current,l=Nf(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&HD(e,a,r,l),pl=!1,h=e.memoizedState,a.state=h,sb(e,r,a,i);var g=e.memoizedState;o!==f||h!==g||pi.current||pl?(typeof p=="function"&&(yj(e,n,p,r),g=e.memoizedState),(u=pl||WD(e,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return _j(t,e,n,r,s,i)}function _j(t,e,n,r,i,s){WB(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&DD(e,n,!1),Ao(t,e,s);r=e.stateNode,bse.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Of(e,t.child,null,s),e.child=Of(e,null,o,s)):Fr(t,e,o,s),e.memoizedState=r.state,i&&DD(e,n,!0),e.child}function HB(t){var e=t.stateNode;e.pendingContext?MD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MD(t,e.context,!1),_N(t,e.containerInfo)}function ZD(t,e,n,r,i){return If(),gN(i),e.flags|=256,Fr(t,e,n,r),e.child}var Sj={dehydrated:null,treeContext:null,retryLane:0};function Ej(t){return{baseLanes:t,cachePool:null,transitions:null}}function qB(t,e,n){var r=e.pendingProps,i=cn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qt(cn,i&1),t===null)return gj(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=U1(a,r,0,null),t=vu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ej(n),e.memoizedState=Sj,t):kN(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return wse(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Kl(o,s):(s=vu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Ej(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Sj,r}return s=t.child,t=s.sibling,r=Kl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kN(t,e){return e=U1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function w0(t,e,n,r){return r!==null&&gN(r),Of(e,t.child,null,n),t=kN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wse(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=JE(Error(ve(422))),w0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=U1({mode:"visible",children:r.children},i,0,null),s=vu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Of(e,t.child,null,a),e.child.memoizedState=Ej(a),e.memoizedState=Sj,s);if(!(e.mode&1))return w0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ve(419)),r=JE(s,r,void 0),w0(t,e,a,r)}if(o=(a&t.childLanes)!==0,di||o){if(r=nr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,To(t,i),Us(r,t,i,-1))}return DN(),r=JE(Error(ve(421))),w0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Rse.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Li=Bl(i.nextSibling),zi=e,an=!0,Rs=null,t!==null&&(rs[is++]=oo,rs[is++]=lo,rs[is++]=Eu,oo=t.id,lo=t.overflow,Eu=e),e=kN(e,r.children),e.flags|=4096,e)}function JD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vj(t.return,e,n)}function eT(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function KB(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fr(t,e,r.children,n),r=cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JD(t,n,e);else if(t.tag===19)JD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ab(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eT(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ab(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eT(e,!0,n,null,s);break;case"together":eT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ao(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Au|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=Kl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _se(t,e,n){switch(e.tag){case 3:HB(e),If();break;case 5:xB(e);break;case 1:mi(e.type)&&eb(e);break;case 4:_N(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(rb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(cn,cn.current&1),e.flags|=128,null):n&e.child.childLanes?qB(t,e,n):(qt(cn,cn.current&1),t=Ao(t,e,n),t!==null?t.sibling:null);qt(cn,cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KB(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(cn,cn.current),r)break;return null;case 22:case 23:return e.lanes=0,BB(t,e,n)}return Ao(t,e,n)}var GB,Tj,YB,XB;GB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tj=function(){};YB=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,su(wa.current);var s=null;switch(n){case"input":i=KA(t,i),r=KA(t,r),s=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),s=[];break;case"textarea":i=XA(t,i),r=XA(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zx)}ZA(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};XB=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bp(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sse(t,e,n){var r=e.pendingProps;switch(mN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(e),null;case 1:return mi(e.type)&&Jx(),Er(e),null;case 3:return r=e.stateNode,Rf(),nn(pi),nn(Rr),EN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(x0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rs!==null&&(Oj(Rs),Rs=null))),Tj(t,e),Er(e),null;case 5:SN(e);var i=su(bg.current);if(n=e.type,t!==null&&e.stateNode!=null)YB(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Er(e),null}if(t=su(wa.current),x0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ua]=e,r[yg]=s,t=(e.mode&1)!==0,n){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(i=0;i<dm.length;i++)Qt(dm[i],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":lD(r,s),Qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qt("invalid",r);break;case"textarea":uD(r,s),Qt("invalid",r)}ZA(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&y0(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&y0(r.textContent,o,t),i=["children",""+o]):lg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Qt("scroll",r)}switch(n){case"input":u0(r),cD(r,s,!0);break;case"textarea":u0(r),dD(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ua]=e,t[yg]=r,GB(t,e,!1,!1),e.stateNode=t;e:{switch(a=JA(n,r),n){case"dialog":Qt("cancel",t),Qt("close",t),i=r;break;case"iframe":case"object":case"embed":Qt("load",t),i=r;break;case"video":case"audio":for(i=0;i<dm.length;i++)Qt(dm[i],t);i=r;break;case"source":Qt("error",t),i=r;break;case"img":case"image":case"link":Qt("error",t),Qt("load",t),i=r;break;case"details":Qt("toggle",t),i=r;break;case"input":lD(t,r),i=KA(t,r),Qt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),Qt("invalid",t);break;case"textarea":uD(t,r),i=XA(t,r),Qt("invalid",t);break;default:i=r}ZA(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?jU(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TU(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cg(t,l):typeof l=="number"&&cg(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qt("scroll",t):l!=null&&eN(t,s,l,a))}switch(n){case"input":u0(t),cD(t,r,!1);break;case"textarea":u0(t),dD(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?lf(t,!!r.multiple,s,!1):r.defaultValue!=null&&lf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Er(e),null;case 6:if(t&&e.stateNode!=null)XB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=su(bg.current),su(wa.current),x0(e)){if(r=e.stateNode,n=e.memoizedProps,r[ua]=e,(s=r.nodeValue!==n)&&(t=zi,t!==null))switch(t.tag){case 3:y0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&y0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ua]=e,e.stateNode=r}return Er(e),null;case 13:if(nn(cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&Li!==null&&e.mode&1&&!(e.flags&128))pB(),If(),e.flags|=98560,s=!1;else if(s=x0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[ua]=e}else If(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Er(e),s=!1}else Rs!==null&&(Oj(Rs),Rs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||cn.current&1?Hn===0&&(Hn=3):DN())),e.updateQueue!==null&&(e.flags|=4),Er(e),null);case 4:return Rf(),Tj(t,e),t===null&&gg(e.stateNode.containerInfo),Er(e),null;case 10:return xN(e.type._context),Er(e),null;case 17:return mi(e.type)&&Jx(),Er(e),null;case 19:if(nn(cn),s=e.memoizedState,s===null)return Er(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Bp(s,!1);else{if(Hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ab(t),a!==null){for(e.flags|=128,Bp(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(cn,cn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Cn()>Df&&(e.flags|=128,r=!0,Bp(s,!1),e.lanes=4194304)}else{if(!r)if(t=ab(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!an)return Er(e),null}else 2*Cn()-s.renderingStartTime>Df&&n!==1073741824&&(e.flags|=128,r=!0,Bp(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Cn(),e.sibling=null,n=cn.current,qt(cn,r?n&1|2:n&1),e):(Er(e),null);case 22:case 23:return MN(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ki&1073741824&&(Er(e),e.subtreeFlags&6&&(e.flags|=8192)):Er(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function Ese(t,e){switch(mN(e),e.tag){case 1:return mi(e.type)&&Jx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rf(),nn(pi),nn(Rr),EN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return SN(e),null;case 13:if(nn(cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));If()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nn(cn),null;case 4:return Rf(),null;case 10:return xN(e.type._context),null;case 22:case 23:return MN(),null;case 24:return null;default:return null}}var _0=!1,Pr=!1,Tse=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Kd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(t,e,r)}else n.current=null}function Aj(t,e,n){try{n()}catch(r){bn(t,e,r)}}var eL=!1;function Ase(t,e){if(cj=Yx,t=tB(),hN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uj={focusedElem:t,selectionRange:n},Yx=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ks(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(E){bn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return g=eL,eL=!1,g}function Rm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Aj(e,n,s)}i=i.next}while(i!==r)}}function F1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jj(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QB(t){var e=t.alternate;e!==null&&(t.alternate=null,QB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ua],delete e[yg],delete e[hj],delete e[lse],delete e[cse])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZB(t){return t.tag===5||t.tag===3||t.tag===4}function tL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zx));else if(r!==4&&(t=t.child,t!==null))for(Cj(t,e,n),t=t.sibling;t!==null;)Cj(t,e,n),t=t.sibling}function Pj(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pj(t,e,n),t=t.sibling;t!==null;)Pj(t,e,n),t=t.sibling}var cr=null,Ns=!1;function sl(t,e,n){for(n=n.child;n!==null;)JB(t,e,n),n=n.sibling}function JB(t,e,n){if(ba&&typeof ba.onCommitFiberUnmount=="function")try{ba.onCommitFiberUnmount(I1,n)}catch{}switch(n.tag){case 5:Pr||Kd(n,e);case 6:var r=cr,i=Ns;cr=null,sl(t,e,n),cr=r,Ns=i,cr!==null&&(Ns?(t=cr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):cr.removeChild(n.stateNode));break;case 18:cr!==null&&(Ns?(t=cr,n=n.stateNode,t.nodeType===8?KE(t.parentNode,n):t.nodeType===1&&KE(t,n),hg(t)):KE(cr,n.stateNode));break;case 4:r=cr,i=Ns,cr=n.stateNode.containerInfo,Ns=!0,sl(t,e,n),cr=r,Ns=i;break;case 0:case 11:case 14:case 15:if(!Pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Aj(n,e,a),i=i.next}while(i!==r)}sl(t,e,n);break;case 1:if(!Pr&&(Kd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){bn(n,e,o)}sl(t,e,n);break;case 21:sl(t,e,n);break;case 22:n.mode&1?(Pr=(r=Pr)||n.memoizedState!==null,sl(t,e,n),Pr=r):sl(t,e,n);break;default:sl(t,e,n)}}function nL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tse),e.forEach(function(r){var i=Mse.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:cr=o.stateNode,Ns=!1;break e;case 3:cr=o.stateNode.containerInfo,Ns=!0;break e;case 4:cr=o.stateNode.containerInfo,Ns=!0;break e}o=o.return}if(cr===null)throw Error(ve(160));JB(s,a,i),cr=null,Ns=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e9(e,t),e=e.sibling}function e9(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Es(e,t),oa(t),r&4){try{Rm(3,t,t.return),F1(3,t)}catch(m){bn(t,t.return,m)}try{Rm(5,t,t.return)}catch(m){bn(t,t.return,m)}}break;case 1:Es(e,t),oa(t),r&512&&n!==null&&Kd(n,n.return);break;case 5:if(Es(e,t),oa(t),r&512&&n!==null&&Kd(n,n.return),t.flags&32){var i=t.stateNode;try{cg(i,"")}catch(m){bn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&_U(i,s),JA(o,a);var u=JA(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?jU(i,f):d==="dangerouslySetInnerHTML"?TU(i,f):d==="children"?cg(i,f):eN(i,d,f,u)}switch(o){case"input":GA(i,s);break;case"textarea":SU(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?lf(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?lf(i,!!s.multiple,s.defaultValue,!0):lf(i,!!s.multiple,s.multiple?[]:"",!1))}i[yg]=s}catch(m){bn(t,t.return,m)}}break;case 6:if(Es(e,t),oa(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){bn(t,t.return,m)}}break;case 3:if(Es(e,t),oa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hg(e.containerInfo)}catch(m){bn(t,t.return,m)}break;case 4:Es(e,t),oa(t);break;case 13:Es(e,t),oa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ON=Cn())),r&4&&nL(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pr=(u=Pr)||d,Es(e,t),Pr=u):Es(e,t),oa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ie=t,d=t.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(h=Ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:Rm(4,h,h.return);break;case 1:Kd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){bn(r,n,m)}}break;case 5:Kd(h,h.return);break;case 22:if(h.memoizedState!==null){iL(f);continue}}p!==null?(p.return=h,Ie=p):iL(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=AU("display",a))}catch(m){bn(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){bn(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Es(e,t),oa(t),r&4&&nL(t);break;case 21:break;default:Es(e,t),oa(t)}}function oa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZB(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cg(i,""),r.flags&=-33);var s=tL(t);Pj(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=tL(t);Cj(t,o,a);break;default:throw Error(ve(161))}}catch(l){bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jse(t,e,n){Ie=t,t9(t)}function t9(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||_0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Pr;o=_0;var u=Pr;if(_0=a,(Pr=l)&&!u)for(Ie=i;Ie!==null;)a=Ie,l=a.child,a.tag===22&&a.memoizedState!==null?sL(i):l!==null?(l.return=a,Ie=l):sL(i);for(;s!==null;)Ie=s,t9(s),s=s.sibling;Ie=i,_0=o,Pr=u}rL(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):rL(t)}}function rL(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||F1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ks(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zD(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zD(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Pr||e.flags&512&&jj(e)}catch(h){bn(e,e.return,h)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function iL(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function sL(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{F1(4,e)}catch(l){bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bn(e,i,l)}}var s=e.return;try{jj(e)}catch(l){bn(e,s,l)}break;case 5:var a=e.return;try{jj(e)}catch(l){bn(e,a,l)}}}catch(l){bn(e,e.return,l)}if(e===t){Ie=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ie=o;break}Ie=e.return}}var Cse=Math.ceil,cb=Uo.ReactCurrentDispatcher,NN=Uo.ReactCurrentOwner,ls=Uo.ReactCurrentBatchConfig,Et=0,nr=null,Dn=null,mr=0,ki=0,Gd=wc(0),Hn=0,Eg=null,Au=0,z1=0,IN=0,Mm=null,li=null,ON=0,Df=1/0,io=null,ub=!1,kj=null,Hl=null,S0=!1,kl=null,db=0,Dm=0,Nj=null,px=-1,mx=0;function Yr(){return Et&6?Cn():px!==-1?px:px=Cn()}function ql(t){return t.mode&1?Et&2&&mr!==0?mr&-mr:dse.transition!==null?(mx===0&&(mx=VU()),mx):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:qU(t.type)),t):1}function Us(t,e,n,r){if(50<Dm)throw Dm=0,Nj=null,Error(ve(185));Kv(t,n,r),(!(Et&2)||t!==nr)&&(t===nr&&(!(Et&2)&&(z1|=n),Hn===4&&bl(t,mr)),gi(t,r),n===1&&Et===0&&!(e.mode&1)&&(Df=Cn()+500,L1&&_c()))}function gi(t,e){var n=t.callbackNode;die(t,e);var r=Gx(t,t===nr?mr:0);if(r===0)n!==null&&pD(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pD(n),e===1)t.tag===0?use(aL.bind(null,t)):dB(aL.bind(null,t)),ase(function(){!(Et&6)&&_c()}),n=null;else{switch(FU(r)){case 1:n=sN;break;case 4:n=LU;break;case 16:n=Kx;break;case 536870912:n=$U;break;default:n=Kx}n=c9(n,n9.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n9(t,e){if(px=-1,mx=0,Et&6)throw Error(ve(327));var n=t.callbackNode;if(hf()&&t.callbackNode!==n)return null;var r=Gx(t,t===nr?mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fb(t,r);else{e=r;var i=Et;Et|=2;var s=i9();(nr!==t||mr!==e)&&(io=null,Df=Cn()+500,gu(t,e));do try{Nse();break}catch(o){r9(t,o)}while(!0);yN(),cb.current=s,Et=i,Dn!==null?e=0:(nr=null,mr=0,e=Hn)}if(e!==0){if(e===2&&(i=ij(t),i!==0&&(r=i,e=Ij(t,i))),e===1)throw n=Eg,gu(t,0),bl(t,r),gi(t,Cn()),n;if(e===6)bl(t,r);else{if(i=t.current.alternate,!(r&30)&&!Pse(i)&&(e=fb(t,r),e===2&&(s=ij(t),s!==0&&(r=s,e=Ij(t,s))),e===1))throw n=Eg,gu(t,0),bl(t,r),gi(t,Cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:Gc(t,li,io);break;case 3:if(bl(t,r),(r&130023424)===r&&(e=ON+500-Cn(),10<e)){if(Gx(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fj(Gc.bind(null,t,li,io),e);break}Gc(t,li,io);break;case 4:if(bl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-zs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cse(r/1960))-r,10<r){t.timeoutHandle=fj(Gc.bind(null,t,li,io),r);break}Gc(t,li,io);break;case 5:Gc(t,li,io);break;default:throw Error(ve(329))}}}return gi(t,Cn()),t.callbackNode===n?n9.bind(null,t):null}function Ij(t,e){var n=Mm;return t.current.memoizedState.isDehydrated&&(gu(t,e).flags|=256),t=fb(t,e),t!==2&&(e=li,li=n,e!==null&&Oj(e)),t}function Oj(t){li===null?li=t:li.push.apply(li,t)}function Pse(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ks(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bl(t,e){for(e&=~IN,e&=~z1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zs(e),r=1<<n;t[n]=-1,e&=~r}}function aL(t){if(Et&6)throw Error(ve(327));hf();var e=Gx(t,0);if(!(e&1))return gi(t,Cn()),null;var n=fb(t,e);if(t.tag!==0&&n===2){var r=ij(t);r!==0&&(e=r,n=Ij(t,r))}if(n===1)throw n=Eg,gu(t,0),bl(t,e),gi(t,Cn()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gc(t,li,io),gi(t,Cn()),null}function RN(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(Df=Cn()+500,L1&&_c())}}function ju(t){kl!==null&&kl.tag===0&&!(Et&6)&&hf();var e=Et;Et|=1;var n=ls.transition,r=Ot;try{if(ls.transition=null,Ot=1,t)return t()}finally{Ot=r,ls.transition=n,Et=e,!(Et&6)&&_c()}}function MN(){ki=Gd.current,nn(Gd)}function gu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sse(n)),Dn!==null)for(n=Dn.return;n!==null;){var r=n;switch(mN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jx();break;case 3:Rf(),nn(pi),nn(Rr),EN();break;case 5:SN(r);break;case 4:Rf();break;case 13:nn(cn);break;case 19:nn(cn);break;case 10:xN(r.type._context);break;case 22:case 23:MN()}n=n.return}if(nr=t,Dn=t=Kl(t.current,null),mr=ki=e,Hn=0,Eg=null,IN=z1=Au=0,li=Mm=null,iu!==null){for(e=0;e<iu.length;e++)if(n=iu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}iu=null}return t}function r9(t,e){do{var n=Dn;try{if(yN(),dx.current=lb,ob){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ob=!1}if(Tu=0,Zn=Bn=fn=null,Om=!1,wg=0,NN.current=null,n===null||n.return===null){Hn=1,Eg=e,Dn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=mr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=KD(a);if(p!==null){p.flags&=-257,GD(p,a,o,s,e),p.mode&1&&qD(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){qD(s,u,e),DN();break e}l=Error(ve(426))}}else if(an&&o.mode&1){var v=KD(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),GD(v,a,o,s,e),gN(Mf(l,o));break e}}s=l=Mf(l,o),Hn!==4&&(Hn=2),Mm===null?Mm=[s]:Mm.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=FB(s,l,e);FD(s,y);break e;case 1:o=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hl===null||!Hl.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=zB(s,o,e);FD(s,E);break e}}s=s.return}while(s!==null)}a9(n)}catch(S){e=S,Dn===n&&n!==null&&(Dn=n=n.return);continue}break}while(!0)}function i9(){var t=cb.current;return cb.current=lb,t===null?lb:t}function DN(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),nr===null||!(Au&268435455)&&!(z1&268435455)||bl(nr,mr)}function fb(t,e){var n=Et;Et|=2;var r=i9();(nr!==t||mr!==e)&&(io=null,gu(t,e));do try{kse();break}catch(i){r9(t,i)}while(!0);if(yN(),Et=n,cb.current=r,Dn!==null)throw Error(ve(261));return nr=null,mr=0,Hn}function kse(){for(;Dn!==null;)s9(Dn)}function Nse(){for(;Dn!==null&&!nie();)s9(Dn)}function s9(t){var e=l9(t.alternate,t,ki);t.memoizedProps=t.pendingProps,e===null?a9(t):Dn=e,NN.current=null}function a9(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ese(n,e),n!==null){n.flags&=32767,Dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hn=6,Dn=null;return}}else if(n=Sse(n,e,ki),n!==null){Dn=n;return}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=t}while(e!==null);Hn===0&&(Hn=5)}function Gc(t,e,n){var r=Ot,i=ls.transition;try{ls.transition=null,Ot=1,Ise(t,e,n,r)}finally{ls.transition=i,Ot=r}return null}function Ise(t,e,n,r){do hf();while(kl!==null);if(Et&6)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(fie(t,s),t===nr&&(Dn=nr=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S0||(S0=!0,c9(Kx,function(){return hf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ls.transition,ls.transition=null;var a=Ot;Ot=1;var o=Et;Et|=4,NN.current=null,Ase(t,n),e9(n,t),Zie(uj),Yx=!!cj,uj=cj=null,t.current=n,jse(n),rie(),Et=o,Ot=a,ls.transition=s}else t.current=n;if(S0&&(S0=!1,kl=t,db=i),s=t.pendingLanes,s===0&&(Hl=null),aie(n.stateNode),gi(t,Cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ub)throw ub=!1,t=kj,kj=null,t;return db&1&&t.tag!==0&&hf(),s=t.pendingLanes,s&1?t===Nj?Dm++:(Dm=0,Nj=t):Dm=0,_c(),null}function hf(){if(kl!==null){var t=FU(db),e=ls.transition,n=Ot;try{if(ls.transition=null,Ot=16>t?16:t,kl===null)var r=!1;else{if(t=kl,kl=null,db=0,Et&6)throw Error(ve(331));var i=Et;for(Et|=4,Ie=t.current;Ie!==null;){var s=Ie,a=s.child;if(Ie.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:Rm(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var h=d.sibling,p=d.return;if(QB(d),d===u){Ie=null;break}if(h!==null){h.return=p,Ie=h;break}Ie=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ie=a;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rm(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ie=y;break e}Ie=s.return}}var x=t.current;for(Ie=x;Ie!==null;){a=Ie;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ie=_;else e:for(a=x;Ie!==null;){if(o=Ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:F1(9,o)}}catch(S){bn(o,o.return,S)}if(o===a){Ie=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Ie=E;break e}Ie=o.return}}if(Et=i,_c(),ba&&typeof ba.onPostCommitFiberRoot=="function")try{ba.onPostCommitFiberRoot(I1,t)}catch{}r=!0}return r}finally{Ot=n,ls.transition=e}}return!1}function oL(t,e,n){e=Mf(n,e),e=FB(t,e,1),t=Wl(t,e,1),e=Yr(),t!==null&&(Kv(t,1,e),gi(t,e))}function bn(t,e,n){if(t.tag===3)oL(t,t,n);else for(;e!==null;){if(e.tag===3){oL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hl===null||!Hl.has(r))){t=Mf(n,t),t=zB(e,t,1),e=Wl(e,t,1),t=Yr(),e!==null&&(Kv(e,1,t),gi(e,t));break}}e=e.return}}function Ose(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yr(),t.pingedLanes|=t.suspendedLanes&n,nr===t&&(mr&n)===n&&(Hn===4||Hn===3&&(mr&130023424)===mr&&500>Cn()-ON?gu(t,0):IN|=n),gi(t,e)}function o9(t,e){e===0&&(t.mode&1?(e=h0,h0<<=1,!(h0&130023424)&&(h0=4194304)):e=1);var n=Yr();t=To(t,e),t!==null&&(Kv(t,e,n),gi(t,n))}function Rse(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o9(t,n)}function Mse(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),o9(t,n)}var l9;l9=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pi.current)di=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return di=!1,_se(t,e,n);di=!!(t.flags&131072)}else di=!1,an&&e.flags&1048576&&fB(e,nb,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hx(t,e),t=e.pendingProps;var i=Nf(e,Rr.current);ff(e,n),i=AN(null,e,r,t,i,n);var s=jN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)?(s=!0,eb(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wN(e),i.updater=V1,e.stateNode=i,i._reactInternals=e,xj(e,r,t,n),e=_j(null,e,r,!0,s,n)):(e.tag=0,an&&s&&pN(e),Fr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Lse(r),t=ks(r,t),i){case 0:e=wj(null,e,r,t,n);break e;case 1:e=QD(null,e,r,t,n);break e;case 11:e=YD(null,e,r,t,n);break e;case 14:e=XD(null,e,r,ks(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),wj(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),QD(t,e,r,i,n);case 3:e:{if(HB(e),t===null)throw Error(ve(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yB(t,e),sb(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Mf(Error(ve(423)),e),e=ZD(t,e,r,n,i);break e}else if(r!==i){i=Mf(Error(ve(424)),e),e=ZD(t,e,r,n,i);break e}else for(Li=Bl(e.stateNode.containerInfo.firstChild),zi=e,an=!0,Rs=null,n=gB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(If(),r===i){e=Ao(t,e,n);break e}Fr(t,e,r,n)}e=e.child}return e;case 5:return xB(e),t===null&&gj(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,dj(r,i)?a=null:s!==null&&dj(r,s)&&(e.flags|=32),WB(t,e),Fr(t,e,a,n),e.child;case 6:return t===null&&gj(e),null;case 13:return qB(t,e,n);case 4:return _N(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Of(e,null,r,n):Fr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),YD(t,e,r,i,n);case 7:return Fr(t,e,e.pendingProps,n),e.child;case 8:return Fr(t,e,e.pendingProps.children,n),e.child;case 12:return Fr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,qt(rb,r._currentValue),r._currentValue=a,s!==null)if(Ks(s.value,a)){if(s.children===i.children&&!pi.current){e=Ao(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=go(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vj(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ve(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),vj(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Fr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ff(e,n),i=fs(i),r=r(i),e.flags|=1,Fr(t,e,r,n),e.child;case 14:return r=e.type,i=ks(r,e.pendingProps),i=ks(r.type,i),XD(t,e,r,i,n);case 15:return UB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ks(r,i),hx(t,e),e.tag=1,mi(r)?(t=!0,eb(e)):t=!1,ff(e,n),VB(e,r,i),xj(e,r,i,n),_j(null,e,r,!0,t,n);case 19:return KB(t,e,n);case 22:return BB(t,e,n)}throw Error(ve(156,e.tag))};function c9(t,e){return DU(t,e)}function Dse(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(t,e,n,r){return new Dse(t,e,n,r)}function LN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lse(t){if(typeof t=="function")return LN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nN)return 11;if(t===rN)return 14}return 2}function Kl(t,e){var n=t.alternate;return n===null?(n=as(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gx(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")LN(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $d:return vu(n.children,i,s,e);case tN:a=8,i|=8;break;case BA:return t=as(12,n,e,i|2),t.elementType=BA,t.lanes=s,t;case WA:return t=as(13,n,e,i),t.elementType=WA,t.lanes=s,t;case HA:return t=as(19,n,e,i),t.elementType=HA,t.lanes=s,t;case xU:return U1(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vU:a=10;break e;case yU:a=9;break e;case nN:a=11;break e;case rN:a=14;break e;case hl:a=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=as(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vu(t,e,n,r){return t=as(7,t,r,e),t.lanes=n,t}function U1(t,e,n,r){return t=as(22,t,r,e),t.elementType=xU,t.lanes=n,t.stateNode={isHidden:!1},t}function tT(t,e,n){return t=as(6,t,null,e),t.lanes=n,t}function nT(t,e,n){return e=as(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $se(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=DE(0),this.expirationTimes=DE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=DE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $N(t,e,n,r,i,s,a,o,l){return t=new $se(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=as(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wN(s),t}function Vse(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ld,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u9(t){if(!t)return ac;t=t._reactInternals;e:{if(Zu(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(mi(n))return uB(t,n,e)}return e}function d9(t,e,n,r,i,s,a,o,l){return t=$N(n,r,!0,t,i,s,a,o,l),t.context=u9(null),n=t.current,r=Yr(),i=ql(n),s=go(r,i),s.callback=e??null,Wl(n,s,i),t.current.lanes=i,Kv(t,i,r),gi(t,r),t}function B1(t,e,n,r){var i=e.current,s=Yr(),a=ql(i);return n=u9(n),e.context===null?e.context=n:e.pendingContext=n,e=go(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wl(i,e,a),t!==null&&(Us(t,i,a,s),ux(t,i,a)),a}function hb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VN(t,e){lL(t,e),(t=t.alternate)&&lL(t,e)}function Fse(){return null}var f9=typeof reportError=="function"?reportError:function(t){console.error(t)};function FN(t){this._internalRoot=t}W1.prototype.render=FN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));B1(t,e,null,null)};W1.prototype.unmount=FN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ju(function(){B1(null,t,null,null)}),e[Eo]=null}};function W1(t){this._internalRoot=t}W1.prototype.unstable_scheduleHydration=function(t){if(t){var e=BU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xl.length&&e!==0&&e<xl[n].priority;n++);xl.splice(n,0,t),n===0&&HU(t)}};function zN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function H1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cL(){}function zse(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hb(a);s.call(u)}}var a=d9(e,r,t,0,null,!1,!1,"",cL);return t._reactRootContainer=a,t[Eo]=a.current,gg(t.nodeType===8?t.parentNode:t),ju(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=hb(l);o.call(u)}}var l=$N(t,0,!1,null,null,!1,!1,"",cL);return t._reactRootContainer=l,t[Eo]=l.current,gg(t.nodeType===8?t.parentNode:t),ju(function(){B1(e,l,n,r)}),l}function q1(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=hb(a);o.call(l)}}B1(e,a,t,i)}else a=zse(n,e,t,i,r);return hb(a)}zU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=um(e.pendingLanes);n!==0&&(aN(e,n|1),gi(e,Cn()),!(Et&6)&&(Df=Cn()+500,_c()))}break;case 13:ju(function(){var r=To(t,1);if(r!==null){var i=Yr();Us(r,t,1,i)}}),VN(t,1)}};oN=function(t){if(t.tag===13){var e=To(t,134217728);if(e!==null){var n=Yr();Us(e,t,134217728,n)}VN(t,134217728)}};UU=function(t){if(t.tag===13){var e=ql(t),n=To(t,e);if(n!==null){var r=Yr();Us(n,t,e,r)}VN(t,e)}};BU=function(){return Ot};WU=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};tj=function(t,e,n){switch(e){case"input":if(GA(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=D1(r);if(!i)throw Error(ve(90));wU(r),GA(r,i)}}}break;case"textarea":SU(t,n);break;case"select":e=n.value,e!=null&&lf(t,!!n.multiple,e,!1)}};kU=RN;NU=ju;var Use={usingClientEntryPoint:!1,Events:[Yv,Ud,D1,CU,PU,RN]},Wp={findFiberByHostInstance:ru,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bse={bundleType:Wp.bundleType,version:Wp.version,rendererPackageName:Wp.rendererPackageName,rendererConfig:Wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RU(t),t===null?null:t.stateNode},findFiberByHostInstance:Wp.findFiberByHostInstance||Fse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E0.isDisabled&&E0.supportsFiber)try{I1=E0.inject(Bse),ba=E0}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Use;Gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zN(e))throw Error(ve(200));return Vse(t,e,null,n)};Gi.createRoot=function(t,e){if(!zN(t))throw Error(ve(299));var n=!1,r="",i=f9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$N(t,1,!1,null,null,n,!1,r,i),t[Eo]=e.current,gg(t.nodeType===8?t.parentNode:t),new FN(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=RU(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return ju(t)};Gi.hydrate=function(t,e,n){if(!H1(e))throw Error(ve(200));return q1(null,t,e,!0,n)};Gi.hydrateRoot=function(t,e,n){if(!zN(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=f9;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=d9(e,null,t,1,n??null,i,!1,s,a),t[Eo]=e.current,gg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new W1(e)};Gi.render=function(t,e,n){if(!H1(e))throw Error(ve(200));return q1(null,t,e,!1,n)};Gi.unmountComponentAtNode=function(t){if(!H1(t))throw Error(ve(40));return t._reactRootContainer?(ju(function(){q1(null,null,t,!1,function(){t._reactRootContainer=null,t[Eo]=null})}),!0):!1};Gi.unstable_batchedUpdates=RN;Gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!H1(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return q1(t,e,n,!1,r)};Gi.version="18.3.1-next-f1338f8080-20240426";function h9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h9)}catch(t){console.error(t)}}h9(),hU.exports=Gi;var Fh=hU.exports;const p9=Nt(Fh);var m9,uL=Fh;m9=uL.createRoot,uL.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}var Nl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nl||(Nl={}));const dL="popstate";function Wse(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Rj("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pb(i)}return qse(e,n,null,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hse(){return Math.random().toString(36).substr(2,8)}function fL(t,e){return{usr:t.state,key:t.key,idx:e}}function Rj(t,e,n,r){return n===void 0&&(n=null),Tg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zh(e):e,{state:n,key:e&&e.key||r||Hse()})}function pb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qse(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Nl.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Tg({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Nl.Pop;let v=d(),y=v==null?null:v-u;u=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=Nl.Push;let x=Rj(m.location,v,y);u=d()+1;let _=fL(x,u),E=m.createHref(x);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:o,location:m.location,delta:1})}function p(v,y){o=Nl.Replace;let x=Rj(m.location,v,y);u=d();let _=fL(x,u),E=m.createHref(x);a.replaceState(_,"",E),s&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:pb(v);return x=x.replace(/ $/,"%20"),hn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dL,f),l=v,()=>{i.removeEventListener(dL,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return a.go(v)}};return m}var hL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hL||(hL={}));function Kse(t,e,n){return n===void 0&&(n="/"),Gse(t,e,n)}function Gse(t,e,n,r){let i=typeof e=="string"?zh(e):e,s=Lf(i.pathname||"/",n);if(s==null)return null;let a=v9(t);Yse(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=aae(s);o=iae(a[l],u)}return o}function v9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(hn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gl([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(hn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),v9(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:nae(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of y9(s.path))i(s,a,l)}),e}function y9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=y9(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Yse(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rae(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xse=/^:[\w-]+$/,Qse=3,Zse=2,Jse=1,eae=10,tae=-2,pL=t=>t==="*";function nae(t,e){let n=t.split("/"),r=n.length;return n.some(pL)&&(r+=tae),e&&(r+=Zse),n.filter(i=>!pL(i)).reduce((i,s)=>i+(Xse.test(s)?Qse:s===""?Jse:eae),r)}function rae(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iae(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Mj({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Gl([s,f.pathname]),pathnameBase:uae(Gl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Gl([s,f.pathnameBase]))}return a}function Mj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sae(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function sae(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aae(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return g9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oae(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zh(t):t;return{pathname:n?n.startsWith("/")?n:lae(n,e):e,search:dae(r),hash:fae(i)}}function lae(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cae(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UN(t,e){let n=cae(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zh(t):(i=Tg({},t),hn(!i.pathname||!i.pathname.includes("?"),rT("?","pathname","search",i)),hn(!i.pathname||!i.pathname.includes("#"),rT("#","pathname","hash",i)),hn(!i.search||!i.search.includes("#"),rT("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=oae(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Gl=t=>t.join("/").replace(/\/\/+/g,"/"),uae=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dae=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fae=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hae(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x9=["post","put","patch","delete"];new Set(x9);const pae=["get",...x9];new Set(pae);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}const K1=b.createContext(null),b9=b.createContext(null),Bo=b.createContext(null),G1=b.createContext(null),Wo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),w9=b.createContext(null);function mae(t,e){let{relative:n}=e===void 0?{}:e;Uh()||hn(!1);let{basename:r,navigator:i}=b.useContext(Bo),{hash:s,pathname:a,search:o}=Y1(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Gl([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Uh(){return b.useContext(G1)!=null}function Ua(){return Uh()||hn(!1),b.useContext(G1).location}function _9(t){b.useContext(Bo).static||b.useLayoutEffect(t)}function Xi(){let{isDataRoute:t}=b.useContext(Wo);return t?Cae():gae()}function gae(){Uh()||hn(!1);let t=b.useContext(K1),{basename:e,future:n,navigator:r}=b.useContext(Bo),{matches:i}=b.useContext(Wo),{pathname:s}=Ua(),a=JSON.stringify(UN(i,n.v7_relativeSplatPath)),o=b.useRef(!1);return _9(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=BN(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gl([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}function S9(){let{matches:t}=b.useContext(Wo),e=t[t.length-1];return e?e.params:{}}function Y1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Bo),{matches:i}=b.useContext(Wo),{pathname:s}=Ua(),a=JSON.stringify(UN(i,r.v7_relativeSplatPath));return b.useMemo(()=>BN(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function vae(t,e){return yae(t,e)}function yae(t,e,n,r){Uh()||hn(!1);let{navigator:i,static:s}=b.useContext(Bo),{matches:a}=b.useContext(Wo),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Ua(),f;if(e){var h;let y=typeof e=="string"?zh(e):e;u==="/"||(h=y.pathname)!=null&&h.startsWith(u)||hn(!1),f=y}else f=d;let p=f.pathname||"/",g=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Kse(t,{pathname:g}),v=Sae(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Gl([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Gl([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&v?b.createElement(G1.Provider,{value:{location:Ag({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Nl.Pop}},v):v}function xae(){let t=jae(),e=hae(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const bae=b.createElement(xae,null);class wae extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Wo.Provider,{value:this.props.routeContext},b.createElement(w9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _ae(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(K1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Wo.Provider,{value:e},r)}function Sae(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||hn(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||bae,l&&(u<0&&h===0?(Pae("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,h+1)),x=()=>{let _;return p?_=m:g?_=v:f.route.Component?_=b.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,b.createElement(_ae,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(wae,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var E9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(E9||{}),T9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T9||{});function Eae(t){let e=b.useContext(K1);return e||hn(!1),e}function Tae(t){let e=b.useContext(b9);return e||hn(!1),e}function Aae(t){let e=b.useContext(Wo);return e||hn(!1),e}function A9(t){let e=Aae(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function jae(){var t;let e=b.useContext(w9),n=Tae(),r=A9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Cae(){let{router:t}=Eae(E9.UseNavigateStable),e=A9(T9.UseNavigateStable),n=b.useRef(!1);return _9(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ag({fromRouteId:e},s)))},[t,e])}const mL={};function Pae(t,e,n){mL[t]||(mL[t]=!0)}function kae(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vx(t){let{to:e,replace:n,state:r,relative:i}=t;Uh()||hn(!1);let{future:s,static:a}=b.useContext(Bo),{matches:o}=b.useContext(Wo),{pathname:l}=Ua(),u=Xi(),d=BN(e,UN(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Nn(t){hn(!1)}function Nae(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Nl.Pop,navigator:s,static:a=!1,future:o}=t;Uh()&&hn(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:a,future:Ag({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=zh(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=b.useMemo(()=>{let v=Lf(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[l,d,f,h,p,g,i]);return m==null?null:b.createElement(Bo.Provider,{value:u},b.createElement(G1.Provider,{children:n,value:m}))}function Iae(t){let{children:e,location:n}=t;return vae(Dj(e),n)}new Promise(()=>{});function Dj(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Dj(r.props.children,s));return}r.type!==Nn&&hn(!1),!r.props.index||!r.props.children||hn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Dj(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function j9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Oae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rae(t,e){return t.button===0&&(!e||e==="_self")&&!Oae(t)}const Mae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dae=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Lae="6";try{window.__reactRouterVersion=Lae}catch{}const $ae=b.createContext({isTransitioning:!1}),Vae="startTransition",gL=Qk[Vae];function Fae(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=Wse({window:i,v5Compat:!0}));let a=s.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&gL?gL(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>kae(r),[r]),b.createElement(Nae,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const zae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=j9(e,Mae),{basename:p}=b.useContext(Bo),g,m=!1;if(typeof u=="string"&&Uae.test(u)&&(g=u,zae))try{let _=new URL(window.location.href),E=u.startsWith("//")?new URL(_.protocol+u):new URL(u),S=Lf(E.pathname,p);E.origin===_.origin&&S!=null?u=S+E.search+E.hash:m=!0}catch{}let v=mae(u,{relative:i}),y=Wae(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(_){r&&r(_),_.defaultPrevented||y(_)}return b.createElement("a",mb({},h,{href:g||v,onClick:m||s?r:x,ref:n,target:l}))}),C9=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,f=j9(e,Dae),h=Y1(l,{relative:f.relative}),p=Ua(),g=b.useContext(b9),{navigator:m,basename:v}=b.useContext(Bo),y=g!=null&&Hae(h)&&u===!0,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,_=p.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(_=_.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&v&&(E=Lf(E,v)||E);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=_===x||!a&&_.startsWith(x)&&_.charAt(S)==="/",A=E!=null&&(E===x||!a&&E.startsWith(x)&&E.charAt(x.length)==="/"),T={isActive:j,isPending:A,isTransitioning:y},C=j?r:void 0,k;typeof s=="function"?k=s(T):k=[s,j?"active":null,A?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(T):o;return b.createElement(Wr,mb({},f,{"aria-current":C,className:k,ref:n,style:I,to:l,viewTransition:u}),typeof d=="function"?d(T):d)});var Lj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lj||(Lj={}));var vL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vL||(vL={}));function Bae(t){let e=b.useContext(K1);return e||hn(!1),e}function Wae(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Xi(),u=Ua(),d=Y1(t,{relative:a});return b.useCallback(f=>{if(Rae(f,n)){f.preventDefault();let h=r!==void 0?r:pb(u)===pb(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,t,s,a,o])}function Hae(t,e){e===void 0&&(e={});let n=b.useContext($ae);n==null&&hn(!1);let{basename:r}=Bae(Lj.useViewTransitionState),i=Y1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Lf(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Lf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mj(i.pathname,a)!=null||Mj(i.pathname,s)!=null}var qae=t=>{switch(t){case"success":return Yae;case"info":return Qae;case"warning":return Xae;case"error":return Zae;default:return null}},Kae=Array(12).fill(0),Gae=({visible:t,className:e})=>M.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},M.createElement("div",{className:"sonner-spinner"},Kae.map((n,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Yae=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xae=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qae=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Zae=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Jae=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eoe=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},$j=1,toe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:$j++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,a,o=i.then(async u=>{if(a=["resolve",u],M.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(roe(u)&&!u.ok){s=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){s=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>o.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||$j++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ai=new toe,noe=(t,e)=>{let n=(e==null?void 0:e.id)||$j++;return ai.addToast({title:t,...e,id:n}),n},roe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ioe=noe,soe=()=>ai.toasts,aoe=()=>ai.getActiveToasts(),me=Object.assign(ioe,{success:ai.success,info:ai.info,warning:ai.warning,error:ai.error,custom:ai.custom,message:ai.message,promise:ai.promise,dismiss:ai.dismiss,loading:ai.loading},{getHistory:soe,getToasts:aoe});function ooe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ooe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function T0(t){return t.label!==void 0}var loe=3,coe="32px",uoe="16px",yL=4e3,doe=356,foe=14,hoe=20,poe=200;function Ts(...t){return t.filter(Boolean).join(" ")}function moe(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var goe=t=>{var e,n,r,i,s,a,o,l,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:y,heights:x,index:_,toasts:E,expanded:S,removeToast:j,defaultRichColors:A,closeButton:T,style:C,cancelButtonStyle:k,actionButtonStyle:I,className:N="",descriptionClassName:O="",duration:D,position:V,gap:U,loadingIcon:z,expandByDefault:L,classNames:F,icons:W,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:Q}=t,[ie,xe]=M.useState(null),[Pe,he]=M.useState(null),[q,oe]=M.useState(!1),[Z,J]=M.useState(!1),[ee,H]=M.useState(!1),[Ae,je]=M.useState(!1),[$e,de]=M.useState(!1),[Ve,bt]=M.useState(0),[pe,ut]=M.useState(0),ht=M.useRef(p.duration||D||yL),B=M.useRef(null),Y=M.useRef(null),re=_===0,we=_+1<=y,ce=p.type,le=p.dismissible!==!1,Ce=p.className||"",pt=p.descriptionClassName||"",Mt=M.useMemo(()=>x.findIndex(Ze=>Ze.toastId===p.id)||0,[x,p.id]),kn=M.useMemo(()=>{var Ze;return(Ze=p.closeButton)!=null?Ze:T},[p.closeButton,T]),ia=M.useMemo(()=>p.duration||D||yL,[p.duration,D]),sa=M.useRef(0),Ti=M.useRef(0),el=M.useRef(0),_s=M.useRef(null),[Ap,tl]=V.split("-"),jp=M.useMemo(()=>x.reduce((Ze,_t,Lt)=>Lt>=Mt?Ze:Ze+_t.height,0),[x,Mt]),Cp=eoe(),$c=p.invert||h,Vc=ce==="loading";Ti.current=M.useMemo(()=>Mt*U+jp,[Mt,jp]),M.useEffect(()=>{ht.current=ia},[ia]),M.useEffect(()=>{oe(!0)},[]),M.useEffect(()=>{let Ze=Y.current;if(Ze){let _t=Ze.getBoundingClientRect().height;return ut(_t),v(Lt=>[{toastId:p.id,height:_t,position:p.position},...Lt]),()=>v(Lt=>Lt.filter(ir=>ir.toastId!==p.id))}},[v,p.id]),M.useLayoutEffect(()=>{if(!q)return;let Ze=Y.current,_t=Ze.style.height;Ze.style.height="auto";let Lt=Ze.getBoundingClientRect().height;Ze.style.height=_t,ut(Lt),v(ir=>ir.find(ri=>ri.toastId===p.id)?ir.map(ri=>ri.toastId===p.id?{...ri,height:Lt}:ri):[{toastId:p.id,height:Lt,position:p.position},...ir])},[q,p.title,p.description,v,p.id]);let Qi=M.useCallback(()=>{J(!0),bt(Ti.current),v(Ze=>Ze.filter(_t=>_t.toastId!==p.id)),setTimeout(()=>{j(p)},poe)},[p,j,v,Ti]);M.useEffect(()=>{if(p.promise&&ce==="loading"||p.duration===1/0||p.type==="loading")return;let Ze;return S||m||Q&&Cp?(()=>{if(el.current<sa.current){let _t=new Date().getTime()-sa.current;ht.current=ht.current-_t}el.current=new Date().getTime()})():ht.current!==1/0&&(sa.current=new Date().getTime(),Ze=setTimeout(()=>{var _t;(_t=p.onAutoClose)==null||_t.call(p,p),Qi()},ht.current)),()=>clearTimeout(Ze)},[S,m,p,ce,Q,Cp,Qi]),M.useEffect(()=>{p.delete&&Qi()},[Qi,p.delete]);function Xa(){var Ze,_t,Lt;return W!=null&&W.loading?M.createElement("div",{className:Ts(F==null?void 0:F.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":ce==="loading"},W.loading):z?M.createElement("div",{className:Ts(F==null?void 0:F.loader,(_t=p==null?void 0:p.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":ce==="loading"},z):M.createElement(Gae,{className:Ts(F==null?void 0:F.loader,(Lt=p==null?void 0:p.classNames)==null?void 0:Lt.loader),visible:ce==="loading"})}return M.createElement("li",{tabIndex:0,ref:Y,className:Ts(N,Ce,F==null?void 0:F.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[ce],(n=p==null?void 0:p.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:A,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":q,"data-promise":!!p.promise,"data-swiped":$e,"data-removed":Z,"data-visible":we,"data-y-position":Ap,"data-x-position":tl,"data-index":_,"data-front":re,"data-swiping":ee,"data-dismissible":le,"data-type":ce,"data-invert":$c,"data-swipe-out":Ae,"data-swipe-direction":Pe,"data-expanded":!!(S||L&&q),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${Z?Ve:Ti.current}px`,"--initial-height":L?"auto":`${pe}px`,...C,...p.style},onDragEnd:()=>{H(!1),xe(null),_s.current=null},onPointerDown:Ze=>{Vc||!le||(B.current=new Date,bt(Ti.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(H(!0),_s.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,_t,Lt,ir;if(Ae||!le)return;_s.current=null;let ri=Number(((Ze=Y.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sn=Number(((_t=Y.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),aa=new Date().getTime()-((Lt=B.current)==null?void 0:Lt.getTime()),sr=ie==="x"?ri:sn,ii=Math.abs(sr)/aa;if(Math.abs(sr)>=hoe||ii>.11){bt(Ti.current),(ir=p.onDismiss)==null||ir.call(p,p),he(ie==="x"?ri>0?"right":"left":sn>0?"down":"up"),Qi(),je(!0),de(!1);return}H(!1),xe(null)},onPointerMove:Ze=>{var _t,Lt,ir,ri;if(!_s.current||!le||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let sn=Ze.clientY-_s.current.y,aa=Ze.clientX-_s.current.x,sr=(Lt=t.swipeDirections)!=null?Lt:moe(V);!ie&&(Math.abs(aa)>1||Math.abs(sn)>1)&&xe(Math.abs(aa)>Math.abs(sn)?"x":"y");let ii={x:0,y:0};ie==="y"?(sr.includes("top")||sr.includes("bottom"))&&(sr.includes("top")&&sn<0||sr.includes("bottom")&&sn>0)&&(ii.y=sn):ie==="x"&&(sr.includes("left")||sr.includes("right"))&&(sr.includes("left")&&aa<0||sr.includes("right")&&aa>0)&&(ii.x=aa),(Math.abs(ii.x)>0||Math.abs(ii.y)>0)&&de(!0),(ir=Y.current)==null||ir.style.setProperty("--swipe-amount-x",`${ii.x}px`),(ri=Y.current)==null||ri.style.setProperty("--swipe-amount-y",`${ii.y}px`)}},kn&&!p.jsx?M.createElement("button",{"aria-label":ne,"data-disabled":Vc,"data-close-button":!0,onClick:Vc||!le?()=>{}:()=>{var Ze;Qi(),(Ze=p.onDismiss)==null||Ze.call(p,p)},className:Ts(F==null?void 0:F.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=W==null?void 0:W.close)!=null?s:Jae):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:M.createElement(M.Fragment,null,ce||p.icon||p.promise?M.createElement("div",{"data-icon":"",className:Ts(F==null?void 0:F.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Xa():null,p.type!=="loading"?p.icon||(W==null?void 0:W[ce])||qae(ce):null):null,M.createElement("div",{"data-content":"",className:Ts(F==null?void 0:F.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},M.createElement("div",{"data-title":"",className:Ts(F==null?void 0:F.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?M.createElement("div",{"data-description":"",className:Ts(O,pt,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&T0(p.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:Ze=>{var _t,Lt;T0(p.cancel)&&le&&((Lt=(_t=p.cancel).onClick)==null||Lt.call(_t,Ze),Qi())},className:Ts(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&T0(p.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Ze=>{var _t,Lt;T0(p.action)&&((Lt=(_t=p.action).onClick)==null||Lt.call(_t,Ze),!Ze.defaultPrevented&&Qi())},className:Ts(F==null?void 0:F.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function xL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function voe(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?uoe:coe;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),n}var yoe=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=loe,toastOptions:m,dir:v=xL(),gap:y=foe,loadingIcon:x,icons:_,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:S}=t,[j,A]=M.useState([]),T=M.useMemo(()=>Array.from(new Set([r].concat(j.filter(Q=>Q.position).map(Q=>Q.position)))),[j,r]),[C,k]=M.useState([]),[I,N]=M.useState(!1),[O,D]=M.useState(!1),[V,U]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=M.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=M.useRef(null),W=M.useRef(!1),ne=M.useCallback(Q=>{A(ie=>{var xe;return(xe=ie.find(Pe=>Pe.id===Q.id))!=null&&xe.delete||ai.dismiss(Q.id),ie.filter(({id:Pe})=>Pe!==Q.id)})},[]);return M.useEffect(()=>ai.subscribe(Q=>{if(Q.dismiss){A(ie=>ie.map(xe=>xe.id===Q.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{p9.flushSync(()=>{A(ie=>{let xe=ie.findIndex(Pe=>Pe.id===Q.id);return xe!==-1?[...ie.slice(0,xe),{...ie[xe],...Q},...ie.slice(xe+1)]:[Q,...ie]})})})}),[]),M.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:ie})=>{U(ie?"dark":"light")})}catch{Q.addListener(({matches:xe})=>{try{U(xe?"dark":"light")}catch(Pe){console.error(Pe)}})}},[d]),M.useEffect(()=>{j.length<=1&&N(!1)},[j]),M.useEffect(()=>{let Q=ie=>{var xe,Pe;i.every(he=>ie[he]||ie.code===he)&&(N(!0),(xe=z.current)==null||xe.focus()),ie.code==="Escape"&&(document.activeElement===z.current||(Pe=z.current)!=null&&Pe.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[i]),M.useEffect(()=>{if(z.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[z.current]),M.createElement("section",{ref:e,"aria-label":`${E} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Q,ie)=>{var xe;let[Pe,he]=Q.split("-");return j.length?M.createElement("ol",{key:Q,dir:v==="auto"?xL():v,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":Pe,"data-lifted":I&&j.length>1&&!s,"data-x-position":he,style:{"--front-toast-height":`${((xe=C[0])==null?void 0:xe.height)||0}px`,"--width":`${doe}px`,"--gap":`${y}px`,...p,...voe(l,u)},onBlur:q=>{W.current&&!q.currentTarget.contains(q.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=q.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{O||N(!1)},onDragEnd:()=>N(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},j.filter(q=>!q.position&&ie===0||q.position===Q).map((q,oe)=>{var Z,J;return M.createElement(goe,{key:q.id,icons:_,index:oe,toast:q,defaultRichColors:f,duration:(Z=m==null?void 0:m.duration)!=null?Z:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:g,closeButton:(J=m==null?void 0:m.closeButton)!=null?J:a,interacting:O,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ne,toasts:j.filter(ee=>ee.position==q.position),heights:C.filter(ee=>ee.position==q.position),setHeights:k,expandByDefault:s,gap:y,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});function xoe({...t}){return c.jsx(yoe,{className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}const boe=()=>{};var bL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},woe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},k9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):woe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new _oe;const h=s<<2|o>>4;if(r.push(h),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Soe=function(t){const e=P9(t);return k9.encodeByteArray(e,!0)},gb=function(t){return Soe(t).replace(/\./g,"")},N9=function(t){try{return k9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eoe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Toe=()=>Eoe().__FIREBASE_DEFAULTS__,Aoe=()=>{if(typeof process>"u"||typeof bL>"u")return;const t=bL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},joe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N9(t[1]);return e&&JSON.parse(e)},X1=()=>{try{return boe()||Toe()||Aoe()||joe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I9=t=>{var e,n;return(n=(e=X1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},O9=t=>{const e=I9(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},R9=()=>{var t;return(t=X1())===null||t===void 0?void 0:t.config},M9=t=>{var e;return(e=X1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gb(JSON.stringify(n)),gb(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Poe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mr())}function koe(){var t;const e=(t=X1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Noe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ioe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ooe(){const t=Mr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Roe(){return!koe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $9(){try{return typeof indexedDB=="object"}catch{return!1}}function V9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Moe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Doe="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Doe,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Loe(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ys(i,o,r)}}function Loe(t,e){return t.replace($oe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $oe=/\{\$([^}]+)}/g;function Voe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(wL(s)&&wL(a)){if(!jo(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Foe(t,e){const n=new zoe(t,e);return n.subscribe.bind(n)}class zoe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Uoe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=iT),i.error===void 0&&(i.error=iT),i.complete===void 0&&(i.complete=iT);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uoe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function iT(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Boe=1e3,Woe=2,Hoe=4*60*60*1e3,qoe=.5;function _L(t,e=Boe,n=Woe){const r=e*Math.pow(n,t),i=Math.round(qoe*r*(Math.random()-.5)*2);return Math.min(Hoe,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){return t.endsWith(".cloudworkstations.dev")}async function Q1(t){return(await fetch(t,{credentials:"include"})).ok}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Koe=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Coe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yoe(e))try{this.getOrInitializeService({instanceIdentifier:Yc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yc){return this.instances.has(e)}getOptions(e=Yc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Goe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yc){return this.component?this.component.multipleInstances?e:Yc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Goe(t){return t===Yc?void 0:t}function Yoe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Koe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const Qoe={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},Zoe=yt.INFO,Joe={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},ele=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Joe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z1{constructor(e){this.name=e,this._logLevel=Zoe,this._logHandler=ele,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qoe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const tle=(t,e)=>e.some(n=>t instanceof n);let SL,EL;function nle(){return SL||(SL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rle(){return EL||(EL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F9=new WeakMap,Vj=new WeakMap,z9=new WeakMap,sT=new WeakMap,WN=new WeakMap;function ile(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Yl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&F9.set(n,t)}).catch(()=>{}),WN.set(e,t),e}function sle(t){if(Vj.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Vj.set(t,e)}let Fj={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vj.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ale(t){Fj=t(Fj)}function ole(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(aT(this),e,...n);return z9.set(r,e.sort?e.sort():[e]),Yl(r)}:rle().includes(t)?function(...e){return t.apply(aT(this),e),Yl(F9.get(this))}:function(...e){return Yl(t.apply(aT(this),e))}}function lle(t){return typeof t=="function"?ole(t):(t instanceof IDBTransaction&&sle(t),tle(t,nle())?new Proxy(t,Fj):t)}function Yl(t){if(t instanceof IDBRequest)return ile(t);if(sT.has(t))return sT.get(t);const e=lle(t);return e!==t&&(sT.set(t,e),WN.set(e,t)),e}const aT=t=>WN.get(t);function U9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Yl(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Yl(a.result),l.oldVersion,l.newVersion,Yl(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const cle=["get","getKey","getAll","getAllKeys","count"],ule=["put","add","delete","clear"],oT=new Map;function TL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oT.get(e))return oT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ule.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cle.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return oT.set(e,s),s}ale(t=>({...t,get:(e,n,r)=>TL(e,n)||t.get(e,n,r),has:(e,n)=>!!TL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fle(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fle(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zj="@firebase/app",AL="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new Z1("@firebase/app"),hle="@firebase/app-compat",ple="@firebase/analytics-compat",mle="@firebase/analytics",gle="@firebase/app-check-compat",vle="@firebase/app-check",yle="@firebase/auth",xle="@firebase/auth-compat",ble="@firebase/database",wle="@firebase/data-connect",_le="@firebase/database-compat",Sle="@firebase/functions",Ele="@firebase/functions-compat",Tle="@firebase/installations",Ale="@firebase/installations-compat",jle="@firebase/messaging",Cle="@firebase/messaging-compat",Ple="@firebase/performance",kle="@firebase/performance-compat",Nle="@firebase/remote-config",Ile="@firebase/remote-config-compat",Ole="@firebase/storage",Rle="@firebase/storage-compat",Mle="@firebase/firestore",Dle="@firebase/vertexai",Lle="@firebase/firestore-compat",$le="firebase",Vle="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="[DEFAULT]",Fle={[zj]:"fire-core",[hle]:"fire-core-compat",[mle]:"fire-analytics",[ple]:"fire-analytics-compat",[vle]:"fire-app-check",[gle]:"fire-app-check-compat",[yle]:"fire-auth",[xle]:"fire-auth-compat",[ble]:"fire-rtdb",[wle]:"fire-data-connect",[_le]:"fire-rtdb-compat",[Sle]:"fire-fn",[Ele]:"fire-fn-compat",[Tle]:"fire-iid",[Ale]:"fire-iid-compat",[jle]:"fire-fcm",[Cle]:"fire-fcm-compat",[Ple]:"fire-perf",[kle]:"fire-perf-compat",[Nle]:"fire-rc",[Ile]:"fire-rc-compat",[Ole]:"fire-gcs",[Rle]:"fire-gcs-compat",[Mle]:"fire-fst",[Lle]:"fire-fst-compat",[Dle]:"fire-vertex","fire-js":"fire-js",[$le]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new Map,zle=new Map,Bj=new Map;function jL(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Bj.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;Bj.set(e,t);for(const n of jg.values())jL(n,t);for(const n of zle.values())jL(n,t);return!0}function Ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ule={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xl=new Ju("app","Firebase",Ule);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=Vle;function HN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uj,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xl.create("bad-app-name",{appName:String(i)});if(n||(n=R9()),!n)throw Xl.create("no-options");const s=jg.get(i);if(s){if(jo(n,s.options)&&jo(r,s.config))return s;throw Xl.create("duplicate-app",{appName:i})}const a=new Xoe(i);for(const l of Bj.values())a.addComponent(l);const o=new Ble(n,r,a);return jg.set(i,o),o}function Zv(t=Uj){const e=jg.get(t);if(!e&&t===Uj&&R9())return HN();if(!e)throw Xl.create("no-app",{appName:t});return e}function Wle(){return Array.from(jg.values())}function vi(t,e,n){var r;let i=(r=Fle[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(o.join(" "));return}Gs(new ps(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle="firebase-heartbeat-database",qle=1,Cg="firebase-heartbeat-store";let lT=null;function B9(){return lT||(lT=U9(Hle,qle,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xl.create("idb-open",{originalErrorMessage:t.message})})),lT}async function Kle(t){try{const n=(await B9()).transaction(Cg),r=await n.objectStore(Cg).get(W9(t));return await n.done,r}catch(e){if(e instanceof ys)Co.warn(e.message);else{const n=Xl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function CL(t,e){try{const r=(await B9()).transaction(Cg,"readwrite");await r.objectStore(Cg).put(e,W9(t)),await r.done}catch(n){if(n instanceof ys)Co.warn(n.message);else{const r=Xl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(r.message)}}}function W9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gle=1024,Yle=30;class Xle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PL();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Yle){const a=Jle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Co.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PL(),{heartbeatsToSend:r,unsentEntries:i}=Qle(this._heartbeatsCache.heartbeats),s=gb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Co.warn(n),""}}}function PL(){return new Date().toISOString().substring(0,10)}function Qle(t,e=Gle){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),kL(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $9()?V9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return CL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kL(t){return gb(JSON.stringify({version:2,heartbeats:t})).length}function Jle(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(t){Gs(new ps("platform-logger",e=>new dle(e),"PRIVATE")),Gs(new ps("heartbeat",e=>new Xle(e),"PRIVATE")),vi(zj,AL,t),vi(zj,AL,"esm2017"),vi("fire-js","")}ece("");var da=function(){return da=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},da.apply(this,arguments)};function Jv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tce(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function H9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nce=H9,q9=new Ju("auth","Firebase",H9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Z1("@firebase/auth");function rce(t,...e){vb.logLevel<=yt.WARN&&vb.warn(`Auth (${ed}): ${t}`,...e)}function yx(t,...e){vb.logLevel<=yt.ERROR&&vb.error(`Auth (${ed}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,...e){throw qN(t,...e)}function _a(t,...e){return qN(t,...e)}function K9(t,e,n){const r=Object.assign(Object.assign({},nce()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function Sa(t){return K9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q9.create(t,...e)}function Ke(t,e,...n){if(!t)throw qN(e,...n)}function co(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yx(e),new Error(e)}function Po(t,e){t||co(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ice(){return NL()==="http:"||NL()==="https:"}function NL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sce(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ice()||L9()||"connection"in navigator)?navigator.onLine:!0}function ace(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.shortDelay=e,this.longDelay=n,Po(n>e,"Short delay should be less than long delay!"),this.isMobile=Poe()||Ioe()}get(){return sce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){Po(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cce=new ey(3e4,6e4);function Sc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qo(t,e,n,r,i={}){return Y9(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Qv(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return Noe()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Bh(t.emulatorConfig.host)&&(u.credentials="include"),G9.fetch()(await X9(t,t.config.apiHost,n,o),u)})}async function Y9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oce),e);try{const i=new dce(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw A0(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw A0(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw A0(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw A0(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw K9(t,d,u);Ys(t,d)}}catch(i){if(i instanceof ys)throw i;Ys(t,"network-request-failed",{message:String(i)})}}async function ty(t,e,n,r,i={}){const s=await qo(t,e,n,r,i);return"mfaPendingCredential"in s&&Ys(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function X9(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?KN(t.config,i):`${t.config.apiScheme}://${i}`;return lce.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function uce(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dce{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_a(this.auth,"network-request-failed")),cce.get())})}}function A0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_a(t,e,r);return i.customData._tokenResponse=n,i}function IL(t){return t!==void 0&&t.enterprise!==void 0}class fce{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uce(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hce(t,e){return qo(t,"GET","/v2/recaptchaConfig",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pce(t,e){return qo(t,"POST","/v1/accounts:delete",e)}async function yb(t,e){return qo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mce(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=GN(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lm(cT(i.auth_time)),issuedAtTime:Lm(cT(i.iat)),expirationTime:Lm(cT(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function cT(t){return Number(t)*1e3}function GN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yx("JWT malformed, contained fewer than 3 sections"),null;try{const i=N9(n);return i?JSON.parse(i):(yx("Failed to decode base64 JWT payload"),null)}catch(i){return yx("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function OL(t){const e=GN(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&gce(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gce({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lm(this.lastLoginAt),this.creationTime=Lm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $f(t,yb(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Q9(s.providerUserInfo):[],o=xce(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Hj(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function yce(t){const e=zt(t);await xb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xce(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q9(t){return t.map(e=>{var{providerId:n}=e,r=Jv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bce(t,e){const n=await Y9(t,{},async()=>{const r=Qv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await X9(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",G9.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wce(t,e){return qo(t,"POST","/v2/accounts:revokeToken",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=OL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bce(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new pf;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ke(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pf,this.toJSON())}_performRefresh(){return co("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hj(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $f(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mce(this,e)}reload(){return yce(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Sa(this.auth));const e=await this.getIdToken();return await $f(this,pce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,m=(o=n.tenantId)!==null&&o!==void 0?o:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:j,stsTokenManager:A}=n;Ke(_&&A,e,"internal-error");const T=pf.fromJSON(this.name,A);Ke(typeof _=="string",e,"internal-error"),al(f,e.name),al(h,e.name),Ke(typeof E=="boolean",e,"internal-error"),Ke(typeof S=="boolean",e,"internal-error"),al(p,e.name),al(g,e.name),al(m,e.name),al(v,e.name),al(y,e.name),al(x,e.name);const C=new $s({uid:_,auth:e,email:h,emailVerified:E,displayName:f,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:m,stsTokenManager:T,createdAt:y,lastLoginAt:x});return j&&Array.isArray(j)&&(C.providerData=j.map(k=>Object.assign({},k))),v&&(C._redirectEventId=v),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new pf;i.updateFromServerResponse(n);const s=new $s({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xb(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Q9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new pf;o.updateFromIdToken(r);const l=new $s({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hj(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Map;function uo(t){Po(t instanceof Function,"Expected a class definition");let e=RL.get(t);return e?(Po(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z9.type="NONE";const ML=Z9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e,n){return`firebase:${t}:${e}:${n}`}class mf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xx(this.userKey,i.apiKey,s),this.fullPersistenceKey=xx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yb(this.auth,{idToken:e}).catch(()=>{});return n?$s._fromGetAccountInfoResponse(this.auth,n,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mf(uo(ML),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||uo(ML);const a=xx(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const h=await yb(e,{idToken:d}).catch(()=>{});if(!h)break;f=await $s._fromGetAccountInfoResponse(e,h,d)}else f=$s._fromJSON(e,d);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mf(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new mf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i8(e))return"Blackberry";if(s8(e))return"Webos";if(e8(e))return"Safari";if((e.includes("chrome/")||t8(e))&&!e.includes("edge/"))return"Chrome";if(r8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J9(t=Mr()){return/firefox\//i.test(t)}function e8(t=Mr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t8(t=Mr()){return/crios\//i.test(t)}function n8(t=Mr()){return/iemobile/i.test(t)}function r8(t=Mr()){return/android/i.test(t)}function i8(t=Mr()){return/blackberry/i.test(t)}function s8(t=Mr()){return/webos/i.test(t)}function YN(t=Mr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _ce(t=Mr()){var e;return YN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Sce(){return Ooe()&&document.documentMode===10}function a8(t=Mr()){return YN(t)||r8(t)||s8(t)||i8(t)||/windows phone/i.test(t)||n8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e=[]){let n;switch(t){case"Browser":n=DL(Mr());break;case"Worker":n=`${DL(Mr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ed}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tce(t,e={}){return qo(t,"GET","/v2/passwordPolicy",Sc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ace=6;class jce{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Ace,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LL(this),this.idTokenSubscription=new LL(this),this.beforeStateQueue=new Ece(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=uo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await mf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yb(this,{idToken:e}),r=await $s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ci(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ace()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Sa(this));const n=e?zt(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(uo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tce(this),n=new jce(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wce(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&uo(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await mf.create(this,[uo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rce(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ec(t){return zt(t)}class LL{constructor(e){this.auth=e,this.observer=null,this.addObserver=Foe(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pce(t){J1=t}function l8(t){return J1.loadJS(t)}function kce(){return J1.recaptchaEnterpriseScript}function Nce(){return J1.gapiScript}function Ice(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Oce{constructor(){this.enterprise=new Rce}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Rce{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Mce="recaptcha-enterprise",c8="NO_RECAPTCHA";class Dce{constructor(e){this.type=Mce,this.auth=Ec(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{hce(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new fce(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;IL(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(c8)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Oce().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&IL(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=kce();l.length!==0&&(l+=o),l8(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function $L(t,e,n,r=!1,i=!1){const s=new Dce(t);let a;if(i)a=c8;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qj(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $L(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $L(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lce(t,e){const n=Ho(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(jo(s,e??{}))return i;Ys(i,"already-initialized")}return n.initialize({options:e})}function $ce(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(uo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Vce(t,e,n){const r=Ec(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=u8(e),{host:a,port:o}=Fce(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(jo(u,r.config.emulator)&&jo(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,zce(),Bh(a)&&Q1(`${s}//${a}${l}`)}function u8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fce(t){const e=u8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VL(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:VL(a)}}}function VL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zce(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return co("not implemented")}_getIdTokenResponse(e){return co("not implemented")}_linkToIdToken(e,n){return co("not implemented")}_getReauthenticationResolver(e){return co("not implemented")}}async function Uce(t,e){return qo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bce(t,e){return ty(t,"POST","/v1/accounts:signInWithPassword",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wce(t,e){return ty(t,"POST","/v1/accounts:signInWithEmailLink",Sc(t,e))}async function Hce(t,e){return ty(t,"POST","/v1/accounts:signInWithEmailLink",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends XN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qj(e,n,"signInWithPassword",Bce);case"emailLink":return Wce(e,{email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qj(e,r,"signUpPassword",Uce);case"emailLink":return Hce(e,{idToken:n,email:this._email,oobCode:this._password});default:Ys(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t,e){return ty(t,"POST","/v1/accounts:signInWithIdp",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qce="http://localhost";class Cu extends XN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ys("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jv(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Cu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return gf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gf(e,n)}buildRequest(){const e={requestUri:qce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gce(t){const e=fm(hm(t)).link,n=e?fm(hm(e)).deep_link_id:null,r=fm(hm(t)).deep_link_id;return(r?fm(hm(r)).link:null)||r||n||e||t}class QN{constructor(e){var n,r,i,s,a,o;const l=fm(hm(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Kce((i=l.mode)!==null&&i!==void 0?i:null);Ke(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=Gce(e);try{return new QN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.providerId=Wh.PROVIDER_ID}static credential(e,n){return Pg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=QN.parseLink(n);return Ke(r,"argument-error"),Pg._fromEmailAndCode(e,r.code,r.tenantId)}}Wh.PROVIDER_ID="password";Wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny extends d8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends ny{constructor(){super("facebook.com")}static credential(e){return Cu._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wl.credential(e.oauthAccessToken)}catch{return null}}}wl.FACEBOOK_SIGN_IN_METHOD="facebook.com";wl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends ny{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _l.credential(n,r)}catch{return null}}}_l.GOOGLE_SIGN_IN_METHOD="google.com";_l.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends ny{constructor(){super("github.com")}static credential(e){return Cu._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sl.credentialFromTaggedObject(e)}static credentialFromError(e){return Sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sl.credential(e.oauthAccessToken)}catch{return null}}}Sl.GITHUB_SIGN_IN_METHOD="github.com";Sl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends ny{constructor(){super("twitter.com")}static credential(e,n){return Cu._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return El.credential(n,r)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){return ty(t,"POST","/v1/accounts:signUp",Sc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $s._fromIdTokenResponse(e,r,i),a=FL(r);return new ko({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FL(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yce(t){var e;if(ci(t.app))return Promise.reject(Sa(t));const n=Ec(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ko({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await f8(n,{returnSecureToken:!0}),i=await ko._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends ys{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bb.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new bb(e,n,r,i)}}function h8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bb._fromErrorAndOperation(t,s,e,r):s})}async function Xce(t,e,n=!1){const r=await $f(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qce(t,e,n=!1){const{auth:r}=t;if(ci(r.app))return Promise.reject(Sa(r));const i="reauthenticate";try{const s=await $f(t,h8(r,i,e,t),n);Ke(s.idToken,r,"internal-error");const a=GN(s.idToken);Ke(a,r,"internal-error");const{sub:o}=a;return Ke(t.uid===o,r,"user-mismatch"),ko._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ys(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e,n=!1){if(ci(t.app))return Promise.reject(Sa(t));const r="signIn",i=await h8(t,r,e),s=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Zce(t,e){return p8(Ec(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t){const e=Ec(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kj(t,e,n){if(ci(t.app))return Promise.reject(Sa(t));const r=Ec(t),a=await qj(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&m8(t),l}),o=await ko._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Jce(t,e,n){return ci(t.app)?Promise.reject(Sa(t)):Zce(zt(t),Wh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&m8(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eue(t,e){return qo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=zt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await $f(r,eue(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const o=r.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t,e){return zt(t).setPersistence(e)}function nue(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function rue(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function iue(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function wb(t){return zt(t).signOut()}const _b="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_b,"1"),this.storage.removeItem(_b),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sue=1e3,aue=10;class v8 extends g8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Sce()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aue):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v8.type="LOCAL";const y8=v8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8 extends g8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x8.type="SESSION";const b8=x8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new e_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await oue(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=ZN("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(){return window}function cue(t){Ea().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){return typeof Ea().WorkerGlobalScope<"u"&&typeof Ea().importScripts=="function"}async function uue(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function due(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fue(){return w8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="firebaseLocalStorageDb",hue=1,Sb="firebaseLocalStorage",S8="fbase_key";class ry{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function t_(t,e){return t.transaction([Sb],e?"readwrite":"readonly").objectStore(Sb)}function pue(){const t=indexedDB.deleteDatabase(_8);return new ry(t).toPromise()}function Yj(){const t=indexedDB.open(_8,hue);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sb,{keyPath:S8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sb)?e(r):(r.close(),await pue(),e(await Yj()))})})}async function zL(t,e,n){const r=t_(t,!0).put({[S8]:e,value:n});return new ry(r).toPromise()}async function mue(t,e){const n=t_(t,!1).get(e),r=await new ry(n).toPromise();return r===void 0?null:r.value}function UL(t,e){const n=t_(t,!0).delete(e);return new ry(n).toPromise()}const gue=800,vue=3;class E8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yj(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vue)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e_._getInstance(fue()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uue(),!this.activeServiceWorker)return;this.sender=new lue(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||due()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yj();return await zL(e,_b,"1"),await UL(e,_b),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mue(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=t_(i,!1).getAll();return new ry(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gue)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E8.type="LOCAL";const yue=E8;new ey(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xue(t,e){return e?uo(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN extends XN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bue(t){return p8(t.auth,new JN(t),t.bypassAuthState)}function wue(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),Qce(n,new JN(t),t.bypassAuthState)}async function _ue(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),Xce(n,new JN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bue;case"linkViaPopup":case"linkViaRedirect":return _ue;case"reauthViaPopup":case"reauthViaRedirect":return wue;default:Ys(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue=new ey(2e3,1e4);class Yd extends T8{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Yd.currentPopupAction&&Yd.currentPopupAction.cancel(),Yd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Po(this.filter.length===1,"Popup operations only handle one event");const e=ZN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_a(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_a(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sue.get())};e()}}Yd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eue="pendingRedirect",bx=new Map;class Tue extends T8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bx.get(this.auth._key());if(!e){try{const r=await Aue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bx.set(this.auth._key(),e)}return this.bypassAuthState||bx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aue(t,e){const n=Pue(e),r=Cue(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jue(t,e){bx.set(t._key(),e)}function Cue(t){return uo(t._redirectPersistence)}function Pue(t){return xx(Eue,t.config.apiKey,t.name)}async function kue(t,e,n=!1){if(ci(t.app))return Promise.reject(Sa(t));const r=Ec(t),i=xue(r,e),a=await new Tue(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nue=10*60*1e3;class Iue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Oue(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A8(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_a(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nue&&this.cachedEventUids.clear(),this.cachedEventUids.has(BL(e))}saveEventToCache(e){this.cachedEventUids.add(BL(e)),this.lastProcessedEventTime=Date.now()}}function BL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Oue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rue(t,e={}){return qo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Due=/^https?/;async function Lue(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Rue(t);for(const n of e)try{if($ue(n))return}catch{}Ys(t,"unauthorized-domain")}function $ue(t){const e=Wj(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Due.test(n))return!1;if(Mue.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue=new ey(3e4,6e4);function WL(){const t=Ea().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Fue(t){return new Promise((e,n)=>{var r,i,s;function a(){WL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WL(),n(_a(t,"network-request-failed"))},timeout:Vue.get()})}if(!((i=(r=Ea().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ea().gapi)===null||s===void 0)&&s.load)a();else{const o=Ice("iframefcb");return Ea()[o]=()=>{gapi.load?a():n(_a(t,"network-request-failed"))},l8(`${Nce()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw wx=null,e})}let wx=null;function zue(t){return wx=wx||Fue(t),wx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=new ey(5e3,15e3),Bue="__/auth/iframe",Wue="emulator/auth/iframe",Hue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},que=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kue(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?KN(e,Wue):`https://${t.config.authDomain}/${Bue}`,r={apiKey:e.apiKey,appName:t.name,v:ed},i=que.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qv(r).slice(1)}`}async function Gue(t){const e=await zue(t),n=Ea().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:Kue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hue,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=_a(t,"network-request-failed"),o=Ea().setTimeout(()=>{s(a)},Uue.get());function l(){Ea().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xue=500,Que=600,Zue="_blank",Jue="http://localhost";class HL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ede(t,e,n,r=Xue,i=Que){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Yue),{width:r.toString(),height:i.toString(),top:s,left:a}),u=Mr().toLowerCase();n&&(o=t8(u)?Zue:n),J9(u)&&(e=e||Jue,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(_ce(u)&&o!=="_self")return tde(e||"",o),new HL(null);const f=window.open(e||"",o,d);Ke(f,t,"popup-blocked");try{f.focus()}catch{}return new HL(f)}function tde(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nde="__/auth/handler",rde="emulator/auth/handler",ide=encodeURIComponent("fac");async function qL(t,e,n,r,i,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ed,eventId:i};if(e instanceof d8){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Voe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof ny){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${ide}=${encodeURIComponent(l)}`:"";return`${sde(t)}?${Qv(o).slice(1)}${u}`}function sde({config:t}){return t.emulator?KN(t,rde):`https://${t.authDomain}/${nde}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="webStorageSupport";class ade{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b8,this._completeRedirectFn=kue,this._overrideRedirectResult=jue}async _openPopup(e,n,r,i){var s;Po((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await qL(e,n,r,Wj(),i);return ede(e,a,ZN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await qL(e,n,r,Wj(),i);return cue(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Po(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Gue(e),r=new Iue(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uT,{type:uT},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[uT];a!==void 0&&n(!!a),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lue(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return a8()||e8()||YN()}}const ode=ade;var KL="@firebase/auth",GL="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lde{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cde(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ude(t){Gs(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ke(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o8(t)},u=new Cce(r,i,s,l);return $ce(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new ps("auth-internal",e=>{const n=Ec(e.getProvider("auth").getImmediate());return(r=>new lde(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(KL,GL,cde(t)),vi(KL,GL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dde=5*60,fde=M9("authIdTokenMaxAge")||dde;let YL=null;const hde=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fde)return;const i=n==null?void 0:n.token;YL!==i&&(YL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function j8(t=Zv()){const e=Ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lce(t,{popupRedirectResolver:ode,persistence:[yue,y8,b8]}),r=M9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=hde(s.toString());rue(n,a,()=>a(n.currentUser)),nue(n,o=>a(o))}}const i=I9("auth");return i&&Vce(n,`http://${i}`),n}function pde(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Pce({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_a("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pde().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ude("Browser");var XL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ql,C8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function C(){}C.prototype=T.prototype,A.D=T.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(k,I,N){for(var O=Array(arguments.length-2),D=2;D<arguments.length;D++)O[D-2]=arguments[D];return T.prototype[I].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,C){C||(C=0);var k=Array(16);if(typeof T=="string")for(var I=0;16>I;++I)k[I]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(I=0;16>I;++I)k[I]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=A.g[0],C=A.g[1],I=A.g[2];var N=A.g[3],O=T+(N^C&(I^N))+k[0]+3614090360&4294967295;T=C+(O<<7&4294967295|O>>>25),O=N+(I^T&(C^I))+k[1]+3905402710&4294967295,N=T+(O<<12&4294967295|O>>>20),O=I+(C^N&(T^C))+k[2]+606105819&4294967295,I=N+(O<<17&4294967295|O>>>15),O=C+(T^I&(N^T))+k[3]+3250441966&4294967295,C=I+(O<<22&4294967295|O>>>10),O=T+(N^C&(I^N))+k[4]+4118548399&4294967295,T=C+(O<<7&4294967295|O>>>25),O=N+(I^T&(C^I))+k[5]+1200080426&4294967295,N=T+(O<<12&4294967295|O>>>20),O=I+(C^N&(T^C))+k[6]+2821735955&4294967295,I=N+(O<<17&4294967295|O>>>15),O=C+(T^I&(N^T))+k[7]+4249261313&4294967295,C=I+(O<<22&4294967295|O>>>10),O=T+(N^C&(I^N))+k[8]+1770035416&4294967295,T=C+(O<<7&4294967295|O>>>25),O=N+(I^T&(C^I))+k[9]+2336552879&4294967295,N=T+(O<<12&4294967295|O>>>20),O=I+(C^N&(T^C))+k[10]+4294925233&4294967295,I=N+(O<<17&4294967295|O>>>15),O=C+(T^I&(N^T))+k[11]+2304563134&4294967295,C=I+(O<<22&4294967295|O>>>10),O=T+(N^C&(I^N))+k[12]+1804603682&4294967295,T=C+(O<<7&4294967295|O>>>25),O=N+(I^T&(C^I))+k[13]+4254626195&4294967295,N=T+(O<<12&4294967295|O>>>20),O=I+(C^N&(T^C))+k[14]+2792965006&4294967295,I=N+(O<<17&4294967295|O>>>15),O=C+(T^I&(N^T))+k[15]+1236535329&4294967295,C=I+(O<<22&4294967295|O>>>10),O=T+(I^N&(C^I))+k[1]+4129170786&4294967295,T=C+(O<<5&4294967295|O>>>27),O=N+(C^I&(T^C))+k[6]+3225465664&4294967295,N=T+(O<<9&4294967295|O>>>23),O=I+(T^C&(N^T))+k[11]+643717713&4294967295,I=N+(O<<14&4294967295|O>>>18),O=C+(N^T&(I^N))+k[0]+3921069994&4294967295,C=I+(O<<20&4294967295|O>>>12),O=T+(I^N&(C^I))+k[5]+3593408605&4294967295,T=C+(O<<5&4294967295|O>>>27),O=N+(C^I&(T^C))+k[10]+38016083&4294967295,N=T+(O<<9&4294967295|O>>>23),O=I+(T^C&(N^T))+k[15]+3634488961&4294967295,I=N+(O<<14&4294967295|O>>>18),O=C+(N^T&(I^N))+k[4]+3889429448&4294967295,C=I+(O<<20&4294967295|O>>>12),O=T+(I^N&(C^I))+k[9]+568446438&4294967295,T=C+(O<<5&4294967295|O>>>27),O=N+(C^I&(T^C))+k[14]+3275163606&4294967295,N=T+(O<<9&4294967295|O>>>23),O=I+(T^C&(N^T))+k[3]+4107603335&4294967295,I=N+(O<<14&4294967295|O>>>18),O=C+(N^T&(I^N))+k[8]+1163531501&4294967295,C=I+(O<<20&4294967295|O>>>12),O=T+(I^N&(C^I))+k[13]+2850285829&4294967295,T=C+(O<<5&4294967295|O>>>27),O=N+(C^I&(T^C))+k[2]+4243563512&4294967295,N=T+(O<<9&4294967295|O>>>23),O=I+(T^C&(N^T))+k[7]+1735328473&4294967295,I=N+(O<<14&4294967295|O>>>18),O=C+(N^T&(I^N))+k[12]+2368359562&4294967295,C=I+(O<<20&4294967295|O>>>12),O=T+(C^I^N)+k[5]+4294588738&4294967295,T=C+(O<<4&4294967295|O>>>28),O=N+(T^C^I)+k[8]+2272392833&4294967295,N=T+(O<<11&4294967295|O>>>21),O=I+(N^T^C)+k[11]+1839030562&4294967295,I=N+(O<<16&4294967295|O>>>16),O=C+(I^N^T)+k[14]+4259657740&4294967295,C=I+(O<<23&4294967295|O>>>9),O=T+(C^I^N)+k[1]+2763975236&4294967295,T=C+(O<<4&4294967295|O>>>28),O=N+(T^C^I)+k[4]+1272893353&4294967295,N=T+(O<<11&4294967295|O>>>21),O=I+(N^T^C)+k[7]+4139469664&4294967295,I=N+(O<<16&4294967295|O>>>16),O=C+(I^N^T)+k[10]+3200236656&4294967295,C=I+(O<<23&4294967295|O>>>9),O=T+(C^I^N)+k[13]+681279174&4294967295,T=C+(O<<4&4294967295|O>>>28),O=N+(T^C^I)+k[0]+3936430074&4294967295,N=T+(O<<11&4294967295|O>>>21),O=I+(N^T^C)+k[3]+3572445317&4294967295,I=N+(O<<16&4294967295|O>>>16),O=C+(I^N^T)+k[6]+76029189&4294967295,C=I+(O<<23&4294967295|O>>>9),O=T+(C^I^N)+k[9]+3654602809&4294967295,T=C+(O<<4&4294967295|O>>>28),O=N+(T^C^I)+k[12]+3873151461&4294967295,N=T+(O<<11&4294967295|O>>>21),O=I+(N^T^C)+k[15]+530742520&4294967295,I=N+(O<<16&4294967295|O>>>16),O=C+(I^N^T)+k[2]+3299628645&4294967295,C=I+(O<<23&4294967295|O>>>9),O=T+(I^(C|~N))+k[0]+4096336452&4294967295,T=C+(O<<6&4294967295|O>>>26),O=N+(C^(T|~I))+k[7]+1126891415&4294967295,N=T+(O<<10&4294967295|O>>>22),O=I+(T^(N|~C))+k[14]+2878612391&4294967295,I=N+(O<<15&4294967295|O>>>17),O=C+(N^(I|~T))+k[5]+4237533241&4294967295,C=I+(O<<21&4294967295|O>>>11),O=T+(I^(C|~N))+k[12]+1700485571&4294967295,T=C+(O<<6&4294967295|O>>>26),O=N+(C^(T|~I))+k[3]+2399980690&4294967295,N=T+(O<<10&4294967295|O>>>22),O=I+(T^(N|~C))+k[10]+4293915773&4294967295,I=N+(O<<15&4294967295|O>>>17),O=C+(N^(I|~T))+k[1]+2240044497&4294967295,C=I+(O<<21&4294967295|O>>>11),O=T+(I^(C|~N))+k[8]+1873313359&4294967295,T=C+(O<<6&4294967295|O>>>26),O=N+(C^(T|~I))+k[15]+4264355552&4294967295,N=T+(O<<10&4294967295|O>>>22),O=I+(T^(N|~C))+k[6]+2734768916&4294967295,I=N+(O<<15&4294967295|O>>>17),O=C+(N^(I|~T))+k[13]+1309151649&4294967295,C=I+(O<<21&4294967295|O>>>11),O=T+(I^(C|~N))+k[4]+4149444226&4294967295,T=C+(O<<6&4294967295|O>>>26),O=N+(C^(T|~I))+k[11]+3174756917&4294967295,N=T+(O<<10&4294967295|O>>>22),O=I+(T^(N|~C))+k[2]+718787259&4294967295,I=N+(O<<15&4294967295|O>>>17),O=C+(N^(I|~T))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+N&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var C=T-this.blockSize,k=this.B,I=this.h,N=0;N<T;){if(I==0)for(;N<=C;)i(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<T;)if(k[I++]=A.charCodeAt(N++),I==this.blockSize){i(this,k),I=0;break}}else for(;N<T;)if(k[I++]=A[N++],I==this.blockSize){i(this,k),I=0;break}}this.h=I,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var C=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=C&255,C/=256;for(this.u(A),A=Array(16),T=C=0;4>T;++T)for(var k=0;32>k;k+=8)A[C++]=this.g[T]>>>k&255;return A};function s(A,T){var C=o;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=T(A)}function a(A,T){this.h=T;for(var C=[],k=!0,I=A.length-1;0<=I;I--){var N=A[I]|0;k&&N==T||(C[I]=N,k=!1)}this.g=C}var o={};function l(A){return-128<=A&&128>A?s(A,function(T){return new a([T|0],0>T?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return v(u(-A));for(var T=[],C=1,k=0;A>=C;k++)T[k]=A/C|0,C*=4294967296;return new a(T,0)}function d(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return v(d(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(T,8)),k=f,I=0;I<A.length;I+=8){var N=Math.min(8,A.length-I),O=parseInt(A.substring(I,I+N),T);8>N?(N=u(Math.pow(T,N)),k=k.j(N).add(u(O))):(k=k.j(C),k=k.add(u(O)))}return k}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(m(this))return-v(this).m();for(var A=0,T=1,C=0;C<this.g.length;C++){var k=this.i(C);A+=(0<=k?k:4294967296+k)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(m(this))return"-"+v(this).toString(A);for(var T=u(Math.pow(A,6)),C=this,k="";;){var I=E(C,T).g;C=y(C,I.j(T));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=I,g(C))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function m(A){return A.h==-1}t.l=function(A){return A=y(this,A),m(A)?-1:g(A)?0:1};function v(A){for(var T=A.g.length,C=[],k=0;k<T;k++)C[k]=~A.g[k];return new a(C,~A.h).add(h)}t.abs=function(){return m(this)?v(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],k=0,I=0;I<=T;I++){var N=k+(this.i(I)&65535)+(A.i(I)&65535),O=(N>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);k=O>>>16,N&=65535,O&=65535,C[I]=O<<16|N}return new a(C,C[C.length-1]&-2147483648?-1:0)};function y(A,T){return A.add(v(T))}t.j=function(A){if(g(this)||g(A))return f;if(m(this))return m(A)?v(this).j(v(A)):v(v(this).j(A));if(m(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var T=this.g.length+A.g.length,C=[],k=0;k<2*T;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var I=0;I<A.g.length;I++){var N=this.i(k)>>>16,O=this.i(k)&65535,D=A.i(I)>>>16,V=A.i(I)&65535;C[2*k+2*I]+=O*V,x(C,2*k+2*I),C[2*k+2*I+1]+=N*V,x(C,2*k+2*I+1),C[2*k+2*I+1]+=O*D,x(C,2*k+2*I+1),C[2*k+2*I+2]+=N*D,x(C,2*k+2*I+2)}for(k=0;k<T;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=T;k<2*T;k++)C[k]=0;return new a(C,0)};function x(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function _(A,T){this.g=A,this.h=T}function E(A,T){if(g(T))throw Error("division by zero");if(g(A))return new _(f,f);if(m(A))return T=E(v(A),T),new _(v(T.g),v(T.h));if(m(T))return T=E(A,v(T)),new _(v(T.g),T.h);if(30<A.g.length){if(m(A)||m(T))throw Error("slowDivide_ only works with positive integers.");for(var C=h,k=T;0>=k.l(A);)C=S(C),k=S(k);var I=j(C,1),N=j(k,1);for(k=j(k,2),C=j(C,2);!g(k);){var O=N.add(k);0>=O.l(A)&&(I=I.add(C),N=O),k=j(k,1),C=j(C,1)}return T=y(A,I.j(T)),new _(I,T)}for(I=f;0<=A.l(T);){for(C=Math.max(1,Math.floor(A.m()/T.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=u(C),O=N.j(T);m(O)||0<O.l(A);)C-=k,N=u(C),O=N.j(T);g(N)&&(N=h),I=I.add(N),A=y(A,O)}return new _(I,A)}t.A=function(A){return E(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)&A.i(k);return new a(C,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)|A.i(k);return new a(C,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),C=[],k=0;k<T;k++)C[k]=this.i(k)^A.i(k);return new a(C,this.h^A.h)};function S(A){for(var T=A.g.length+1,C=[],k=0;k<T;k++)C[k]=A.i(k)<<1|A.i(k-1)>>>31;return new a(C,A.h)}function j(A,T){var C=T>>5;T%=32;for(var k=A.g.length-C,I=[],N=0;N<k;N++)I[N]=0<T?A.i(N+C)>>>T|A.i(N+C+1)<<32-T:A.i(N+C);return new a(I,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C8=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Ql=a}).apply(typeof XL<"u"?XL:typeof self<"u"?self:typeof window<"u"?window:{});var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P8,pm,k8,_x,Xj,N8,I8,O8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,P,R){return w==Array.prototype||w==Object.prototype||(w[P]=R.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof j0=="object"&&j0];for(var P=0;P<w.length;++P){var R=w[P];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(w,P){if(P)e:{var R=r;w=w.split(".");for(var $=0;$<w.length-1;$++){var X=w[$];if(!(X in R))break e;R=R[X]}w=w[w.length-1],$=R[w],P=P($),P!=$&&P!=null&&e(R,w,{configurable:!0,writable:!0,value:P})}}function s(w,P){w instanceof String&&(w+="");var R=0,$=!1,X={next:function(){if(!$&&R<w.length){var te=R++;return{value:P(te,w[te]),done:!1}}return $=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(w){return w||function(){return s(this,function(P,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(w){var P=typeof w;return P=P!="object"?P:w?Array.isArray(w)?"array":P:"null",P=="array"||P=="object"&&typeof w.length=="number"}function u(w){var P=typeof w;return P=="object"&&w!=null||P=="function"}function d(w,P,R){return w.call.apply(w.bind,arguments)}function f(w,P,R){if(!w)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,$),w.apply(P,X)}}return function(){return w.apply(P,arguments)}}function h(w,P,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(w,P){var R=Array.prototype.slice.call(arguments,1);return function(){var $=R.slice();return $.push.apply($,arguments),w.apply(this,$)}}function g(w,P){function R(){}R.prototype=P.prototype,w.aa=P.prototype,w.prototype=new R,w.prototype.constructor=w,w.Qb=function($,X,te){for(var _e=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)_e[$t-2]=arguments[$t];return P.prototype[X].apply($,_e)}}function m(w){const P=w.length;if(0<P){const R=Array(P);for(let $=0;$<P;$++)R[$]=w[$];return R}return[]}function v(w,P){for(let R=1;R<arguments.length;R++){const $=arguments[R];if(l($)){const X=w.length||0,te=$.length||0;w.length=X+te;for(let _e=0;_e<te;_e++)w[X+_e]=$[_e]}else w.push($)}}class y{constructor(P,R){this.i=P,this.j=R,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function x(w){return/^[\s\xa0]*$/.test(w)}function _(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function E(w){return E[" "](w),w}E[" "]=function(){};var S=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function j(w,P,R){for(const $ in w)P.call(R,w[$],$,w)}function A(w,P){for(const R in w)P.call(void 0,w[R],R,w)}function T(w){const P={};for(const R in w)P[R]=w[R];return P}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(w,P){let R,$;for(let X=1;X<arguments.length;X++){$=arguments[X];for(R in $)w[R]=$[R];for(let te=0;te<C.length;te++)R=C[te],Object.prototype.hasOwnProperty.call($,R)&&(w[R]=$[R])}}function I(w){var P=1;w=w.split(":");const R=[];for(;0<P&&w.length;)R.push(w.shift()),P--;return w.length&&R.push(w.join(":")),R}function N(w){o.setTimeout(()=>{throw w},0)}function O(){var w=F;let P=null;return w.g&&(P=w.g,w.g=w.g.next,w.g||(w.h=null),P.next=null),P}class D{constructor(){this.h=this.g=null}add(P,R){const $=V.get();$.set(P,R),this.h?this.h.next=$:this.g=$,this.h=$}}var V=new y(()=>new U,w=>w.reset());class U{constructor(){this.next=this.g=this.h=null}set(P,R){this.h=P,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let z,L=!1,F=new D,W=()=>{const w=o.Promise.resolve(void 0);z=()=>{w.then(ne)}};var ne=()=>{for(var w;w=O();){try{w.h.call(w.g)}catch(R){N(R)}var P=V;P.j(w),100>P.h&&(P.h++,w.next=P.g,P.g=w)}L=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(w,P){this.type=w,this.g=this.target=P,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,P=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const R=()=>{};o.addEventListener("test",R,P),o.removeEventListener("test",R,P)}catch{}return w}();function Pe(w,P){if(ie.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var R=this.type=w.type,$=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=P,P=w.relatedTarget){if(S){e:{try{E(P.nodeName);var X=!0;break e}catch{}X=!1}X||(P=null)}}else R=="mouseover"?P=w.fromElement:R=="mouseout"&&(P=w.toElement);this.relatedTarget=P,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:he[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&Pe.aa.h.call(this)}}g(Pe,ie);var he={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),oe=0;function Z(w,P,R,$,X){this.listener=w,this.proxy=null,this.src=P,this.type=R,this.capture=!!$,this.ha=X,this.key=++oe,this.da=this.fa=!1}function J(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function ee(w){this.src=w,this.g={},this.h=0}ee.prototype.add=function(w,P,R,$,X){var te=w.toString();w=this.g[te],w||(w=this.g[te]=[],this.h++);var _e=Ae(w,P,$,X);return-1<_e?(P=w[_e],R||(P.fa=!1)):(P=new Z(P,this.src,te,!!$,X),P.fa=R,w.push(P)),P};function H(w,P){var R=P.type;if(R in w.g){var $=w.g[R],X=Array.prototype.indexOf.call($,P,void 0),te;(te=0<=X)&&Array.prototype.splice.call($,X,1),te&&(J(P),w.g[R].length==0&&(delete w.g[R],w.h--))}}function Ae(w,P,R,$){for(var X=0;X<w.length;++X){var te=w[X];if(!te.da&&te.listener==P&&te.capture==!!R&&te.ha==$)return X}return-1}var je="closure_lm_"+(1e6*Math.random()|0),$e={};function de(w,P,R,$,X){if(Array.isArray(P)){for(var te=0;te<P.length;te++)de(w,P[te],R,$,X);return null}return R=we(R),w&&w[q]?w.K(P,R,u($)?!!$.capture:!1,X):Ve(w,P,R,!1,$,X)}function Ve(w,P,R,$,X,te){if(!P)throw Error("Invalid event type");var _e=u(X)?!!X.capture:!!X,$t=Y(w);if($t||(w[je]=$t=new ee(w)),R=$t.add(P,R,$,_e,te),R.proxy)return R;if($=bt(),R.proxy=$,$.src=w,$.listener=R,w.addEventListener)xe||(X=_e),X===void 0&&(X=!1),w.addEventListener(P.toString(),$,X);else if(w.attachEvent)w.attachEvent(ht(P.toString()),$);else if(w.addListener&&w.removeListener)w.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return R}function bt(){function w(R){return P.call(w.src,w.listener,R)}const P=B;return w}function pe(w,P,R,$,X){if(Array.isArray(P))for(var te=0;te<P.length;te++)pe(w,P[te],R,$,X);else $=u($)?!!$.capture:!!$,R=we(R),w&&w[q]?(w=w.i,P=String(P).toString(),P in w.g&&(te=w.g[P],R=Ae(te,R,$,X),-1<R&&(J(te[R]),Array.prototype.splice.call(te,R,1),te.length==0&&(delete w.g[P],w.h--)))):w&&(w=Y(w))&&(P=w.g[P.toString()],w=-1,P&&(w=Ae(P,R,$,X)),(R=-1<w?P[w]:null)&&ut(R))}function ut(w){if(typeof w!="number"&&w&&!w.da){var P=w.src;if(P&&P[q])H(P.i,w);else{var R=w.type,$=w.proxy;P.removeEventListener?P.removeEventListener(R,$,w.capture):P.detachEvent?P.detachEvent(ht(R),$):P.addListener&&P.removeListener&&P.removeListener($),(R=Y(P))?(H(R,w),R.h==0&&(R.src=null,P[je]=null)):J(w)}}}function ht(w){return w in $e?$e[w]:$e[w]="on"+w}function B(w,P){if(w.da)w=!0;else{P=new Pe(P,this);var R=w.listener,$=w.ha||w.src;w.fa&&ut(w),w=R.call($,P)}return w}function Y(w){return w=w[je],w instanceof ee?w:null}var re="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(w){return typeof w=="function"?w:(w[re]||(w[re]=function(P){return w.handleEvent(P)}),w[re])}function ce(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}g(ce,Q),ce.prototype[q]=!0,ce.prototype.removeEventListener=function(w,P,R,$){pe(this,w,P,R,$)};function le(w,P){var R,$=w.F;if($)for(R=[];$;$=$.F)R.push($);if(w=w.M,$=P.type||P,typeof P=="string")P=new ie(P,w);else if(P instanceof ie)P.target=P.target||w;else{var X=P;P=new ie($,w),k(P,X)}if(X=!0,R)for(var te=R.length-1;0<=te;te--){var _e=P.g=R[te];X=Ce(_e,$,!0,P)&&X}if(_e=P.g=w,X=Ce(_e,$,!0,P)&&X,X=Ce(_e,$,!1,P)&&X,R)for(te=0;te<R.length;te++)_e=P.g=R[te],X=Ce(_e,$,!1,P)&&X}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var w=this.i,P;for(P in w.g){for(var R=w.g[P],$=0;$<R.length;$++)J(R[$]);delete w.g[P],w.h--}}this.F=null},ce.prototype.K=function(w,P,R,$){return this.i.add(String(w),P,!1,R,$)},ce.prototype.L=function(w,P,R,$){return this.i.add(String(w),P,!0,R,$)};function Ce(w,P,R,$){if(P=w.i.g[String(P)],!P)return!0;P=P.concat();for(var X=!0,te=0;te<P.length;++te){var _e=P[te];if(_e&&!_e.da&&_e.capture==R){var $t=_e.listener,ar=_e.ha||_e.src;_e.fa&&H(w.i,_e),X=$t.call(ar,$)!==!1&&X}}return X&&!$.defaultPrevented}function pt(w,P,R){if(typeof w=="function")R&&(w=h(w,R));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:o.setTimeout(w,P||0)}function Mt(w){w.g=pt(()=>{w.g=null,w.i&&(w.i=!1,Mt(w))},w.l);const P=w.h;w.h=null,w.m.apply(null,P)}class kn extends Q{constructor(P,R){super(),this.m=P,this.l=R,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(w){Q.call(this),this.h=w,this.g={}}g(ia,Q);var sa=[];function Ti(w){j(w.g,function(P,R){this.g.hasOwnProperty(R)&&ut(P)},w),w.g={}}ia.prototype.N=function(){ia.aa.N.call(this),Ti(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var el=o.JSON.stringify,_s=o.JSON.parse,Ap=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function tl(){}tl.prototype.h=null;function jp(w){return w.h||(w.h=w.i())}function Cp(){}var $c={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vc(){ie.call(this,"d")}g(Vc,ie);function Qi(){ie.call(this,"c")}g(Qi,ie);var Xa={},Ze=null;function _t(){return Ze=Ze||new ce}Xa.La="serverreachability";function Lt(w){ie.call(this,Xa.La,w)}g(Lt,ie);function ir(w){const P=_t();le(P,new Lt(P))}Xa.STAT_EVENT="statevent";function ri(w,P){ie.call(this,Xa.STAT_EVENT,w),this.stat=P}g(ri,ie);function sn(w){const P=_t();le(P,new ri(P,w))}Xa.Ma="timingevent";function aa(w,P){ie.call(this,Xa.Ma,w),this.size=P}g(aa,ie);function sr(w,P){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},P)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function Yne(w,P,R,$,X,te){w.info(function(){if(w.g)if(te)for(var _e="",$t=te.split("&"),ar=0;ar<$t.length;ar++){var Tt=$t[ar].split("=");if(1<Tt.length){var wr=Tt[0];Tt=Tt[1];var _r=wr.split("_");_e=2<=_r.length&&_r[1]=="type"?_e+(wr+"="+Tt+"&"):_e+(wr+"=redacted&")}}else _e=null;else _e=te;return"XMLHTTP REQ ("+$+") [attempt "+X+"]: "+P+`
`+R+`
`+_e})}function Xne(w,P,R,$,X,te,_e){w.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+X+"]: "+P+`
`+R+`
`+te+" "+_e})}function gd(w,P,R,$){w.info(function(){return"XMLHTTP TEXT ("+P+"): "+Zne(w,R)+($?" "+$:"")})}function Qne(w,P){w.info(function(){return"TIMEOUT: "+P})}ii.prototype.info=function(){};function Zne(w,P){if(!w.g)return P;if(!P)return null;try{var R=JSON.parse(P);if(R){for(w=0;w<R.length;w++)if(Array.isArray(R[w])){var $=R[w];if(!(2>$.length)){var X=$[1];if(Array.isArray(X)&&!(1>X.length)){var te=X[0];if(te!="noop"&&te!="stop"&&te!="close")for(var _e=1;_e<X.length;_e++)X[_e]=""}}}}return el(R)}catch{return P}}var Ky={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vM={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xE;function Gy(){}g(Gy,tl),Gy.prototype.g=function(){return new XMLHttpRequest},Gy.prototype.i=function(){return{}},xE=new Gy;function nl(w,P,R,$){this.j=w,this.i=P,this.l=R,this.R=$||1,this.U=new ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yM}function yM(){this.i=null,this.g="",this.h=!1}var xM={},bE={};function wE(w,P,R){w.L=1,w.v=Zy(Qa(P)),w.m=R,w.P=!0,bM(w,null)}function bM(w,P){w.F=Date.now(),Yy(w),w.A=Qa(w.v);var R=w.A,$=w.R;Array.isArray($)||($=[String($)]),RM(R.i,"t",$),w.C=0,R=w.j.J,w.h=new yM,w.g=ZM(w.j,R?P:null,!w.m),0<w.O&&(w.M=new kn(h(w.Y,w,w.g),w.O)),P=w.U,R=w.g,$=w.ca;var X="readystatechange";Array.isArray(X)||(X&&(sa[0]=X.toString()),X=sa);for(var te=0;te<X.length;te++){var _e=de(R,X[te],$||P.handleEvent,!1,P.h||P);if(!_e)break;P.g[_e.key]=_e}P=w.H?T(w.H):{},w.m?(w.u||(w.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,P)):(w.u="GET",w.g.ea(w.A,w.u,null,P)),ir(),Yne(w.i,w.u,w.A,w.l,w.R,w.m)}nl.prototype.ca=function(w){w=w.target;const P=this.M;P&&Za(w)==3?P.j():this.Y(w)},nl.prototype.Y=function(w){try{if(w==this.g)e:{const _r=Za(this.g);var P=this.g.Ba();const xd=this.g.Z();if(!(3>_r)&&(_r!=3||this.g&&(this.h.h||this.g.oa()||zM(this.g)))){this.J||_r!=4||P==7||(P==8||0>=xd?ir(3):ir(2)),_E(this);var R=this.g.Z();this.X=R;t:if(wM(this)){var $=zM(this.g);w="";var X=$.length,te=Za(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fc(this),Pp(this);var _e="";break t}this.h.i=new o.TextDecoder}for(P=0;P<X;P++)this.h.h=!0,w+=this.h.i.decode($[P],{stream:!(te&&P==X-1)});$.length=0,this.h.g+=w,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=R==200,Xne(this.i,this.u,this.A,this.l,this.R,_r,R),this.o){if(this.T&&!this.K){t:{if(this.g){var $t,ar=this.g;if(($t=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x($t)){var Tt=$t;break t}}Tt=null}if(R=Tt)gd(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SE(this,R);else{this.o=!1,this.s=3,sn(12),Fc(this),Pp(this);break e}}if(this.P){R=!0;let Ss;for(;!this.J&&this.C<_e.length;)if(Ss=Jne(this,_e),Ss==bE){_r==4&&(this.s=4,sn(14),R=!1),gd(this.i,this.l,null,"[Incomplete Response]");break}else if(Ss==xM){this.s=4,sn(15),gd(this.i,this.l,_e,"[Invalid Chunk]"),R=!1;break}else gd(this.i,this.l,Ss,null),SE(this,Ss);if(wM(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_r!=4||_e.length!=0||this.h.h||(this.s=1,sn(16),R=!1),this.o=this.o&&R,!R)gd(this.i,this.l,_e,"[Invalid Chunked Response]"),Fc(this),Pp(this);else if(0<_e.length&&!this.W){this.W=!0;var wr=this.j;wr.g==this&&wr.ba&&!wr.M&&(wr.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),PE(wr),wr.M=!0,sn(11))}}else gd(this.i,this.l,_e,null),SE(this,_e);_r==4&&Fc(this),this.o&&!this.J&&(_r==4?GM(this.j,this):(this.o=!1,Yy(this)))}else gre(this.g),R==400&&0<_e.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Fc(this),Pp(this)}}}catch{}finally{}};function wM(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Jne(w,P){var R=w.C,$=P.indexOf(`
`,R);return $==-1?bE:(R=Number(P.substring(R,$)),isNaN(R)?xM:($+=1,$+R>P.length?bE:(P=P.slice($,$+R),w.C=$+R,P)))}nl.prototype.cancel=function(){this.J=!0,Fc(this)};function Yy(w){w.S=Date.now()+w.I,_M(w,w.I)}function _M(w,P){if(w.B!=null)throw Error("WatchDog timer not null");w.B=sr(h(w.ba,w),P)}function _E(w){w.B&&(o.clearTimeout(w.B),w.B=null)}nl.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Qne(this.i,this.A),this.L!=2&&(ir(),sn(17)),Fc(this),this.s=2,Pp(this)):_M(this,this.S-w)};function Pp(w){w.j.G==0||w.J||GM(w.j,w)}function Fc(w){_E(w);var P=w.M;P&&typeof P.ma=="function"&&P.ma(),w.M=null,Ti(w.U),w.g&&(P=w.g,w.g=null,P.abort(),P.ma())}function SE(w,P){try{var R=w.j;if(R.G!=0&&(R.g==w||EE(R.h,w))){if(!w.K&&EE(R.h,w)&&R.G==3){try{var $=R.Da.g.parse(P)}catch{$=null}if(Array.isArray($)&&$.length==3){var X=$;if(X[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<w.F)i0(R),n0(R);else break e;CE(R),sn(18)}}else R.za=X[1],0<R.za-R.T&&37500>X[2]&&R.F&&R.v==0&&!R.C&&(R.C=sr(h(R.Za,R),6e3));if(1>=TM(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Uc(R,11)}else if((w.K||R.g==w)&&i0(R),!x(P))for(X=R.Da.g.parse(P),P=0;P<X.length;P++){let Tt=X[P];if(R.T=Tt[0],Tt=Tt[1],R.G==2)if(Tt[0]=="c"){R.K=Tt[1],R.ia=Tt[2];const wr=Tt[3];wr!=null&&(R.la=wr,R.j.info("VER="+R.la));const _r=Tt[4];_r!=null&&(R.Aa=_r,R.j.info("SVER="+R.Aa));const xd=Tt[5];xd!=null&&typeof xd=="number"&&0<xd&&($=1.5*xd,R.L=$,R.j.info("backChannelRequestTimeoutMs_="+$)),$=R;const Ss=w.g;if(Ss){const a0=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(a0){var te=$.h;te.g||a0.indexOf("spdy")==-1&&a0.indexOf("quic")==-1&&a0.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(TE(te,te.h),te.h=null))}if($.D){const kE=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;kE&&($.ya=kE,Yt($.I,$.D,kE))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-w.F,R.j.info("Handshake RTT: "+R.R+"ms")),$=R;var _e=w;if($.qa=QM($,$.J?$.ia:null,$.W),_e.K){AM($.h,_e);var $t=_e,ar=$.L;ar&&($t.I=ar),$t.B&&(_E($t),Yy($t)),$.g=_e}else qM($);0<R.i.length&&r0(R)}else Tt[0]!="stop"&&Tt[0]!="close"||Uc(R,7);else R.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?Uc(R,7):jE(R):Tt[0]!="noop"&&R.l&&R.l.ta(Tt),R.v=0)}}ir(4)}catch{}}var ere=class{constructor(w,P){this.g=w,this.map=P}};function SM(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function EM(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function TM(w){return w.h?1:w.g?w.g.size:0}function EE(w,P){return w.h?w.h==P:w.g?w.g.has(P):!1}function TE(w,P){w.g?w.g.add(P):w.h=P}function AM(w,P){w.h&&w.h==P?w.h=null:w.g&&w.g.has(P)&&w.g.delete(P)}SM.prototype.cancel=function(){if(this.i=jM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function jM(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let P=w.i;for(const R of w.g.values())P=P.concat(R.D);return P}return m(w.i)}function tre(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var P=[],R=w.length,$=0;$<R;$++)P.push(w[$]);return P}P=[],R=0;for($ in w)P[R++]=w[$];return P}function nre(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var P=[];w=w.length;for(var R=0;R<w;R++)P.push(R);return P}P=[],R=0;for(const $ in w)P[R++]=$;return P}}}function CM(w,P){if(w.forEach&&typeof w.forEach=="function")w.forEach(P,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,P,void 0);else for(var R=nre(w),$=tre(w),X=$.length,te=0;te<X;te++)P.call(void 0,$[te],R&&R[te],w)}var PM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rre(w,P){if(w){w=w.split("&");for(var R=0;R<w.length;R++){var $=w[R].indexOf("="),X=null;if(0<=$){var te=w[R].substring(0,$);X=w[R].substring($+1)}else te=w[R];P(te,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function zc(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof zc){this.h=w.h,Xy(this,w.j),this.o=w.o,this.g=w.g,Qy(this,w.s),this.l=w.l;var P=w.i,R=new Ip;R.i=P.i,P.g&&(R.g=new Map(P.g),R.h=P.h),kM(this,R),this.m=w.m}else w&&(P=String(w).match(PM))?(this.h=!1,Xy(this,P[1]||"",!0),this.o=kp(P[2]||""),this.g=kp(P[3]||"",!0),Qy(this,P[4]),this.l=kp(P[5]||"",!0),kM(this,P[6]||"",!0),this.m=kp(P[7]||"")):(this.h=!1,this.i=new Ip(null,this.h))}zc.prototype.toString=function(){var w=[],P=this.j;P&&w.push(Np(P,NM,!0),":");var R=this.g;return(R||P=="file")&&(w.push("//"),(P=this.o)&&w.push(Np(P,NM,!0),"@"),w.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&w.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&w.push("/"),w.push(Np(R,R.charAt(0)=="/"?are:sre,!0))),(R=this.i.toString())&&w.push("?",R),(R=this.m)&&w.push("#",Np(R,lre)),w.join("")};function Qa(w){return new zc(w)}function Xy(w,P,R){w.j=R?kp(P,!0):P,w.j&&(w.j=w.j.replace(/:$/,""))}function Qy(w,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);w.s=P}else w.s=null}function kM(w,P,R){P instanceof Ip?(w.i=P,cre(w.i,w.h)):(R||(P=Np(P,ore)),w.i=new Ip(P,w.h))}function Yt(w,P,R){w.i.set(P,R)}function Zy(w){return Yt(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function kp(w,P){return w?P?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Np(w,P,R){return typeof w=="string"?(w=encodeURI(w).replace(P,ire),R&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function ire(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var NM=/[#\/\?@]/g,sre=/[#\?:]/g,are=/[#\?]/g,ore=/[#\?@]/g,lre=/#/g;function Ip(w,P){this.h=this.g=null,this.i=w||null,this.j=!!P}function rl(w){w.g||(w.g=new Map,w.h=0,w.i&&rre(w.i,function(P,R){w.add(decodeURIComponent(P.replace(/\+/g," ")),R)}))}t=Ip.prototype,t.add=function(w,P){rl(this),this.i=null,w=vd(this,w);var R=this.g.get(w);return R||this.g.set(w,R=[]),R.push(P),this.h+=1,this};function IM(w,P){rl(w),P=vd(w,P),w.g.has(P)&&(w.i=null,w.h-=w.g.get(P).length,w.g.delete(P))}function OM(w,P){return rl(w),P=vd(w,P),w.g.has(P)}t.forEach=function(w,P){rl(this),this.g.forEach(function(R,$){R.forEach(function(X){w.call(P,X,$,this)},this)},this)},t.na=function(){rl(this);const w=Array.from(this.g.values()),P=Array.from(this.g.keys()),R=[];for(let $=0;$<P.length;$++){const X=w[$];for(let te=0;te<X.length;te++)R.push(P[$])}return R},t.V=function(w){rl(this);let P=[];if(typeof w=="string")OM(this,w)&&(P=P.concat(this.g.get(vd(this,w))));else{w=Array.from(this.g.values());for(let R=0;R<w.length;R++)P=P.concat(w[R])}return P},t.set=function(w,P){return rl(this),this.i=null,w=vd(this,w),OM(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[P]),this.h+=1,this},t.get=function(w,P){return w?(w=this.V(w),0<w.length?String(w[0]):P):P};function RM(w,P,R){IM(w,P),0<R.length&&(w.i=null,w.g.set(vd(w,P),m(R)),w.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],P=Array.from(this.g.keys());for(var R=0;R<P.length;R++){var $=P[R];const te=encodeURIComponent(String($)),_e=this.V($);for($=0;$<_e.length;$++){var X=te;_e[$]!==""&&(X+="="+encodeURIComponent(String(_e[$]))),w.push(X)}}return this.i=w.join("&")};function vd(w,P){return P=String(P),w.j&&(P=P.toLowerCase()),P}function cre(w,P){P&&!w.j&&(rl(w),w.i=null,w.g.forEach(function(R,$){var X=$.toLowerCase();$!=X&&(IM(this,$),RM(this,X,R))},w)),w.j=P}function ure(w,P){const R=new ii;if(o.Image){const $=new Image;$.onload=p(il,R,"TestLoadImage: loaded",!0,P,$),$.onerror=p(il,R,"TestLoadImage: error",!1,P,$),$.onabort=p(il,R,"TestLoadImage: abort",!1,P,$),$.ontimeout=p(il,R,"TestLoadImage: timeout",!1,P,$),o.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=w}else P(!1)}function dre(w,P){const R=new ii,$=new AbortController,X=setTimeout(()=>{$.abort(),il(R,"TestPingServer: timeout",!1,P)},1e4);fetch(w,{signal:$.signal}).then(te=>{clearTimeout(X),te.ok?il(R,"TestPingServer: ok",!0,P):il(R,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(X),il(R,"TestPingServer: error",!1,P)})}function il(w,P,R,$,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),$(R)}catch{}}function fre(){this.g=new Ap}function hre(w,P,R){const $=R||"";try{CM(w,function(X,te){let _e=X;u(X)&&(_e=el(X)),P.push($+te+"="+encodeURIComponent(_e))})}catch(X){throw P.push($+"type="+encodeURIComponent("_badmap")),X}}function Jy(w){this.l=w.Ub||null,this.j=w.eb||!1}g(Jy,tl),Jy.prototype.g=function(){return new e0(this.l,this.j)},Jy.prototype.i=function(w){return function(){return w}}({});function e0(w,P){ce.call(this),this.D=w,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(e0,ce),t=e0.prototype,t.open=function(w,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=P,this.readyState=1,Rp(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(P.body=w),(this.D||o).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Op(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Rp(this)),this.g&&(this.readyState=3,Rp(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MM(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function MM(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var P=w.value?w.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!w.done}))&&(this.response=this.responseText+=P)}w.done?Op(this):Rp(this),this.readyState==3&&MM(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Op(this))},t.Qa=function(w){this.g&&(this.response=w,Op(this))},t.ga=function(){this.g&&Op(this)};function Op(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Rp(w)}t.setRequestHeader=function(w,P){this.u.append(w,P)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],P=this.h.entries();for(var R=P.next();!R.done;)R=R.value,w.push(R[0]+": "+R[1]),R=P.next();return w.join(`\r
`)};function Rp(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(e0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function DM(w){let P="";return j(w,function(R,$){P+=$,P+=":",P+=R,P+=`\r
`}),P}function AE(w,P,R){e:{for($ in R){var $=!1;break e}$=!0}$||(R=DM(R),typeof w=="string"?R!=null&&encodeURIComponent(String(R)):Yt(w,P,R))}function vn(w){ce.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(vn,ce);var pre=/^https?$/i,mre=["POST","PUT"];t=vn.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,P,R,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);P=P?P.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xE.g(),this.v=this.o?jp(this.o):jp(xE),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(w),!0),this.B=!1}catch(te){LM(this,te);return}if(w=R||"",R=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var X in $)R.set(X,$[X]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const te of $.keys())R.set(te,$.get(te));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(R.keys()).find(te=>te.toLowerCase()=="content-type"),X=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(mre,P,void 0))||$||X||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of R)this.g.setRequestHeader(te,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FM(this),this.u=!0,this.g.send(w),this.u=!1}catch(te){LM(this,te)}};function LM(w,P){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=P,w.m=5,$M(w),t0(w)}function $M(w){w.A||(w.A=!0,le(w,"complete"),le(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,le(this,"complete"),le(this,"abort"),t0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),t0(this,!0)),vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VM(this):this.bb())},t.bb=function(){VM(this)};function VM(w){if(w.h&&typeof a<"u"&&(!w.v[1]||Za(w)!=4||w.Z()!=2)){if(w.u&&Za(w)==4)pt(w.Ea,0,w);else if(le(w,"readystatechange"),Za(w)==4){w.h=!1;try{const _e=w.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var R;if(!(R=P)){var $;if($=_e===0){var X=String(w.D).match(PM)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),$=!pre.test(X?X.toLowerCase():"")}R=$}if(R)le(w,"complete"),le(w,"success");else{w.m=6;try{var te=2<Za(w)?w.g.statusText:""}catch{te=""}w.l=te+" ["+w.Z()+"]",$M(w)}}finally{t0(w)}}}}function t0(w,P){if(w.g){FM(w);const R=w.g,$=w.v[0]?()=>{}:null;w.g=null,w.v=null,P||le(w,"ready");try{R.onreadystatechange=$}catch{}}}function FM(w){w.I&&(o.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Za(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Za(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var P=this.g.responseText;return w&&P.indexOf(w)==0&&(P=P.substring(w.length)),_s(P)}};function zM(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function gre(w){const P={};w=(w.g&&2<=Za(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<w.length;$++){if(x(w[$]))continue;var R=I(w[$]);const X=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const te=P[X]||[];P[X]=te,te.push(R)}A(P,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mp(w,P,R){return R&&R.internalChannelParams&&R.internalChannelParams[w]||P}function UM(w){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mp("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mp("baseRetryDelayMs",5e3,w),this.cb=Mp("retryDelaySeedMs",1e4,w),this.Wa=Mp("forwardChannelMaxRetries",2,w),this.wa=Mp("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new SM(w&&w.concurrentRequestLimit),this.Da=new fre,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=UM.prototype,t.la=8,t.G=1,t.connect=function(w,P,R,$){sn(0),this.W=w,this.H=P||{},R&&$!==void 0&&(this.H.OSID=R,this.H.OAID=$),this.F=this.X,this.I=QM(this,null,this.W),r0(this)};function jE(w){if(BM(w),w.G==3){var P=w.U++,R=Qa(w.I);if(Yt(R,"SID",w.K),Yt(R,"RID",P),Yt(R,"TYPE","terminate"),Dp(w,R),P=new nl(w,w.j,P),P.L=2,P.v=Zy(Qa(R)),R=!1,o.navigator&&o.navigator.sendBeacon)try{R=o.navigator.sendBeacon(P.v.toString(),"")}catch{}!R&&o.Image&&(new Image().src=P.v,R=!0),R||(P.g=ZM(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Yy(P)}XM(w)}function n0(w){w.g&&(PE(w),w.g.cancel(),w.g=null)}function BM(w){n0(w),w.u&&(o.clearTimeout(w.u),w.u=null),i0(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function r0(w){if(!EM(w.h)&&!w.s){w.s=!0;var P=w.Ga;z||W(),L||(z(),L=!0),F.add(P,w),w.B=0}}function vre(w,P){return TM(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=P.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=sr(h(w.Ga,w,P),YM(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const X=new nl(this,this.j,w);let te=this.o;if(this.S&&(te?(te=T(te),k(te,this.S)):te=this.S),this.m!==null||this.O||(X.H=te,te=null),this.P)e:{for(var P=0,R=0;R<this.i.length;R++){t:{var $=this.i[R];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(P+=$,4096<P){P=R;break e}if(P===4096||R===this.i.length-1){P=R+1;break e}}P=1e3}else P=1e3;P=HM(this,X,P),R=Qa(this.I),Yt(R,"RID",w),Yt(R,"CVER",22),this.D&&Yt(R,"X-HTTP-Session-Id",this.D),Dp(this,R),te&&(this.O?P="headers="+encodeURIComponent(String(DM(te)))+"&"+P:this.m&&AE(R,this.m,te)),TE(this.h,X),this.Ua&&Yt(R,"TYPE","init"),this.P?(Yt(R,"$req",P),Yt(R,"SID","null"),X.T=!0,wE(X,R,null)):wE(X,R,P),this.G=2}}else this.G==3&&(w?WM(this,w):this.i.length==0||EM(this.h)||WM(this))};function WM(w,P){var R;P?R=P.l:R=w.U++;const $=Qa(w.I);Yt($,"SID",w.K),Yt($,"RID",R),Yt($,"AID",w.T),Dp(w,$),w.m&&w.o&&AE($,w.m,w.o),R=new nl(w,w.j,R,w.B+1),w.m===null&&(R.H=w.o),P&&(w.i=P.D.concat(w.i)),P=HM(w,R,1e3),R.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),TE(w.h,R),wE(R,$,P)}function Dp(w,P){w.H&&j(w.H,function(R,$){Yt(P,$,R)}),w.l&&CM({},function(R,$){Yt(P,$,R)})}function HM(w,P,R){R=Math.min(w.i.length,R);var $=w.l?h(w.l.Na,w.l,w):null;e:{var X=w.i;let te=-1;for(;;){const _e=["count="+R];te==-1?0<R?(te=X[0].g,_e.push("ofs="+te)):te=0:_e.push("ofs="+te);let $t=!0;for(let ar=0;ar<R;ar++){let Tt=X[ar].g;const wr=X[ar].map;if(Tt-=te,0>Tt)te=Math.max(0,X[ar].g-100),$t=!1;else try{hre(wr,_e,"req"+Tt+"_")}catch{$&&$(wr)}}if($t){$=_e.join("&");break e}}}return w=w.i.splice(0,R),P.D=w,$}function qM(w){if(!w.g&&!w.u){w.Y=1;var P=w.Fa;z||W(),L||(z(),L=!0),F.add(P,w),w.v=0}}function CE(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=sr(h(w.Fa,w),YM(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,KM(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=sr(h(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),n0(this),KM(this))};function PE(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function KM(w){w.g=new nl(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var P=Qa(w.qa);Yt(P,"RID","rpc"),Yt(P,"SID",w.K),Yt(P,"AID",w.T),Yt(P,"CI",w.F?"0":"1"),!w.F&&w.ja&&Yt(P,"TO",w.ja),Yt(P,"TYPE","xmlhttp"),Dp(w,P),w.m&&w.o&&AE(P,w.m,w.o),w.L&&(w.g.I=w.L);var R=w.g;w=w.ia,R.L=1,R.v=Zy(Qa(P)),R.m=null,R.P=!0,bM(R,w)}t.Za=function(){this.C!=null&&(this.C=null,n0(this),CE(this),sn(19))};function i0(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function GM(w,P){var R=null;if(w.g==P){i0(w),PE(w),w.g=null;var $=2}else if(EE(w.h,P))R=P.D,AM(w.h,P),$=1;else return;if(w.G!=0){if(P.o)if($==1){R=P.m?P.m.length:0,P=Date.now()-P.F;var X=w.B;$=_t(),le($,new aa($,R)),r0(w)}else qM(w);else if(X=P.s,X==3||X==0&&0<P.X||!($==1&&vre(w,P)||$==2&&CE(w)))switch(R&&0<R.length&&(P=w.h,P.i=P.i.concat(R)),X){case 1:Uc(w,5);break;case 4:Uc(w,10);break;case 3:Uc(w,6);break;default:Uc(w,2)}}}function YM(w,P){let R=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(R*=2),R*P}function Uc(w,P){if(w.j.info("Error code "+P),P==2){var R=h(w.fb,w),$=w.Xa;const X=!$;$=new zc($||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Xy($,"https"),Zy($),X?ure($.toString(),R):dre($.toString(),R)}else sn(2);w.G=0,w.l&&w.l.sa(P),XM(w),BM(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function XM(w){if(w.G=0,w.ka=[],w.l){const P=jM(w.h);(P.length!=0||w.i.length!=0)&&(v(w.ka,P),v(w.ka,w.i),w.h.i.length=0,m(w.i),w.i.length=0),w.l.ra()}}function QM(w,P,R){var $=R instanceof zc?Qa(R):new zc(R);if($.g!="")P&&($.g=P+"."+$.g),Qy($,$.s);else{var X=o.location;$=X.protocol,P=P?P+"."+X.hostname:X.hostname,X=+X.port;var te=new zc(null);$&&Xy(te,$),P&&(te.g=P),X&&Qy(te,X),R&&(te.l=R),$=te}return R=w.D,P=w.ya,R&&P&&Yt($,R,P),Yt($,"VER",w.la),Dp(w,$),$}function ZM(w,P,R){if(P&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=w.Ca&&!w.pa?new vn(new Jy({eb:R})):new vn(w.pa),P.Ha(w.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JM(){}t=JM.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function s0(){}s0.prototype.g=function(w,P){return new Ai(w,P)};function Ai(w,P){ce.call(this),this.g=new UM(P),this.l=w,this.h=P&&P.messageUrlParams||null,w=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(w?w["X-WebChannel-Content-Type"]=P.messageContentType:w={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(w?w["X-WebChannel-Client-Profile"]=P.va:w={"X-WebChannel-Client-Profile":P.va}),this.g.S=w,(w=P&&P.Sb)&&!x(w)&&(this.g.m=w),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!x(P)&&(this.g.D=P,w=this.h,w!==null&&P in w&&(w=this.h,P in w&&delete w[P])),this.j=new yd(this)}g(Ai,ce),Ai.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ai.prototype.close=function(){jE(this.g)},Ai.prototype.o=function(w){var P=this.g;if(typeof w=="string"){var R={};R.__data__=w,w=R}else this.u&&(R={},R.__data__=el(w),w=R);P.i.push(new ere(P.Ya++,w)),P.G==3&&r0(P)},Ai.prototype.N=function(){this.g.l=null,delete this.j,jE(this.g),delete this.g,Ai.aa.N.call(this)};function eD(w){Vc.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var P=w.__sm__;if(P){e:{for(const R in P){w=R;break e}w=void 0}(this.i=w)&&(w=this.i,P=P!==null&&w in P?P[w]:void 0),this.data=P}else this.data=w}g(eD,Vc);function tD(){Qi.call(this),this.status=1}g(tD,Qi);function yd(w){this.g=w}g(yd,JM),yd.prototype.ua=function(){le(this.g,"a")},yd.prototype.ta=function(w){le(this.g,new eD(w))},yd.prototype.sa=function(w){le(this.g,new tD)},yd.prototype.ra=function(){le(this.g,"b")},s0.prototype.createWebChannel=s0.prototype.g,Ai.prototype.send=Ai.prototype.o,Ai.prototype.open=Ai.prototype.m,Ai.prototype.close=Ai.prototype.close,O8=function(){return new s0},I8=function(){return _t()},N8=Xa,Xj={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ky.NO_ERROR=0,Ky.TIMEOUT=8,Ky.HTTP_ERROR=6,_x=Ky,vM.COMPLETE="complete",k8=vM,Cp.EventType=$c,$c.OPEN="a",$c.CLOSE="b",$c.ERROR="c",$c.MESSAGE="d",ce.prototype.listen=ce.prototype.K,pm=Cp,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,P8=vn}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});const QL="@firebase/firestore",ZL="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new Z1("@firebase/firestore");function Od(){return Pu.logLevel}function Ne(t,...e){if(Pu.logLevel<=yt.DEBUG){const n=e.map(eI);Pu.debug(`Firestore (${Hh}): ${t}`,...n)}}function No(t,...e){if(Pu.logLevel<=yt.ERROR){const n=e.map(eI);Pu.error(`Firestore (${Hh}): ${t}`,...n)}}function Vf(t,...e){if(Pu.logLevel<=yt.WARN){const n=e.map(eI);Pu.warn(`Firestore (${Hh}): ${t}`,...n)}}function eI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,R8(t,r,n)}function R8(t,e,n){let r=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw No(r),new Error(r)}function jt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||R8(e,i,r)}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cr.UNAUTHENTICATED))}shutdown(){}}class gde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vde{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ta,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ta)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new M8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Cr(e)}}class yde{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xde{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yde(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bde{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){jt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JL(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wde(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function Qj(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ft(r,i);{const s=D8(),a=_de(s.encode(e$(t,n)),s.encode(e$(e,n)));return a!==0?a:ft(r,i)}}n+=r>65535?2:1}return ft(t.length,e.length)}function e$(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function _de(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ft(t[n],e[n]);return ft(t.length,e.length)}function Ff(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=-62135596800,n$=1e6;class Sn{static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n$);return new Sn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t$)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n$}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t$;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Sn(0,0))}static max(){return new rt(new Sn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="__name__";class ca{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ca.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ca?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ca.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ft(e.length,n.length)}static compareSegments(e,n){const r=ca.isNumericId(e),i=ca.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ca.extractNumericId(e).compare(ca.extractNumericId(n)):Qj(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ql.fromString(e.substring(4,e.length-2))}}class Ht extends ca{construct(e,n,r){return new Ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ht(n)}static emptyPath(){return new Ht([])}}const Sde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends ca{construct(e,n,r){return new hr(e,n,r)}static isValidIdentifier(e){return Sde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r$}static keyField(){return new hr([r$])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(n)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Ht.fromString(e))}static fromName(e){return new ze(Ht.fromString(e).popFirst(5))}static empty(){return new ze(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function Ede(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new Sn(n+1,0):new Sn(n,r));return new oc(i,ze.empty(),e)}function Tde(t){return new oc(t.readTime,t.key,kg)}class oc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oc(rt.min(),ze.empty(),kg)}static max(){return new oc(rt.max(),ze.empty(),kg)}}function Ade(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cde{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==jde)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,r)=>{n(e)})}static reject(e){return new ue((n,r)=>{r(e)})}static waitFor(e){return new ue((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next(i=>i?ue.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ue((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new ue((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Pde(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Kh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}n_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=-1;function r_(t){return t==null}function Eb(t){return t===0&&1/t==-1/0}function kde(t){return typeof t=="number"&&Number.isInteger(t)&&!Eb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="";function Nde(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=i$(e)),e=Ide(t.get(n),e);return i$(e)}function Ide(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case $8:n+="";break;default:n+=s}}return n}function i$(t){return t+$8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ode(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function V8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new C0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new C0(this.root,e,this.comparator,!1)}getReverseIterator(){return new C0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new C0(this.root,e,this.comparator,!0)}}class C0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fr.RED,this.left=i??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new fr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a$(this.data.getIterator())}getIteratorFrom(e){return new a$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kn(this.comparator);return n.data=e,n}}class a${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new $i([])}unionWith(e){let n=new Kn(hr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ff(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new F8("Invalid base64 string: "+s):s}}(e);return new yr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const Rde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(t){if(jt(!!t,39018),typeof t=="string"){let e=0;const n=Rde.exec(t);if(jt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cc(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="server_timestamp",U8="__type__",B8="__previous_value__",W8="__local_write_time__";function i_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[U8])===null||n===void 0?void 0:n.stringValue)===z8}function s_(t){const e=t.mapValue.fields[B8];return i_(e)?s_(e):e}function Ng(t){const e=lc(t.mapValue.fields[W8].timestampValue);return new Sn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e,n,r,i,s,a,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ig="(default)";class Og{constructor(e,n){this.projectId=e,this.database=n||Ig}static empty(){return new Og("","")}get isDefaultDatabase(){return this.database===Ig}isEqual(e){return e instanceof Og&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="__type__",Dde="__max__",P0={mapValue:{}},q8="__vector__",Tb="value";function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:$de(t)?9007199254740991:Lde(t)?10:11:Ge(28295,{value:t})}function Ra(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ng(t).isEqual(Ng(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=lc(i.timestampValue),o=lc(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return cc(i.bytesValue).isEqual(cc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return An(i.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(i.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return An(i.integerValue)===An(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=An(i.doubleValue),o=An(s.doubleValue);return a===o?Eb(a)===Eb(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Ff(t.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(s$(a)!==s$(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ra(a[l],o[l])))return!1;return!0}(t,e);default:return Ge(52216,{left:t})}}function Rg(t,e){return(t.values||[]).find(n=>Ra(n,e))!==void 0}function zf(t,e){if(t===e)return 0;const n=uc(t),r=uc(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=An(s.integerValue||s.doubleValue),l=An(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return o$(t.timestampValue,e.timestampValue);case 4:return o$(Ng(t),Ng(e));case 5:return Qj(t.stringValue,e.stringValue);case 6:return function(s,a){const o=cc(s),l=cc(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=ft(o[u],l[u]);if(d!==0)return d}return ft(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ft(An(s.latitude),An(a.latitude));return o!==0?o:ft(An(s.longitude),An(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return l$(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,d;const f=s.fields||{},h=a.fields||{},p=(o=f[Tb])===null||o===void 0?void 0:o.arrayValue,g=(l=h[Tb])===null||l===void 0?void 0:l.arrayValue,m=ft(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return m!==0?m:l$(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===P0.mapValue&&a===P0.mapValue)return 0;if(s===P0.mapValue)return 1;if(a===P0.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Qj(l[f],d[f]);if(h!==0)return h;const p=zf(o[l[f]],u[d[f]]);if(p!==0)return p}return ft(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ge(23264,{Pe:n})}}function o$(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=lc(t),r=lc(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function l$(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zf(n[i],r[i]);if(s)return s}return ft(n.length,r.length)}function Uf(t){return Zj(t)}function Zj(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zj(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Zj(n.fields[a])}`;return i+"}"}(t.mapValue):Ge(61005,{value:t})}function Sx(t){switch(uc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=s_(t);return e?16+Sx(e):16;case 5:return 2*t.stringValue.length;case 6:return cc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Sx(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tc(r.fields,(s,a)=>{i+=s.length+Sx(a)}),i}(t.mapValue);default:throw Ge(13486,{value:t})}}function Ab(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jj(t){return!!t&&"integerValue"in t}function nI(t){return!!t&&"arrayValue"in t}function c$(t){return!!t&&"nullValue"in t}function u$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ex(t){return!!t&&"mapValue"in t}function Lde(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[H8])===null||n===void 0?void 0:n.stringValue)===q8}function $m(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$m(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$m(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $de(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Dde}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ex(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$m(n)}setAll(e){let n=hr.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=$m(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ex(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ex(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ui($m(this.value))}}function K8(t){const e=[];return Tc(t.fields,(n,r)=>{const i=new hr([n]);if(Ex(r)){const s=K8(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new $i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new kr(e,0,rt.min(),rt.min(),rt.min(),ui.empty(),0)}static newFoundDocument(e,n,r,i){return new kr(e,1,n,rt.min(),r,i,0)}static newNoDocument(e,n){return new kr(e,2,n,rt.min(),rt.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new kr(e,3,n,rt.min(),rt.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.position=e,this.inclusive=n}}function d$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(a.referenceValue),n.key):r=zf(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f$(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ra(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G8=class{};class Ln extends G8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zde(e,n,r):n==="array-contains"?new Wde(e,r):n==="in"?new Hde(e,r):n==="not-in"?new qde(e,r):n==="array-contains-any"?new Kde(e,r):new Ln(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ude(e,r):new Bde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zf(n,this.value)):n!==null&&uc(this.value)===uc(n)&&this.matchesComparison(zf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xs extends G8{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Xs(e,n)}matches(e){return Y8(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Y8(t){return t.op==="and"}function X8(t){return Fde(t)&&Y8(t)}function Fde(t){for(const e of t.filters)if(e instanceof Xs)return!1;return!0}function eC(t){if(t instanceof Ln)return t.field.canonicalString()+t.op.toString()+Uf(t.value);if(X8(t))return t.filters.map(e=>eC(e)).join(",");{const e=t.filters.map(n=>eC(n)).join(",");return`${t.op}(${e})`}}function Q8(t,e){return t instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.field.isEqual(i.field)&&Ra(r.value,i.value)}(t,e):t instanceof Xs?function(r,i){return i instanceof Xs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&Q8(a,i.filters[o]),!0):!1}(t,e):void Ge(19439)}function Z8(t){return t instanceof Ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Uf(n.value)}`}(t):t instanceof Xs?function(n){return n.op.toString()+" {"+n.getFilters().map(Z8).join(" ,")+"}"}(t):"Filter"}class zde extends Ln{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ude extends Ln{constructor(e,n){super(e,"in",n),this.keys=J8("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bde extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=J8("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J8(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class Wde extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nI(n)&&Rg(n.arrayValue,this.value)}}class Hde extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rg(this.value.arrayValue,n)}}class qde extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rg(this.value.arrayValue,n)}}class Kde extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Ie=null}}function h$(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Gde(t,e,n,r,i,s,a)}function rI(t){const e=nt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),r_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uf(r)).join(",")),e.Ie=n}return e.Ie}function iI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f$(t.startAt,e.startAt)&&f$(t.endAt,e.endAt)}function tC(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yde(t,e,n,r,i,s,a,o){return new td(t,e,n,r,i,s,a,o)}function a_(t){return new td(t)}function p$(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sI(t){return t.collectionGroup!==null}function vf(t){const e=nt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Kn(hr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Mg(s,r))}),n.has(hr.keyField().canonicalString())||e.Ee.push(new Mg(hr.keyField(),r))}return e.Ee}function Aa(t){const e=nt(t);return e.de||(e.de=eW(e,vf(t))),e.de}function Xde(t){const e=nt(t);return e.Ae||(e.Ae=eW(e,t.explicitOrderBy)),e.Ae}function eW(t,e){if(t.limitType==="F")return h$(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Mg(i.field,s)});const n=t.endAt?new Bf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bf(t.startAt.position,t.startAt.inclusive):null;return h$(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nC(t,e){const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jb(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function o_(t,e){return iI(Aa(t),Aa(e))&&t.limitType===e.limitType}function tW(t){return`${rI(Aa(t))}|lt:${t.limitType}`}function Rd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Z8(i)).join(", ")}]`),r_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Uf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Uf(i)).join(",")),`Target(${r})`}(Aa(t))}; limitType=${t.limitType})`}function l_(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=d$(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,vf(r),i)||r.endAt&&!function(a,o,l){const u=d$(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,vf(r),i))}(t,e)}function Qde(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nW(t){return(e,n)=>{let r=!1;for(const i of vf(t)){const s=Zde(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Zde(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?zf(l,u):Ge(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return V8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jde=new mn(ze.comparator);function Io(){return Jde}const rW=new mn(ze.comparator);function mm(...t){let e=rW;for(const n of t)e=e.insert(n.key,n);return e}function iW(t){let e=rW;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function au(){return Vm()}function sW(){return Vm()}function Vm(){return new nd(t=>t.toString(),(t,e)=>t.isEqual(e))}const efe=new mn(ze.comparator),tfe=new Kn(ze.comparator);function xt(...t){let e=tfe;for(const n of t)e=e.add(n);return e}const nfe=new Kn(ft);function rfe(){return nfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eb(e)?"-0":e}}function aW(t){return{integerValue:""+t}}function ife(t,e){return kde(e)?aW(e):aI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this._=void 0}}function sfe(t,e,n){return t instanceof Dg?function(i,s){const a={fields:{[U8]:{stringValue:z8},[W8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&i_(s)&&(s=s_(s)),s&&(a.fields[B8]=s),{mapValue:a}}(n,e):t instanceof Lg?lW(t,e):t instanceof $g?cW(t,e):function(i,s){const a=oW(i,s),o=m$(a)+m$(i.Re);return Jj(a)&&Jj(i.Re)?aW(o):aI(i.serializer,o)}(t,e)}function afe(t,e,n){return t instanceof Lg?lW(t,e):t instanceof $g?cW(t,e):n}function oW(t,e){return t instanceof Cb?function(r){return Jj(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Dg extends c_{}class Lg extends c_{constructor(e){super(),this.elements=e}}function lW(t,e){const n=uW(e);for(const r of t.elements)n.some(i=>Ra(i,r))||n.push(r);return{arrayValue:{values:n}}}class $g extends c_{constructor(e){super(),this.elements=e}}function cW(t,e){let n=uW(e);for(const r of t.elements)n=n.filter(i=>!Ra(i,r));return{arrayValue:{values:n}}}class Cb extends c_{constructor(e,n){super(),this.serializer=e,this.Re=n}}function m$(t){return An(t.integerValue||t.doubleValue)}function uW(t){return nI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ofe{constructor(e,n){this.field=e,this.transform=n}}function lfe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lg&&i instanceof Lg||r instanceof $g&&i instanceof $g?Ff(r.elements,i.elements,Ra):r instanceof Cb&&i instanceof Cb?Ra(r.Re,i.Re):r instanceof Dg&&i instanceof Dg}(t.transform,e.transform)}class cfe{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class u_{}function dW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oI(t.key,yi.none()):new iy(t.key,t.data,yi.none());{const n=t.data,r=ui.empty();let i=new Kn(hr.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ac(t.key,r,new $i(i.toArray()),yi.none())}}function ufe(t,e,n){t instanceof iy?function(i,s,a){const o=i.value.clone(),l=v$(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ac?function(i,s,a){if(!Tx(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=v$(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(fW(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Fm(t,e,n,r){return t instanceof iy?function(s,a,o,l){if(!Tx(s.precondition,a))return o;const u=s.value.clone(),d=y$(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ac?function(s,a,o,l){if(!Tx(s.precondition,a))return o;const u=y$(s.fieldTransforms,l,a),d=a.data;return d.setAll(fW(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,a,o){return Tx(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function dfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oW(r.transform,i||null);s!=null&&(n===null&&(n=ui.empty()),n.set(r.field,s))}return n||null}function g$(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ff(r,i,(s,a)=>lfe(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iy extends u_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ac extends u_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fW(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v$(t,e,n){const r=new Map;jt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,afe(a,o,n[i]))}return r}function y$(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,sfe(s,a,e))}return r}class oI extends u_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ffe extends u_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hfe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ufe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sW();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=dW(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xt())}isEqual(e){return this.batchId===e.batchId&&Ff(this.mutations,e.mutations,(n,r)=>g$(n,r))&&Ff(this.baseMutations,e.baseMutations,(n,r)=>g$(n,r))}}class lI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){jt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return efe}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new lI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pfe=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gfe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,wt;function vfe(t){switch(t){case ae.OK:return Ge(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function hW(t){if(t===void 0)return No("GRPC error has no .code"),ae.UNKNOWN;switch(t){case On.OK:return ae.OK;case On.CANCELLED:return ae.CANCELLED;case On.UNKNOWN:return ae.UNKNOWN;case On.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case On.INTERNAL:return ae.INTERNAL;case On.UNAVAILABLE:return ae.UNAVAILABLE;case On.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case On.NOT_FOUND:return ae.NOT_FOUND;case On.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case On.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case On.ABORTED:return ae.ABORTED;case On.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case On.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case On.DATA_LOSS:return ae.DATA_LOSS;default:return Ge(39323,{code:t})}}(wt=On||(On={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe=new Ql([4294967295,4294967295],0);function x$(t){const e=D8().encode(t),n=new C8;return n.update(e),new Uint8Array(n.digest())}function b$(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ql([n,r],0),new Ql([i,s],0)]}class cI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gm(`Invalid padding: ${n}`);if(r<0)throw new gm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gm(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ql.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ql.fromNumber(r)));return i.compare(yfe)===1&&(i=new Ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=x$(e),[r,i]=b$(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cI(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.pe===0)return;const n=x$(e),[r,i]=b$(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new d_(rt.min(),i,new mn(ft),Io(),xt())}}class sy{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sy(r,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class pW{constructor(e,n){this.targetId=e,this.Ce=n}}class mW{constructor(e,n,r=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class w${constructor(){this.Fe=0,this.Me=_$(),this.xe=yr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xt(),n=xt(),r=xt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ge(38017,{changeType:s})}}),new sy(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=_$()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xfe{constructor(e){this.ze=e,this.je=new Map,this.He=Io(),this.Je=k0(),this.Ye=k0(),this.Ze=new mn(ft)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(tC(s))if(r===0){const a=new ze(s.path);this.tt(n,a,kr.newNoDocument(a,rt.min()))}else jt(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const o=this.ct(e),l=o?this.lt(o,e,a):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=cc(r).toUint8Array()}catch(l){if(l instanceof F8)return Vf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cI(a,i,s)}catch(l){return Vf(l instanceof gm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,a)=>{const o=this._t(a);if(o){if(s.current&&tC(o.target)){const l=new ze(o.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,kr.newNoDocument(l,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let r=xt();this.Ye.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new d_(e,n,this.Ze,this.He,r);return this.He=Io(),this.Je=k0(),this.Ye=k0(),this.Ze=new mn(ft),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new w$,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Kn(ft),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Kn(ft),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new w$),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function k0(){return new mn(ze.comparator)}function _$(){return new mn(ze.comparator)}const bfe={asc:"ASCENDING",desc:"DESCENDING"},wfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_fe={and:"AND",or:"OR"};class Sfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rC(t,e){return t.useProto3Json||r_(e)?e:{value:e}}function Pb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gW(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Efe(t,e){return Pb(t,e.toTimestamp())}function ja(t){return jt(!!t,49232),rt.fromTimestamp(function(n){const r=lc(n);return new Sn(r.seconds,r.nanos)}(t))}function uI(t,e){return iC(t,e).canonicalString()}function iC(t,e){const n=function(i){return new Ht(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vW(t){const e=Ht.fromString(t);return jt(SW(e),10190,{key:e.toString()}),e}function sC(t,e){return uI(t.databaseId,e.path)}function dT(t,e){const n=vW(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(xW(n))}function yW(t,e){return uI(t.databaseId,e)}function Tfe(t){const e=vW(t);return e.length===4?Ht.emptyPath():xW(e)}function aC(t){return new Ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xW(t){return jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S$(t,e,n){return{name:sC(t,e),fields:n.value.mapValue.fields}}function Afe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ge(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(jt(d===void 0||typeof d=="string",58123),yr.fromBase64String(d||"")):(jt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?ae.UNKNOWN:hW(u.code);return new Se(d,u.message||"")}(a);n=new mW(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dT(t,r.document.name),s=ja(r.document.updateTime),a=r.document.createTime?ja(r.document.createTime):rt.min(),o=new ui({mapValue:{fields:r.document.fields}}),l=kr.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ax(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dT(t,r.document),s=r.readTime?ja(r.readTime):rt.min(),a=kr.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Ax([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dT(t,r.document),s=r.removedTargetIds||[];n=new Ax([],s,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new gfe(i,s),o=r.targetId;n=new pW(o,a)}}return n}function jfe(t,e){let n;if(e instanceof iy)n={update:S$(t,e.key,e.value)};else if(e instanceof oI)n={delete:sC(t,e.key)};else if(e instanceof Ac)n={update:S$(t,e.key,e.data),updateMask:Dfe(e.fieldMask)};else{if(!(e instanceof ffe))return Ge(16599,{ft:e.type});n={verify:sC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Dg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Lg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $g)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Cb)return{fieldPath:a.field.canonicalString(),increment:o.Re};throw Ge(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Efe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)}(t,e.precondition)),n}function Cfe(t,e){return t&&t.length>0?(jt(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?ja(i.updateTime):ja(s);return a.isEqual(rt.min())&&(a=ja(s)),new cfe(a,i.transformResults||[])}(n,e))):[]}function Pfe(t,e){return{documents:[yW(t,e.path)]}}function bW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yW(t,i);const s=function(u){if(u.length!==0)return _W(Xs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Tl(h.field),direction:Ofe(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=rC(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function kfe(t,e,n,r){const{gt:i,parent:s}=bW(t,e),a={},o=[];let l=0;return n.forEach(u=>{const d="aggregate_"+l++;a[d]=u.alias,u.aggregateType==="count"?o.push({alias:d,count:{}}):u.aggregateType==="avg"?o.push({alias:d,avg:{field:Tl(u.fieldPath)}}):u.aggregateType==="sum"&&o.push({alias:d,sum:{field:Tl(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},yt:a,parent:s}}function Nfe(t){let e=Tfe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=wW(f);return h instanceof Xs&&X8(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(g){return new Mg(Md(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let o=null;n.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,r_(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Bf(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Bf(p,h)}(n.endAt)),Yde(e,i,a,s,o,"F",l,u)}function Ife(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wW(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Md(n.unaryFilter.field);return Ln.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Md(n.unaryFilter.field);return Ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Md(n.unaryFilter.field);return Ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Md(n.unaryFilter.field);return Ln.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ln.create(Md(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xs.create(n.compositeFilter.filters.map(r=>wW(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(n.compositeFilter.op))}(t):Ge(30097,{filter:t})}function Ofe(t){return bfe[t]}function Rfe(t){return wfe[t]}function Mfe(t){return _fe[t]}function Tl(t){return{fieldPath:t.canonicalString()}}function Md(t){return hr.fromServerFormat(t.fieldPath)}function _W(t){return t instanceof Ln?function(n){if(n.op==="=="){if(u$(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NAN"}};if(c$(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u$(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NAN"}};if(c$(n.value))return{unaryFilter:{field:Tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(n.field),op:Rfe(n.op),value:n.value}}}(t):t instanceof Xs?function(n){const r=n.getFilters().map(i=>_W(i));return r.length===1?r[0]:{compositeFilter:{op:Mfe(n.op),filters:r}}}(t):Ge(54877,{filter:t})}function Dfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,i,s=rt.min(),a=rt.min(),o=yr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lfe{constructor(e){this.wt=e}}function $fe(t){const e=Nfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{constructor(){this.yn=new Ffe}addToCollectionParentIndex(e,n){return this.yn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(oc.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(oc.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class Ffe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kn(Ht.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EW=41943040;class oi{static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(EW,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Wf(0)}static ir(){return new Wf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="LruGarbageCollector",TW=1048576;function A$([t,e],[n,r]){const i=ft(t,n);return i===0?ft(e,r):i}class zfe{constructor(e){this.cr=e,this.buffer=new Kn(A$),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A$(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ufe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(T$,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Kh(n)?Ne(T$,"Ignoring IndexedDB error during garbage collection: ",n):await qh(n)}await this.Ir(3e5)})}}class Bfe{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(n_.le);const r=new zfe(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(E$)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E$):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Od()<=yt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Wfe(t,e){return new Bfe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(){this.changes=new nd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kfe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fm(r.mutation,i,$i.empty(),Sn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xt()){const i=au();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=mm();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=au();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Io();const a=Vm(),o=function(){return Vm()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ac)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Fm(d.mutation,u,d.mutation.getFieldMask(),Sn.now())):a.set(u.key,$i.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return o.set(u,new qfe(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Vm();let i=new mn((a,o)=>a-o),s=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||$i.empty();d=o.applyToLocalView(u,d),r.set(l,d);const f=(i.get(o.batchId)||xt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=sW();d.forEach(h=>{if(!s.has(h)){const p=dW(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ue.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ue.resolve(au());let o=kg,l=s;return a.next(u=>ue.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?ue.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,xt())).next(d=>({batchId:o,changes:iW(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=mm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=mm();return this.indexManager.getCollectionParents(e,s).next(o=>ue.forEach(o,l=>{const u=function(f,h){return new td(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,kr.newInvalidDocument(d)))});let o=mm();return a.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Fm(d.mutation,u,$i.empty(),Sn.now()),l_(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ja(i.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:$fe(i.bundledQuery),readTime:ja(i.readTime)}}(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(){this.overlays=new mn(ze.comparator),this.Or=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=au();return ue.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=au(),s=n.length+1,a=new ze(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=au(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=au(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return ue.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new pfe(n,r));let s=this.Or.get(n);s===void 0&&(s=xt(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Nr=new Kn(Xn.Br),this.Lr=new Kn(Xn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Xn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new ze(new Ht([])),r=new Xn(n,e),i=new Xn(n,e+1),s=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),s.push(a.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ze(new Ht([])),r=new Xn(n,e),i=new Xn(n,e+1);let s=xt();return this.Lr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Xn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ze.comparator(e.key,n.key)||ft(e.Gr,n.Gr)}static kr(e,n){return ft(e.Gr,n.Gr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Kn(Xn.Br)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new hfe(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.zr=this.zr.add(new Xn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ue.resolve(a)}lookupMutationBatch(e,n){return ue.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?tI:this.Jn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),i=new Xn(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],a=>{const o=this.jr(a.Gr);s.push(o)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kn(ft);return n.forEach(i=>{const s=new Xn(i,0),a=new Xn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,a],o=>{r=r.add(o.Gr)})}),ue.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const a=new Xn(new ze(s),0);let o=new Kn(ft);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Gr)),!0)},a),ue.resolve(this.Jr(o))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){jt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ue.forEach(n.mutations,i=>{const s=new Xn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Xn(n,0),i=this.zr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(e){this.Zr=e,this.docs=function(){return new mn(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(e,n){let r=Io();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kr.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Io();const a=n.path,o=new ze(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Ade(Tde(d),r)<=0||(i.has(d.key)||l_(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ge(9500)}Xr(e,n){return ue.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jfe(this)}getSize(e){return ue.resolve(this.size)}}class Jfe extends Hfe{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),ue.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(e){this.persistence=e,this.ei=new nd(n=>rI(n),iI),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new dI,this.targetCount=0,this.ri=Wf.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),ue.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Wf(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.ar(n),ue.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ei.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ue.waitFor(s).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n){this.ii={},this.overlays={},this.si=new n_(0),this.oi=!1,this.oi=!0,this._i=new Xfe,this.referenceDelegate=e(this),this.ai=new ehe(this),this.indexManager=new Vfe,this.remoteDocumentCache=function(i){return new Zfe(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Lfe(n),this.ci=new Gfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Qfe(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new the(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return ue.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class the extends Cde{constructor(e){super(),this.currentSequenceNumber=e}}class fI{constructor(e){this.persistence=e,this.Ti=new dI,this.Ii=null}static Ei(e){return new fI(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,r=>{const i=ze.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,rt.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ue.or([()=>ue.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class kb{constructor(e,n){this.persistence=e,this.Ri=new nd(r=>Nde(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Wfe(this,n)}static Ei(e,n){return new kb(e,n)}li(){}hi(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return ue.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?ue.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,n).next(o=>{o||(r++,s.removeEntry(a,rt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ue.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sx(e.data.value)),n}gr(e,n,r){return ue.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=xt(),i=xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Roe()?8:Pde(Mr())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new nhe;return this.fs(e,n,a).next(o=>{if(s.result=o,this.Is)return this.gs(e,n,a,o.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Od()<=yt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Rd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ue.resolve()):(Od()<=yt.DEBUG&&Ne("QueryEngine","Query:",Rd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Od()<=yt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Rd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Aa(n))):ue.resolve())}Rs(e,n){if(p$(n))return ue.resolve(null);let r=Aa(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jb(n,null,"F"),r=Aa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=xt(...s);return this.As.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,o);return this.ys(n,u,a,l.readTime)?this.Rs(e,jb(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return p$(n)||i.isEqual(rt.min())?ue.resolve(null):this.As.getDocuments(e,r).next(s=>{const a=this.ps(n,s);return this.ys(n,a,r,i)?ue.resolve(null):(Od()<=yt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rd(n)),this.ws(e,a,n,Ede(i,kg)).next(o=>o))})}ps(e,n){let r=new Kn(nW(e));return n.forEach((i,s)=>{l_(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return Od()<=yt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Rd(n)),this.As.getDocumentsMatchingQuery(e,n,oc.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="LocalStore",ihe=3e8;class she{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new mn(ft),this.Ds=new nd(s=>rI(s),iI),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kfe(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function ahe(t,e,n,r){return new she(t,e,n,r)}async function jW(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=xt();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:a,addedBatchIds:o}))})})}function ohe(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const f=u.batch,h=f.keys();let p=ue.resolve();return h.forEach(g=>{p=p.next(()=>d.getEntry(l,g)).next(m=>{const v=u.docVersions.get(g);jt(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),d.addEntry(m)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=xt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CW(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function lhe(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const o=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;o.push(n.ai.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(s,d.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(yr.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=ihe?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,d)&&o.push(n.ai.updateTargetData(s,p))});let l=Io(),u=xt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(che(s,a,e.documentUpdates).next(d=>{l=d.xs,u=d.Os})),!r.isEqual(rt.min())){const d=n.ai.getLastRemoteSnapshotVersion(s).next(f=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return ue.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ss=i,s))}function che(t,e,n){let r=xt(),i=xt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Io();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(rt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ne(pI,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{xs:a,Os:i}})}function uhe(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dhe(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,ue.resolve(i)):n.ai.allocateTargetId(r).next(a=>(i=new Il(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function oC(t,e,n){const r=nt(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Kh(a))throw a;Ne(pI,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function j$(t,e,n){const r=nt(t);let i=rt.min(),s=xt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const f=nt(l),h=f.Ds.get(d);return h!==void 0?ue.resolve(f.Ss.get(h)):f.ai.getTargetData(u,d)}(r,a,Aa(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,n?i:rt.min(),n?s:xt())).next(o=>(fhe(r,Qde(e),o),{documents:o,Ns:s})))}function fhe(t,e,n){let r=t.vs.get(e)||rt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class C${constructor(){this.activeTargetIds=rfe()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hhe{constructor(){this.So=new C$,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new C$,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="ConnectivityMonitor";class k${constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(P$,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(P$,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0=null;function lC(){return N0===null?N0=function(){return 268435456+Math.round(2147483648*Math.random())}():N0++,"0x"+N0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="RestConnection",mhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ghe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ig?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const a=lC(),o=this.$o(e,n.toUriEncodedString());Ne(fT,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,s);const{host:u}=new URL(o),d=Bh(u);return this.Ko(e,o,l,r,d).then(f=>(Ne(fT,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Vf(fT,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f})}Wo(e,n,r,i,s,a){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=mhe[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="WebChannelConnection";class yhe extends ghe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,s){const a=lC();return new Promise((o,l)=>{const u=new P8;u.setWithCredentials(!0),u.listenOnce(k8.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _x.NO_ERROR:const f=u.getResponseJson();Ne(Tr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case _x.TIMEOUT:Ne(Tr,`RPC '${e}' ${a} timed out`),l(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case _x.HTTP_ERROR:const h=u.getStatus();if(Ne(Tr,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(x)>=0?x:ae.UNKNOWN}(g.status);l(new Se(m,g.message))}else l(new Se(ae.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:a,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Ne(Tr,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);Ne(Tr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",d,r,15)})}a_(e,n,r){const i=lC(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=O8(),o=I8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ne(Tr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let h=!1,p=!1;const g=new vhe({Go:v=>{p?Ne(Tr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ne(Tr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ne(Tr,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,x)=>{v.listen(y,_=>{try{x(_)}catch(E){setTimeout(()=>{throw E},0)}})};return m(f,pm.EventType.OPEN,()=>{p||(Ne(Tr,`RPC '${e}' stream ${i} transport opened.`),g.t_())}),m(f,pm.EventType.CLOSE,()=>{p||(p=!0,Ne(Tr,`RPC '${e}' stream ${i} transport closed`),g.r_())}),m(f,pm.EventType.ERROR,v=>{p||(p=!0,Vf(Tr,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Se(ae.UNAVAILABLE,"The operation could not be completed")))}),m(f,pm.EventType.MESSAGE,v=>{var y;if(!p){const x=v.data[0];jt(!!x,16349);const _=x,E=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(E){Ne(Tr,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let j=function(C){const k=On[C];if(k!==void 0)return hW(k)}(S),A=E.message;j===void 0&&(j=ae.INTERNAL,A="Unknown error status: "+S+" with message "+E.message),p=!0,g.r_(new Se(j,A)),f.close()}else Ne(Tr,`RPC '${e}' stream ${i} received:`,x),g.i_(x)}}),m(o,N8.STAT_EVENT,v=>{v.stat===Xj.PROXY?Ne(Tr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Xj.NOPROXY&&Ne(Tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function hT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){return new Sfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="PersistentStream";class kW{constructor(e,n,r,i,s,a,o,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new PW(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(No(n.toString()),No("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Se(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(N$,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ne(N$,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xhe extends kW{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=Afe(this.serializer,e),r=function(s){if(!("targetChange"in s))return rt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?rt.min():a.readTime?ja(a.readTime):rt.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=aC(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=tC(l)?{documents:Pfe(s,l)}:{query:bW(s,l).gt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=gW(s,a.resumeToken);const u=rC(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(rt.min())>0){o.readTime=Pb(s,a.snapshotVersion.toTimestamp());const u=rC(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=Ife(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=aC(this.serializer),n.removeTarget=e,this.F_(n)}}class bhe extends kW{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Cfe(e.writeResults,e.commitTime),r=ja(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=aC(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jfe(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class whe{}class _he extends whe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Qo(e,iC(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ae.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Wo(e,iC(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ae.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class She{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(No(n),this.ea=!1):Ne("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="RemoteStore";class Ehe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(a=>{r.enqueueAndForget(async()=>{rd(this)&&(Ne(ku,"Restarting streams for network reachability change."),await async function(l){const u=nt(l);u.aa.add(4),await ay(u),u.la.set("Unknown"),u.aa.delete(4),await h_(u)}(this))})}),this.la=new She(r,i)}}async function h_(t){if(rd(t))for(const e of t.ua)await e(!0)}async function ay(t){for(const e of t.ua)await e(!1)}function NW(t,e){const n=nt(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),yI(n)?vI(n):Gh(n).b_()&&gI(n,e))}function mI(t,e){const n=nt(t),r=Gh(n);n._a.delete(e),r.b_()&&IW(n,e),n._a.size===0&&(r.b_()?r.v_():rd(n)&&n.la.set("Unknown"))}function gI(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gh(t).U_(e)}function IW(t,e){t.ha.Ke(e),Gh(t).K_(e)}function vI(t){t.ha=new xfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Gh(t).start(),t.la.ta()}function yI(t){return rd(t)&&!Gh(t).w_()&&t._a.size>0}function rd(t){return nt(t).aa.size===0}function OW(t){t.ha=void 0}async function The(t){t.la.set("Online")}async function Ahe(t){t._a.forEach((e,n)=>{gI(t,e)})}async function jhe(t,e){OW(t),yI(t)?(t.la.ia(e),vI(t)):t.la.set("Unknown")}async function Che(t,e,n){if(t.la.set("Online"),e instanceof mW&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i._a.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i._a.delete(o),i.ha.removeTarget(o))}(t,e)}catch(r){Ne(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nb(t,r)}else if(e instanceof Ax?t.ha.Xe(e):e instanceof pW?t.ha.ot(e):t.ha.nt(e),!n.isEqual(rt.min()))try{const r=await CW(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.ha.It(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s._a.get(u);d&&s._a.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=s._a.get(l);if(!d)return;s._a.set(l,d.withResumeToken(yr.EMPTY_BYTE_STRING,d.snapshotVersion)),IW(s,l);const f=new Il(d.target,l,u,d.sequenceNumber);gI(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ne(ku,"Failed to raise snapshot:",r),await Nb(t,r)}}async function Nb(t,e,n){if(!Kh(e))throw e;t.aa.add(1),await ay(t),t.la.set("Offline"),n||(n=()=>CW(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(ku,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await h_(t)})}function RW(t,e){return e().catch(n=>Nb(t,n,e))}async function p_(t){const e=nt(t),n=dc(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:tI;for(;Phe(e);)try{const i=await uhe(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,khe(e,i)}catch(i){await Nb(e,i)}MW(e)&&DW(e)}function Phe(t){return rd(t)&&t.oa.length<10}function khe(t,e){t.oa.push(e);const n=dc(t);n.b_()&&n.W_&&n.G_(e.mutations)}function MW(t){return rd(t)&&!dc(t).w_()&&t.oa.length>0}function DW(t){dc(t).start()}async function Nhe(t){dc(t).H_()}async function Ihe(t){const e=dc(t);for(const n of t.oa)e.G_(n.mutations)}async function Ohe(t,e,n){const r=t.oa.shift(),i=lI.from(r,e,n);await RW(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await p_(t)}async function Rhe(t,e){e&&dc(t).W_&&await async function(r,i){if(function(a){return vfe(a)&&a!==ae.ABORTED}(i.code)){const s=r.oa.shift();dc(r).D_(),await RW(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await p_(r)}}(t,e),MW(t)&&DW(t)}async function I$(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),Ne(ku,"RemoteStore received new credentials");const r=rd(n);n.aa.add(3),await ay(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await h_(n)}async function Mhe(t,e){const n=nt(t);e?(n.aa.delete(2),await h_(n)):e||(n.aa.add(2),await ay(n),n.la.set("Unknown"))}function Gh(t){return t.Pa||(t.Pa=function(n,r,i){const s=nt(n);return s.Y_(),new xhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:The.bind(null,t),Jo:Ahe.bind(null,t),Zo:jhe.bind(null,t),Q_:Che.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),yI(t)?vI(t):t.la.set("Unknown")):(await t.Pa.stop(),OW(t))})),t.Pa}function dc(t){return t.Ta||(t.Ta=function(n,r,i){const s=nt(n);return s.Y_(),new bhe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Nhe.bind(null,t),Zo:Rhe.bind(null,t),z_:Ihe.bind(null,t),j_:Ohe.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await p_(t)):(await t.Ta.stop(),t.oa.length>0&&(Ne(ku,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new xI(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bI(t,e){if(No("AsyncQueue",`${e}: ${t}`),Kh(t))return new Se(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{static emptySet(e){return new yf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=mm(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.Ia=new mn(ze.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hf{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Hf(e,n,yf.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dhe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Lhe{constructor(){this.queries=R$(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=nt(n),s=i.queries;i.queries=R$(),s.forEach((a,o)=>{for(const l of o.Ra)l.onError(r)})})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function R$(){return new nd(t=>tW(t),o_)}async function wI(t,e){const n=nt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new Dhe,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=bI(a,`Initialization of query '${Rd(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&SI(n)}async function _I(t,e){const n=nt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Ra.indexOf(e);a>=0&&(s.Ra.splice(a,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $he(t,e){const n=nt(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Ra)o.pa(i)&&(r=!0);a.Aa=i}}r&&SI(n)}function Vhe(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function SI(t){t.fa.forEach(e=>{e.next()})}var cC,M$;(M$=cC||(cC={})).ya="default",M$.Cache="cache";class EI{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Hf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==cC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.key=e}}class $W{constructor(e){this.key=e}}class Fhe{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=xt(),this.mutatedKeys=xt(),this.Ua=nW(e),this.Ka=new yf(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new O$,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=l_(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),v=!0):this.ja(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(o=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(o=!0)),v&&(p?(a=a.add(p),s=m?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ka:a,za:r,ys:o,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((d,f)=>function(p,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:v})}};return m(p)-m(g)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),i=i!=null&&i;const o=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,a.length!==0||u?{snapshot:new Hf(this.query,e.Ka,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new O$,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=xt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new $W(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new LW(r))}),n}Xa(e){this.qa=e.Ns,this.$a=xt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Hf.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const TI="SyncEngine";class zhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Uhe{constructor(e){this.key=e,this.tu=!1}}class Bhe{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new nd(o=>tW(o),o_),this.iu=new Map,this.su=new Set,this.ou=new mn(ze.comparator),this._u=new Map,this.au=new dI,this.uu={},this.cu=new Map,this.lu=Wf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Whe(t,e,n=!0){const r=WW(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await VW(r,e,n,!0),i}async function Hhe(t,e){const n=WW(t);await VW(n,e,!0,!1)}async function VW(t,e,n,r){const i=await dhe(t.localStore,Aa(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await qhe(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&NW(t.remoteStore,i),o}async function qhe(t,e,n,r,i){t.Pu=(f,h,p)=>async function(m,v,y,x){let _=v.view.Ga(y);_.ys&&(_=await j$(m.localStore,v.query,!1).then(({documents:A})=>v.view.Ga(A,_)));const E=x&&x.targetChanges.get(v.targetId),S=x&&x.targetMismatches.get(v.targetId)!=null,j=v.view.applyChanges(_,m.isPrimaryClient,E,S);return L$(m,v.targetId,j.Ya),j.snapshot}(t,f,h,p);const s=await j$(t.localStore,e,!0),a=new Fhe(e,s.Ns),o=a.Ga(s.documents),l=sy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);L$(t,n,u.Ya);const d=new zhe(e,n,a);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function Khe(t,e,n){const r=nt(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(a=>!o_(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mI(r.remoteStore,i.targetId),uC(r,i.targetId)}).catch(qh)):(uC(r,i.targetId),await oC(r.localStore,i.targetId,!0))}async function Ghe(t,e){const n=nt(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mI(n.remoteStore,r.targetId))}async function Yhe(t,e,n){const r=npe(t);try{const i=await function(a,o){const l=nt(a),u=Sn.now(),d=o.reduce((p,g)=>p.add(g.key),xt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Io(),m=xt();return l.Cs.getEntries(p,d).next(v=>{g=v,g.forEach((y,x)=>{x.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{f=v;const y=[];for(const x of o){const _=dfe(x,f.get(x.key).overlayedDocument);_!=null&&y.push(new Ac(x.key,_,K8(_.value.mapValue),yi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:iW(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.uu[a.currentUser.toKey()];u||(u=new mn(ft)),u=u.insert(o,l),a.uu[a.currentUser.toKey()]=u}(r,i.batchId,n),await oy(r,i.changes),await p_(r.remoteStore)}catch(i){const s=bI(i,"Failed to persist write");n.reject(s)}}async function FW(t,e){const n=nt(t);try{const r=await lhe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n._u.get(s);a&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?jt(a.tu,14607):i.removedDocuments.size>0&&(jt(a.tu,42227),a.tu=!1))}),await oy(n,r,e)}catch(r){await qh(r)}}function D$(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,a)=>{const o=a.view.ga(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=nt(a);l.onlineState=o;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Ra)h.ga(o)&&(u=!0)}),u&&SI(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xhe(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let a=new mn(ze.comparator);a=a.insert(s,kr.newNoDocument(s,rt.min()));const o=xt().add(s),l=new d_(rt.min(),new Map,new mn(ft),a,o);await FW(r,l),r.ou=r.ou.remove(s),r._u.delete(e),AI(r)}else await oC(r.localStore,e,!1).then(()=>uC(r,e,n)).catch(qh)}async function Qhe(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await ohe(n.localStore,e);UW(n,r,null),zW(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oy(n,i)}catch(i){await qh(i)}}async function Zhe(t,e,n){const r=nt(t);try{const i=await function(a,o){const l=nt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(jt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);UW(r,e,n),zW(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await oy(r,i)}catch(i){await qh(i)}}function zW(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function UW(t,e,n){const r=nt(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function uC(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||BW(t,r)})}function BW(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(mI(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),AI(t))}function L$(t,e,n){for(const r of n)r instanceof LW?(t.au.addReference(r.key,e),Jhe(t,r)):r instanceof $W?(Ne(TI,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||BW(t,r.key)):Ge(19791,{Iu:r})}function Jhe(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Ne(TI,"New document in limbo: "+n),t.su.add(r),AI(t))}function AI(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ze(Ht.fromString(e)),r=t.lu.next();t._u.set(r,new Uhe(n)),t.ou=t.ou.insert(n,r),NW(t.remoteStore,new Il(Aa(a_(n.path)),r,"TargetPurposeLimboResolution",n_.le))}}async function oy(t,e,n){const r=nt(t),i=[],s=[],a=[];r.ru.isEmpty()||(r.ru.forEach((o,l)=>{a.push(r.Pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=hI.Ps(l.targetId,u);s.push(f)}}))}),await Promise.all(a),r.nu.Q_(i),await async function(l,u){const d=nt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ue.forEach(u,h=>ue.forEach(h.ls,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ue.forEach(h.hs,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Kh(f))throw f;Ne(pI,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ss.get(h),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);d.Ss=d.Ss.insert(h,m)}}}(r.localStore,s))}async function epe(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){Ne(TI,"User change. New user:",e.toKey());const r=await jW(n.localStore,e);n.currentUser=e,function(s,a){s.cu.forEach(o=>{o.forEach(l=>{l.reject(new Se(ae.CANCELLED,a))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await oy(n,r.Ms)}}function tpe(t,e){const n=nt(t),r=n._u.get(e);if(r&&r.tu)return xt().add(r.key);{let i=xt();const s=n.iu.get(e);if(!s)return i;for(const a of s){const o=n.ru.get(a);i=i.unionWith(o.view.Wa)}return i}}function WW(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xhe.bind(null,e),e.nu.Q_=$he.bind(null,e.eventManager),e.nu.Tu=Vhe.bind(null,e.eventManager),e}function npe(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zhe.bind(null,e),e}class Ib{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=f_(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return ahe(this.persistence,new rhe,e.initialUser,this.serializer)}Ru(e){return new AW(fI.Ei,this.serializer)}Au(e){return new hhe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ib.provider={build:()=>new Ib};class rpe extends Ib{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){jt(this.persistence.referenceDelegate instanceof kb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ufe(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?oi.withCacheSize(this.cacheSizeBytes):oi.DEFAULT;return new AW(r=>kb.Ei(r,n),this.serializer)}}class dC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D$(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=epe.bind(null,this.syncEngine),await Mhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lhe}()}createDatastore(e){const n=f_(e.databaseInfo.databaseId),r=function(s){return new yhe(s)}(e.databaseInfo);return function(s,a,o,l){return new _he(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new Ehe(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>D$(this.syncEngine,n,0),function(){return k$.C()?new k$:new phe}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,d){const f=new Bhe(i,s,a,o,l,u);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=nt(i);Ne(ku,"RemoteStore shutting down."),s.aa.add(5),await ay(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dC.provider={build:()=>new dC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):No("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="FirestoreClient";class ipe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=L8.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{Ne(fc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ne(fc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pT(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(fc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jW(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $$(t,e){t.asyncQueue.verifyOperationInProgress();const n=await spe(t);Ne(fc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>I$(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>I$(e.remoteStore,i)),t._onlineComponents=e}async function spe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(fc,"Using user provided OfflineComponentProvider");try{await pT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vf("Error using user provided cache. Falling back to memory cache: "+n),await pT(t,new Ib)}}else Ne(fc,"Using default OfflineComponentProvider"),await pT(t,new rpe(void 0));return t._offlineComponents}async function CI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(fc,"Using user provided OnlineComponentProvider"),await $$(t,t._uninitializedComponentsProvider._online)):(Ne(fc,"Using default OnlineComponentProvider"),await $$(t,new dC))),t._onlineComponents}function ape(t){return CI(t).then(e=>e.syncEngine)}function ope(t){return CI(t).then(e=>e.datastore)}async function Ob(t){const e=await CI(t),n=e.eventManager;return n.onListen=Whe.bind(null,e.syncEngine),n.onUnlisten=Khe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ghe.bind(null,e.syncEngine),n}function lpe(t,e,n={}){const r=new Ta;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const d=new jI({next:h=>{d.yu(),a.enqueueAndForget(()=>_I(s,f));const p=h.docs.has(o);!p&&h.fromCache?u.reject(new Se(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Se(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new EI(a_(o.path),d,{includeMetadataChanges:!0,Fa:!0});return wI(s,f)}(await Ob(t),t.asyncQueue,e,n,r)),r.promise}function cpe(t,e,n={}){const r=new Ta;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const d=new jI({next:h=>{d.yu(),a.enqueueAndForget(()=>_I(s,f)),h.fromCache&&l.source==="server"?u.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new EI(o,d,{includeMetadataChanges:!0,Fa:!0});return wI(s,f)}(await Ob(t),t.asyncQueue,e,n,r)),r.promise}function upe(t,e,n){const r=new Ta;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await ope(t);r.resolve(async function(a,o,l){var u;const d=nt(a),{request:f,yt:h,parent:p}=kfe(d.serializer,Xde(o),l);d.connection.Bo||delete f.parent;const g=(await d.Wo("RunAggregationQuery",d.serializer.databaseId,p,f,1)).filter(v=>!!v.result);jt(g.length===1,64727);const m=(u=g[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t,e,n){if(!n)throw new Se(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dpe(t,e,n,r){if(e===!0&&r===!0)throw new Se(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function F$(t){if(!ze.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z$(t){if(ze.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=m_(t);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fpe(t,e){if(e<=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="firestore.googleapis.com",U$=!0;class B${constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KW,this.ssl=U$}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:U$;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TW)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dpe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HW((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B$({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B$(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mde;switch(r.type){case"firstParty":return new xde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V$.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),V$.delete(n),r.terminate())}(this),Promise.resolve()}}function hpe(t,e,n,r={}){var i;t=Xr(t,g_);const s=Bh(e),a=t._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&Q1(`https://${l}`),a.host!==KW&&a.host!==l&&Vf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:r});if(!jo(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Cr.MOCK_USER;else{d=D9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Cr(h)}t._authCredentials=new gde(new M8(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class Or{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Or(this.firestore,e,this._key)}}class Zl extends Ba{constructor(e,n,r){super(e,n,a_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Or(this.firestore,null,new ze(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function _n(t,e,...n){if(t=zt(t),qW("collection","path",e),t instanceof g_){const r=Ht.fromString(e,...n);return z$(r),new Zl(t,null,r)}{if(!(t instanceof Or||t instanceof Zl))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return z$(r),new Zl(t.firestore,null,r)}}function ln(t,e,...n){if(t=zt(t),arguments.length===1&&(e=L8.newId()),qW("doc","path",e),t instanceof g_){const r=Ht.fromString(e,...n);return F$(r),new Or(t,null,new ze(r))}{if(!(t instanceof Or||t instanceof Zl))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ht.fromString(e,...n));return F$(r),new Or(t.firestore,t instanceof Zl?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="AsyncQueue";class H${constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new PW(this,"async_queue_retry"),this.ju=()=>{const r=hT();r&&Ne(W$,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=hT();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=hT();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ta;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Kh(e))throw e;Ne(W$,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,No("INTERNAL UNHANDLED ERROR: ",q$(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=xI.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Ge(47125,{ec:q$(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function q$(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ppe=-1;class Ma extends g_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new H$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H$(e),this._firestoreClient=void 0,await e}}}function mpe(t,e,n){n||(n=Ig);const r=Ho(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(jo(s,e))return i;throw new Se(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Se(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TW)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Bh(e.host)&&Q1(e.host),r.initialize({options:e,instanceIdentifier:n})}function gpe(t,e){const n=typeof t=="object"?t:Zv(),r=typeof t=="string"?t:Ig,i=Ho(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=O9("firestore");s&&hpe(i,...s)}return i}function Yh(t){if(t._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vpe(t),t._firestoreClient}function vpe(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,u,d){return new Mde(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HW(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ipe(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ype{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class xpe{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qf(yr.fromBase64String(e))}catch(n){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qf(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bpe=/^__.*__$/;class wpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms):new iy(e,this.data,n,this.fieldTransforms)}}class GW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ac(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{oc:t})}}class NI{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new NI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Rb(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(YW(this.oc)&&bpe.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class _pe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||f_(e)}dc(e,n,r,i=!1){return new NI({oc:e,methodName:n,Ec:r,path:hr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xh(t){const e=t._freezeSettings(),n=f_(t._databaseId);return new _pe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function II(t,e,n,r,i,s={}){const a=t.dc(s.merge||s.mergeFields?2:0,e,n,i);RI("Data must be an object, but it was:",a,r);const o=JW(r,a);let l,u;if(s.merge)l=new $i(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=fC(e,f,n);if(!a.contains(h))throw new Se(ae.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);t7(d,h)||d.push(h)}l=new $i(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new wpe(new ui(o),l,u)}class y_ extends v_{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y_}}class OI extends v_{_toFieldTransform(e){return new ofe(e.path,new Dg)}isEqual(e){return e instanceof OI}}function XW(t,e,n,r){const i=t.dc(1,e,n);RI("Data must be an object, but it was:",i,r);const s=[],a=ui.empty();Tc(r,(l,u)=>{const d=MI(e,l,n);u=zt(u);const f=i.hc(d);if(u instanceof y_)s.push(d);else{const h=cy(u,f);h!=null&&(s.push(d),a.set(d,h))}});const o=new $i(s);return new GW(a,o,i.fieldTransforms)}function QW(t,e,n,r,i,s){const a=t.dc(1,e,n),o=[fC(e,r,n)],l=[i];if(s.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(fC(e,s[h])),l.push(s[h+1]);const u=[],d=ui.empty();for(let h=o.length-1;h>=0;--h)if(!t7(u,o[h])){const p=o[h];let g=l[h];g=zt(g);const m=a.hc(p);if(g instanceof y_)u.push(p);else{const v=cy(g,m);v!=null&&(u.push(p),d.set(p,v))}}const f=new $i(u);return new GW(d,f,a.fieldTransforms)}function ZW(t,e,n,r=!1){return cy(n,t.dc(r?4:3,e))}function cy(t,e){if(e7(t=zt(t)))return RI("Unsupported field value:",e,t),JW(t,e);if(t instanceof v_)return function(r,i){if(!YW(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=cy(o,i.Pc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ife(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Sn.fromDate(r);return{timestampValue:Pb(i.serializer,s)}}if(r instanceof Sn){const s=new Sn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pb(i.serializer,s)}}if(r instanceof PI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qf)return{bytesValue:gW(i.serializer,r._byteString)};if(r instanceof Or){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kI)return function(a,o){return{mapValue:{fields:{[H8]:{stringValue:q8},[Tb]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Tc("VectorValues must only contain numeric values.");return aI(o.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${m_(r)}`)}(t,e)}function JW(t,e){const n={};return V8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,(r,i)=>{const s=cy(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function e7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Sn||t instanceof PI||t instanceof qf||t instanceof Or||t instanceof v_||t instanceof kI)}function RI(t,e,n){if(!e7(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=m_(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function fC(t,e,n){if((e=zt(e))instanceof ly)return e._internalPath;if(typeof e=="string")return MI(t,e);throw Rb("Field path arguments must be of type string or ",t,!1,void 0,n)}const Spe=new RegExp("[~\\*/\\[\\]]");function MI(t,e,n){if(e.search(Spe)>=0)throw Rb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ly(...e.split("."))._internalPath}catch{throw Rb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rb(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Se(ae.INVALID_ARGUMENT,o+t+l)}function t7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Epe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Epe extends DI{data(){return super.data()}}function x_(t,e){return typeof e=="string"?MI(t,e):e instanceof ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LI{}class b_ extends LI{}function Gn(t,e,...n){let r=[];e instanceof LI&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof $I).length,o=s.filter(l=>l instanceof w_).length;if(a>1||a>0&&o>0)throw new Se(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class w_ extends b_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new w_(e,n,r)}_apply(e){const n=this._parse(e);return r7(e._query,n),new Ba(e.firestore,e.converter,nC(e._query,n))}_parse(e){const n=Xh(e.firestore);return function(s,a,o,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Y$(f,d);const g=[];for(const m of f)g.push(G$(l,s,m));h={arrayValue:{values:g}}}else h=G$(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Y$(f,d),h=ZW(o,a,f,d==="in"||d==="not-in");return Ln.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gr(t,e,n){const r=e,i=x_("where",t);return w_._create(i,r,n)}class $I extends LI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $I(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)r7(a,l),a=nC(a,l)}(e._query,n),new Ba(e.firestore,e.converter,nC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VI extends b_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new VI(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mg(s,a)}(e._query,this._field,this._direction);return new Ba(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new td(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Jl(t,e="asc"){const n=e,r=x_("orderBy",t);return VI._create(r,n)}class FI extends b_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new FI(e,n,r)}_apply(e){return new Ba(e.firestore,e.converter,jb(e._query,this._limit,this._limitType))}}function Nu(t){return fpe("limit",t),FI._create("limit",t,"F")}class zI extends b_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new zI(e,n,r)}_apply(e){const n=Ape(e,this.type,this._docOrFields,this._inclusive);return new Ba(e.firestore,e.converter,function(i,s){return new td(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Tpe(...t){return zI._create("startAfter",t,!1)}function Ape(t,e,n,r){if(n[0]=zt(n[0]),n[0]instanceof DI)return function(s,a,o,l,u){if(!l)throw new Se(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const f of vf(s))if(f.field.isKeyField())d.push(Ab(a,l.key));else{const h=l.data.field(f.field);if(i_(h))throw new Se(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new Se(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}d.push(h)}return new Bf(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Xh(t.firestore);return function(a,o,l,u,d,f){const h=a.explicitOrderBy;if(d.length>h.length)throw new Se(ae.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<d.length;g++){const m=d[g];if(h[g].field.isKeyField()){if(typeof m!="string")throw new Se(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!sI(a)&&m.indexOf("/")!==-1)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const v=a.path.child(Ht.fromString(m));if(!ze.isDocumentKey(v))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const y=new ze(v);p.push(Ab(o,y))}else{const v=ZW(l,u,m);p.push(v)}}return new Bf(p,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function G$(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sI(e)&&n.indexOf("/")!==-1)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ht.fromString(n));if(!ze.isDocumentKey(r))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ab(t,new ze(r))}if(n instanceof Or)return Ab(t,n._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${m_(n)}.`)}function Y$(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r7(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jpe{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Tb].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>An(a.doubleValue));return new kI(s)}convertGeoPoint(e){return new PI(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ng(e));default:return null}}convertTimestamp(e){const n=lc(e);return new Sn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ht.fromString(e);jt(SW(r),9688,{name:e});const i=new Og(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return i.isEqual(n)||No(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function Cpe(){return new ype("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i7 extends DI{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jx extends i7{data(e={}){return super.data(e)}}class s7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jx(this._firestore,this._userDataWriter,r.key,r,new vm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new jx(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vm(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new jx(i._firestore,i._userDataWriter,o.doc.key,o.doc,new vm(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:Ppe(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ppe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){t=Xr(t,Or);const e=Xr(t.firestore,Ma);return lpe(Yh(e),t._key).then(n=>a7(e,t,n))}class __ extends jpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new qf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Or(this.firestore,null,n)}}function ms(t){t=Xr(t,Ba);const e=Xr(t.firestore,Ma),n=Yh(e),r=new __(e);return n7(t._query),cpe(n,t._query).then(i=>new s7(e,r,t,i))}function ml(t,e,n){t=Xr(t,Or);const r=Xr(t.firestore,Ma),i=UI(t.converter,e,n);return S_(r,[II(Xh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yi.none())])}function BI(t,e,n,...r){t=Xr(t,Or);const i=Xr(t.firestore,Ma),s=Xh(i);let a;return a=typeof(e=zt(e))=="string"||e instanceof ly?QW(s,"updateDoc",t._key,e,n,r):XW(s,"updateDoc",t._key,e),S_(i,[a.toMutation(t._key,yi.exists(!0))])}function kpe(t,e){const n=Xr(t.firestore,Ma),r=ln(t),i=UI(t.converter,e);return S_(n,[II(Xh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then(()=>r)}function X$(t,...e){var n,r,i;t=zt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||K$(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(K$(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof Or)u=Xr(t.firestore,Ma),d=a_(t._key.path),l={next:f=>{e[a]&&e[a](a7(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Xr(t,Ba);u=Xr(f.firestore,Ma),d=f._query;const h=new __(u);l={next:p=>{e[a]&&e[a](new s7(u,h,f,p))},error:e[a+1],complete:e[a+2]},n7(t._query)}return function(h,p,g,m){const v=new jI(m),y=new EI(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>wI(await Ob(h),y)),()=>{v.yu(),h.asyncQueue.enqueueAndForget(async()=>_I(await Ob(h),y))}}(Yh(u),d,o,l)}function S_(t,e){return function(r,i){const s=new Ta;return r.asyncQueue.enqueueAndForget(async()=>Yhe(await ape(r),i,s)),s.promise}(Yh(t),e)}function a7(t,e,n){const r=n.docs.get(e._key),i=new __(t);return new i7(t,i,e._key,r,new vm(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){return Npe(t,{count:Cpe()})}function Npe(t,e){const n=Xr(t.firestore,Ma),r=Yh(n),i=Ode(e,(s,a)=>new mfe(a,s.aggregateType,s._internalFieldPath));return upe(r,t._query,i).then(s=>function(o,l,u){const d=new __(o);return new xpe(l,d,u)}(n,t,s))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xh(e)}set(e,n,r){this._verifyNotCommitted();const i=gT(e,this._firestore),s=UI(i.converter,n,r),a=II(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,yi.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=gT(e,this._firestore);let a;return a=typeof(n=zt(n))=="string"||n instanceof ly?QW(this._dataReader,"WriteBatch.update",s._key,n,r,i):XW(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=gT(e,this._firestore);return this._mutations=this._mutations.concat(new oI(n._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gT(t,e){if((t=zt(t)).firestore!==e)throw new Se(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function uy(){return new OI("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return Yh(t=Xr(t,Ma)),new Ipe(t,e=>S_(t,e))}(function(e,n=!0){(function(i){Hh=i})(ed),Gs(new ps("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Ma(new vde(r.getProvider("auth-internal")),new bde(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Og(u.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),vi(QL,ZL,e),vi(QL,ZL,"esm2017")})();var Ope="firebase",Rpe="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(Ope,Rpe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="firebasestorage.googleapis.com",Mpe="storageBucket",Dpe=2*60*1e3,Lpe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends ys{constructor(e,n,r=0){super(vT(e),`Firebase Storage: ${n} (${vT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Da;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Da||(Da={}));function vT(t){return"storage/"+t}function $pe(){const t="An unknown error occurred, please check the error payload for server response.";return new Wa(Da.UNKNOWN,t)}function Vpe(){return new Wa(Da.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fpe(){return new Wa(Da.CANCELED,"User canceled the upload/download.")}function zpe(t){return new Wa(Da.INVALID_URL,"Invalid URL '"+t+"'.")}function Upe(t){return new Wa(Da.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q$(t){return new Wa(Da.INVALID_ARGUMENT,t)}function l7(){return new Wa(Da.APP_DELETED,"The Firebase app was deleted.")}function Bpe(t){return new Wa(Da.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vs.makeFromUrl(e,n)}catch{return new Vs(e,"")}if(r.path==="")return r;throw Upe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},m=n===o7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${v}`,"i"),_=[{regex:o,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<_.length;E++){const S=_[E],j=S.regex.exec(e);if(j){const A=j[S.indices.bucket];let T=j[S.indices.path];T||(T=""),r=new Vs(A,T),S.postModify(r);break}}if(r==null)throw zpe(e);return r}}class Wpe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hpe(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){s&&clearTimeout(s)}function p(v,...y){if(u){h();return}if(v){h(),d.call(null,v,...y);return}if(l()||a){h(),d.call(null,v,...y);return}r<64&&(r*=2);let _;o===1?(o=2,_=0):_=(r+Math.random())*1e3,f(_)}let g=!1;function m(v){g||(g=!0,h(),!u&&(i!==null?(v||(o=2),clearTimeout(i),f(0)):v||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}function qpe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kpe(t){return t!==void 0}function Z$(t,e,n,r){if(r<e)throw Q$(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Q$(`Invalid value for '${t}'. Expected ${n} or less.`)}function Gpe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Mb;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Mb||(Mb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ype(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xpe{constructor(e,n,r,i,s,a,o,l,u,d,f,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new I0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Mb.NO_ERROR,l=s.getStatus();if(!o||Ype(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Mb.ABORT;r(!1,new I0(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new I0(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Kpe(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=$pe();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?l7():Fpe();a(l)}else{const l=Vpe();a(l)}};this.canceled_?n(!1,new I0(!1,null,!0)):this.backoffId_=Hpe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qpe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class I0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Qpe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zpe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eme(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tme(t,e,n,r,i,s,a=!0,o=!1){const l=Gpe(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return Jpe(d,e),Qpe(d,n),Zpe(d,s),eme(d,r),new Xpe(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nme(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rme(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this._service=e,n instanceof Vs?this._location=n:this._location=Vs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Db(e,n)}get root(){const e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rme(this._location.path)}get storage(){return this._service}get parent(){const e=nme(this._location.path);if(e===null)return null;const n=new Vs(this._location.bucket,e);return new Db(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Bpe(e)}}function J$(t,e){const n=e==null?void 0:e[Mpe];return n==null?null:Vs.makeFromBucketSpec(n,t)}function ime(t,e,n,r={}){t.host=`${e}:${n}`;const i=Bh(e);i&&Q1(`https://${t.host}`),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:D9(s,t.app.options.projectId))}class sme{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=o7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dpe,this._maxUploadRetryTime=Lpe,this._requests=new Set,i!=null?this._bucket=Vs.makeFromBucketSpec(i,this._host):this._bucket=J$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vs.makeFromBucketSpec(this._url,e):this._bucket=J$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Db(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Wpe(l7());{const a=tme(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const e4="@firebase/storage",t4="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="storage";function ame(t=Zv(),e){t=zt(t);const r=Ho(t,c7).getImmediate({identifier:e}),i=O9("storage");return i&&ome(r,...i),r}function ome(t,e,n,r={}){ime(t,e,n,r)}function lme(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sme(n,r,i,e,ed)}function cme(){Gs(new ps(c7,lme,"PUBLIC").setMultipleInstances(!0)),vi(e4,t4,""),vi(e4,t4,"esm2017")}cme();const u7="@firebase/installations",HI="0.6.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=1e4,f7=`w:${HI}`,h7="FIS_v2",ume="https://firebaseinstallations.googleapis.com/v1",dme=60*60*1e3,fme="installations",hme="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pme={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Iu=new Ju(fme,hme,pme);function p7(t){return t instanceof ys&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7({projectId:t}){return`${ume}/projects/${t}/installations`}function g7(t){return{token:t.token,requestStatus:2,expiresIn:gme(t.expiresIn),creationTime:Date.now()}}async function v7(t,e){const r=(await e.json()).error;return Iu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function y7({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mme(t,{refreshToken:e}){const n=y7(t);return n.append("Authorization",vme(e)),n}async function x7(t){const e=await t();return e.status>=500&&e.status<600?t():e}function gme(t){return Number(t.replace("s","000"))}function vme(t){return`${h7} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yme({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=m7(t),i=y7(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:h7,appId:t.appId,sdkVersion:f7},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await x7(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:g7(u.authToken)}}else throw await v7("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme=/^[cdef][\w-]{21}$/,hC="";function wme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_me(t);return bme.test(n)?n:hC}catch{return hC}}function _me(t){return xme(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Map;function _7(t,e){const n=E_(t);S7(n,e),Sme(n,e)}function S7(t,e){const n=w7.get(t);if(n)for(const r of n)r(e)}function Sme(t,e){const n=Eme();n&&n.postMessage({key:t,fid:e}),Tme()}let ou=null;function Eme(){return!ou&&"BroadcastChannel"in self&&(ou=new BroadcastChannel("[Firebase] FID Change"),ou.onmessage=t=>{S7(t.data.key,t.data.fid)}),ou}function Tme(){w7.size===0&&ou&&(ou.close(),ou=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ame="firebase-installations-database",jme=1,Ou="firebase-installations-store";let yT=null;function qI(){return yT||(yT=U9(Ame,jme,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ou)}}})),yT}async function Lb(t,e){const n=E_(t),i=(await qI()).transaction(Ou,"readwrite"),s=i.objectStore(Ou),a=await s.get(n);return await s.put(e,n),await i.done,(!a||a.fid!==e.fid)&&_7(t,e.fid),e}async function E7(t){const e=E_(t),r=(await qI()).transaction(Ou,"readwrite");await r.objectStore(Ou).delete(e),await r.done}async function T_(t,e){const n=E_(t),i=(await qI()).transaction(Ou,"readwrite"),s=i.objectStore(Ou),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&_7(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(t){let e;const n=await T_(t.appConfig,r=>{const i=Cme(r),s=Pme(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===hC?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Cme(t){const e=t||{fid:wme(),registrationStatus:0};return T7(e)}function Pme(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Iu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kme(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Nme(t)}:{installationEntry:e}}async function kme(t,e){try{const n=await yme(t,e);return Lb(t.appConfig,n)}catch(n){throw p7(n)&&n.customData.serverCode===409?await E7(t.appConfig):await Lb(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Nme(t){let e=await n4(t.appConfig);for(;e.registrationStatus===1;)await b7(100),e=await n4(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await KI(t);return r||n}return e}function n4(t){return T_(t,e=>{if(!e)throw Iu.create("installation-not-found");return T7(e)})}function T7(t){return Ime(t)?{fid:t.fid,registrationStatus:0}:t}function Ime(t){return t.registrationStatus===1&&t.registrationTime+d7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ome({appConfig:t,heartbeatServiceProvider:e},n){const r=Rme(t,n),i=mme(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:f7,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await x7(()=>fetch(r,o));if(l.ok){const u=await l.json();return g7(u)}else throw await v7("Generate Auth Token",l)}function Rme(t,{fid:e}){return`${m7(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e=!1){let n;const r=await T_(t.appConfig,s=>{if(!A7(s))throw Iu.create("not-registered");const a=s.authToken;if(!e&&Lme(a))return s;if(a.requestStatus===1)return n=Mme(t,e),s;{if(!navigator.onLine)throw Iu.create("app-offline");const o=Vme(s);return n=Dme(t,o),o}});return n?await n:r.authToken}async function Mme(t,e){let n=await r4(t.appConfig);for(;n.authToken.requestStatus===1;)await b7(100),n=await r4(t.appConfig);const r=n.authToken;return r.requestStatus===0?GI(t,e):r}function r4(t){return T_(t,e=>{if(!A7(e))throw Iu.create("not-registered");const n=e.authToken;return Fme(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Dme(t,e){try{const n=await Ome(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Lb(t.appConfig,r),n}catch(n){if(p7(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await E7(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lb(t.appConfig,r)}throw n}}function A7(t){return t!==void 0&&t.registrationStatus===2}function Lme(t){return t.requestStatus===2&&!$me(t)}function $me(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dme}function Vme(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Fme(t){return t.requestStatus===1&&t.requestTime+d7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zme(t){const e=t,{installationEntry:n,registrationPromise:r}=await KI(e);return r?r.catch(console.error):GI(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ume(t,e=!1){const n=t;return await Bme(n),(await GI(n,e)).token}async function Bme(t){const{registrationPromise:e}=await KI(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wme(t){if(!t||!t.options)throw xT("App Configuration");if(!t.name)throw xT("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xT(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xT(t){return Iu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7="installations",Hme="installations-internal",qme=t=>{const e=t.getProvider("app").getImmediate(),n=Wme(e),r=Ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Kme=t=>{const e=t.getProvider("app").getImmediate(),n=Ho(e,j7).getImmediate();return{getId:()=>zme(n),getToken:i=>Ume(n,i)}};function Gme(){Gs(new ps(j7,qme,"PUBLIC")),Gs(new ps(Hme,Kme,"PRIVATE"))}Gme();vi(u7,HI);vi(u7,HI,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="analytics",Yme="firebase_id",Xme="origin",Qme=60*1e3,Zme="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",YI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Z1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ui=new Ju("analytics","Analytics",Jme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ege(t){if(!t.startsWith(YI)){const e=Ui.create("invalid-gtag-resource",{gtagURL:t});return xi.warn(e.message),""}return t}function C7(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tge(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nge(t,e){const n=tge("firebase-js-sdk-policy",{createScriptURL:ege}),r=document.createElement("script"),i=`${YI}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rge(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ige(t,e,n,r,i,s){const a=r[i];try{if(a)await e[a];else{const l=(await C7(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(o){xi.error(o)}t("config",i,s)}async function sge(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await C7(n);for(const l of a){const u=o.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){xi.error(s)}}function age(t,e,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await sge(t,e,n,o,l)}else if(s==="config"){const[o,l]=a;await ige(t,e,n,r,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){xi.error(o)}}return i}function oge(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=age(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function lge(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(YI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cge=30,uge=1e3;class dge{constructor(e={},n=uge){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const P7=new dge;function fge(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hge(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:fge(r)},s=Zme.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw Ui.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function pge(t,e=P7,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ui.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ui.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new vge;return setTimeout(async()=>{o.abort()},Qme),k7({appId:r,apiKey:i,measurementId:s},a,o,e)}async function k7(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=P7){var s;const{appId:a,measurementId:o}=t;try{await mge(r,e)}catch(l){if(o)return xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await hge(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!gge(u)){if(i.deleteThrottleMetadata(a),o)return xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?_L(n,i.intervalMillis,cge):_L(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,f),xi.debug(`Calling attemptFetch again in ${d} millis`),k7(t,f,r,i)}}function mge(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ui.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gge(t){if(!(t instanceof ys)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class vge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function yge(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,a=Object.assign(Object.assign({},r),{send_to:s});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xge(){if($9())try{await V9()}catch(t){return xi.warn(Ui.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return xi.warn(Ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bge(t,e,n,r,i,s,a){var o;const l=pge(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&xi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>xi.error(p)),e.push(l);const u=xge().then(p=>{if(p)return r.getId()}),[d,f]=await Promise.all([l,u]);lge(s)||nge(s,d.measurementId),i("js",new Date);const h=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return h[Xme]="firebase",h.update=!0,f!=null&&(h[Yme]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wge{constructor(e){this.app=e}_delete(){return delete zm[this.app.options.appId],Promise.resolve()}}let zm={},i4=[];const s4={};let bT="dataLayer",_ge="gtag",a4,N7,o4=!1;function Sge(){const t=[];if(L9()&&t.push("This is a browser extension environment."),Moe()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ui.create("invalid-analytics-context",{errorInfo:e});xi.warn(n.message)}}function Ege(t,e,n){Sge();const r=t.options.appId;if(!r)throw Ui.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ui.create("no-api-key");if(zm[r]!=null)throw Ui.create("already-exists",{id:r});if(!o4){rge(bT);const{wrappedGtag:s,gtagCore:a}=oge(zm,i4,s4,bT,_ge);N7=s,a4=a,o4=!0}return zm[r]=bge(t,i4,s4,e,a4,bT,n),new wge(t)}function Tge(t=Zv()){t=zt(t);const e=Ho(t,$b);return e.isInitialized()?e.getImmediate():Age(t)}function Age(t,e={}){const n=Ho(t,$b);if(n.isInitialized()){const i=n.getImmediate();if(jo(e,n.getOptions()))return i;throw Ui.create("already-initialized")}return n.initialize({options:e})}function jge(t,e,n,r){t=zt(t),yge(N7,zm[t.app.options.appId],e,n,r).catch(i=>xi.error(i))}const l4="@firebase/analytics",c4="0.10.13";function Cge(){Gs(new ps($b,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Ege(r,i,n)},"PUBLIC")),Gs(new ps("analytics-internal",t,"PRIVATE")),vi(l4,c4),vi(l4,c4,"esm2017");function t(e){try{const n=e.getProvider($b).getImmediate();return{logEvent:(r,i,s)=>jge(n,r,i,s)}}catch(n){throw Ui.create("interop-component-reg-failed",{reason:n})}}}Cge();const I7={apiKey:"AIzaSyADhb8pRzJlpHu708EZYAnCnJGzKerdZ_8",authDomain:"xdose-4f508.firebaseapp.com",projectId:"xdose-4f508",storageBucket:"xdose-4f508.appspot.com",messagingSenderId:"281334715737",appId:"1:281334715737:web:d3abf66b3594a8f827a848",measurementId:"G-W84D72MQPB"},A_=HN(I7),Pge={cacheSizeBytes:ppe,ignoreUndefinedProperties:!0,experimentalForceLongPolling:!0},Hr=j8(A_),ur=mpe(A_,Pge);ame(A_);(async()=>{try{await tue(Hr,y8),console.log("Firebase auth persistence set to local")}catch(t){console.error("Failed to set auth persistence:",t)}})();let kge;if(typeof window<"u")try{kge=Tge(A_)}catch(t){console.error("Analytics initialization failed:",t)}const wT={config:I7,mode:"production"};console.log("AuthContext: Script loaded");const O7=b.createContext(void 0),Nge=({children:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(null),[s,a]=b.useState(!0),o=async(m,v,y,x)=>{try{console.log("Starting signup process for:",m,"with role:",x);const E=(await Kj(Hr,m,v)).user;console.log("User created successfully:",E.uid),await Gj(E,{displayName:y}),console.log("Profile updated in Firebase Auth");try{console.log("Checking if username exists:",y);const S=ln(ur,"usernames",y);if((await Al(S)).exists())return console.log("Username already exists, deleting auth user..."),await wb(Hr),{error:new Error("Ce nom d'utilisateur est déjà utilisé.")};console.log("Creating user profile in Firestore with role:",x);const A=new Date().toISOString(),T={id:E.uid,username:y,displayName:y,avatarUrl:null,bio:null,role:x,createdAt:A,updatedAt:A};await ml(ln(ur,"user_profiles",E.uid),T),console.log("User profile created successfully with role:",x),console.log("Reserving username:",y),await ml(ln(ur,"usernames",y),{uid:E.uid}),console.log("Username reserved successfully")}catch(S){return console.error("Firestore error during signup:",S),{error:null}}return{error:null}}catch(_){return console.error("Error in signUp:",_),{error:_}}},l=async(m,v)=>{try{console.log("Attempting sign in for:",m);const y=new Promise((_,E)=>{setTimeout(()=>E(new Error("Timeout d'authentification: vérifiez votre connexion internet")),1e4)}),x=Jce(Hr,m,v);return await Promise.race([x,y]),console.log("Sign in successful"),{error:null}}catch(y){console.error("Error in signIn:",y);const x=y;return x.code==="auth/network-request-failed"?{error:new Error("Problème de connexion internet. Vérifiez votre connexion et réessayez.")}:x.code==="auth/too-many-requests"?{error:new Error("Trop de tentatives de connexion. Veuillez réessayer plus tard ou réinitialiser votre mot de passe.")}:x.code==="auth/wrong-password"||x.code==="auth/user-not-found"?{error:new Error("Email ou mot de passe incorrect.")}:{error:y}}},u=async m=>{var v;if(m)try{console.log("Fetching user profile for:",m.uid);const y=await Al(ln(ur,"user_profiles",m.uid));if(y.exists()){const x=y.data();console.log("User profile found"),i({id:x.id,username:x.username,displayName:x.displayName,avatarUrl:x.avatarUrl,bio:x.bio,role:x.role,createdAt:x.createdAt,updatedAt:x.updatedAt})}else{console.log("User profile not found, creating profile");const x=m.displayName||((v=m.email)==null?void 0:v.split("@")[0])||`user_${m.uid.substring(0,8)}`,_=new Date().toISOString(),S=(await Al(ln(ur,"usernames",x))).exists()?`${x}_${Date.now().toString().substring(-5)}`:x,j={id:m.uid,username:S,displayName:m.displayName||S,avatarUrl:m.photoURL,bio:null,role:"fan",createdAt:_,updatedAt:_};await ml(ln(ur,"user_profiles",m.uid),j),console.log("User profile created"),await ml(ln(ur,"usernames",S),{uid:m.uid}),console.log("Username reserved"),i(j)}}catch(y){console.error("Error in fetchUserProfile:",y)}},d=async()=>{e&&await u(e)},f=async m=>{if(!e)throw new Error("User not authenticated");const v={updatedAt:new Date().toISOString()};m.username!==void 0&&(v.username=m.username),m.displayName!==void 0&&(v.displayName=m.displayName),m.avatarUrl!==void 0&&(v.avatarUrl=m.avatarUrl),m.bio!==void 0&&(v.bio=m.bio),m.role!==void 0&&(v.role=m.role);try{if(m.username&&(r==null?void 0:r.username)!==m.username){if((await Al(ln(ur,"usernames",m.username))).exists())throw new Error("Ce nom d'utilisateur est déjà utilisé.");if(r!=null&&r.username){const x=await Al(ln(ur,"usernames",r.username));x.exists()&&x.data().uid===e.uid&&await ml(ln(ur,"usernames",r.username),{})}await ml(ln(ur,"usernames",m.username),{uid:e.uid})}await BI(ln(ur,"user_profiles",e.uid),v),r&&i({...r,...m,updatedAt:v.updatedAt}),m.displayName&&await Gj(e,{displayName:m.displayName})}catch(y){throw console.error("Error updating profile:",y),y}},h=async()=>{if(!e||!r)throw new Error("User not authenticated");r.role!=="creator"&&await f({role:"creator"})},p=async()=>{console.log("Attempting to sign out");try{a(!0),i(null);const m=new Promise((y,x)=>{setTimeout(()=>x(new Error("Timeout de déconnexion")),5e3)}),v=wb(Hr);return await Promise.race([v,m]).catch(y=>{console.error("Error during sign out:",y),n(null),window.location.reload()}),console.log("Sign out successful"),{error:null}}catch(m){return console.error("Error in handleSignOut:",m),n(null),{error:m}}finally{a(!1)}};b.useEffect(()=>{console.log("Setting up auth state listener"),a(!0);const m=iue(Hr,async v=>{console.log("Auth state changed:",v?`User: ${v.uid}`:"No user"),n(v),v?await u(v):i(null),a(!1)},v=>{console.error("Auth state change error:",v),a(!1)});return()=>m()},[]);const g={user:e,profile:r,isLoading:s,isCreator:(r==null?void 0:r.role)==="creator",signUp:o,signIn:l,signOut:p,refreshProfile:d,updateUserProfile:f,becomeCreator:h};return c.jsx(O7.Provider,{value:g,children:t})},Ut=()=>{const t=b.useContext(O7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ige=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>b.createElement("svg",{ref:l,...Oge,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:R7("lucide",i),...o},[...a.map(([u,d])=>b.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(Rge,{ref:s,iconNode:e,className:R7(`lucide-${Ige(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mge=fe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=fe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=fe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=fe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zge=fe("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=fe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=fe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=fe("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=fe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kge=fe("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=fe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yge=fe("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=fe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xge=fe("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=fe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qge=fe("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zge=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jge=fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eve=fe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=fe("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nve=fe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ive=fe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sve=fe("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=fe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ave=fe("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ove=fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lve=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=fe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=fe("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cve=fe("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uve=fe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dve=fe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fve=fe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hve=fe("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pve=fe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mve=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=fe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=fe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yve=fe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=fe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xve=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bve=fe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=fe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=fe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=fe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=fe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=fe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function _ve(t,e){const n=b.createContext(e),r=s=>{const{children:a,...o}=s,l=b.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=b.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function xr(t,e=[]){let n=[];function r(s,a){const o=b.createContext(a),l=n.length;n=[...n,a];const u=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[t])==null?void 0:y[l])||o,v=b.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Sve(i,...e)]}function Sve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function tr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Fn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function h4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function a2(...t){return e=>{let n=!1;const r=t.map(i=>{const s=h4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():h4(t[i],null)}}}}function Ye(...t){return b.useCallback(a2(...t),t)}function Du(t){const e=Eve(t),n=b.forwardRef((r,i)=>{const{children:s,...a}=r,o=b.Children.toArray(s),l=o.find(Ave);if(l){const u=l.props.children,d=o.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...a,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var J7=Du("Slot");function Eve(t){const e=b.forwardRef((n,r)=>{const{children:i,...s}=n,a=b.isValidElement(i)?Cve(i):void 0,o=Ye(a,r);if(b.isValidElement(i)){const l=jve(s,i.props);return i.type!==b.Fragment&&(l.ref=o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eH=Symbol("radix.slottable");function Tve(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eH,e}function Ave(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eH}function jve(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Cve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Pve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=Pve.reduce((t,e)=>{const n=Du(`Primitive.${e}`),r=b.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tH(t,e){t&&Fh.flushSync(()=>t.dispatchEvent(e))}var nH={exports:{}},rH={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=b;function kve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nve=typeof Object.is=="function"?Object.is:kve,Ive=Gf.useState,Ove=Gf.useEffect,Rve=Gf.useLayoutEffect,Mve=Gf.useDebugValue;function Dve(t,e){var n=e(),r=Ive({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Rve(function(){i.value=n,i.getSnapshot=e,ET(i)&&s({inst:i})},[t,n,e]),Ove(function(){return ET(i)&&s({inst:i}),t(function(){ET(i)&&s({inst:i})})},[t]),Mve(n),n}function ET(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nve(t,n)}catch{return!0}}function Lve(t,e){return e()}var $ve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lve:Dve;rH.useSyncExternalStore=Gf.useSyncExternalStore!==void 0?Gf.useSyncExternalStore:$ve;nH.exports=rH;var Vve=nH.exports;function Fve(){return Vve.useSyncExternalStore(zve,()=>!0,()=>!1)}function zve(){return()=>{}}var o2="Avatar",[Uve,Ltt]=xr(o2),[Bve,iH]=Uve(o2),sH=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=b.useState("idle");return c.jsx(Bve,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:c.jsx(Me.span,{...r,ref:e})})});sH.displayName=o2;var aH="AvatarImage",oH=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=iH(aH,n),o=Wve(r,s),l=tr(u=>{i(u),a.onImageLoadingStatusChange(u)});return Fn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(Me.img,{...s,ref:e,src:r}):null});oH.displayName=aH;var lH="AvatarFallback",cH=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=iH(lH,n),[a,o]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?c.jsx(Me.span,{...i,ref:e}):null});cH.displayName=lH;function p4(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Wve(t,{referrerPolicy:e,crossOrigin:n}){const r=Fve(),i=b.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=b.useState(()=>p4(s,t));return Fn(()=>{o(p4(s,t))},[s,t]),Fn(()=>{const l=f=>()=>{o(f)};if(!s)return;const u=l("loaded"),d=l("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),a}var uH=sH,dH=oH,fH=cH;function hH(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hH(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hH(t))&&(r&&(r+=" "),r+=e);return r}const l2="-",Hve=t=>{const e=Kve(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(l2);return o[0]===""&&o.length!==1&&o.shift(),pH(o,e)||qve(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},pH=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pH(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(l2);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},m4=/^\[(.+)\]$/,qve=t=>{if(m4.test(t)){const e=m4.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Kve=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Yve(Object.entries(t.classGroups),n).forEach(([s,a])=>{vC(a,r,s,e)}),r},vC=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:g4(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Gve(i)){vC(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{vC(a,g4(e,s),n,r)})})},g4=(t,e)=>{let n=t;return e.split(l2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Gve=t=>t.isThemeGetter,Yve=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,Xve=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},mH="!",Qve=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,d=0,f;for(let v=0;v<o.length;v++){let y=o[v];if(u===0){if(y===i&&(r||o.slice(v,v+s)===e)){l.push(o.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?o:o.substring(d),p=h.startsWith(mH),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},Zve=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Jve=t=>({cache:Xve(t.cacheSize),parseClassName:Qve(t),...Hve(t)}),eye=/\s+/,tye=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(eye);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=r(h),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=Zve(d).join(":"),y=f?v+mH:v,x=y+m;if(s.includes(x))continue;s.push(x);const _=i(m,g);for(let E=0;E<_.length;++E){const S=_[E];s.push(y+S)}o=u+(o.length>0?" "+o:o)}return o};function nye(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gH(e))&&(r&&(r+=" "),r+=n);return r}const gH=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gH(t[r]))&&(n&&(n+=" "),n+=e);return n};function rye(t,...e){let n,r,i,s=a;function a(l){const u=e.reduce((d,f)=>f(d),t());return n=Jve(u),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=tye(l,n);return i(l,d),d}return function(){return s(nye.apply(null,arguments))}}const Xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vH=/^\[(?:([a-z-]+):)?(.+)\]$/i,iye=/^\d+\/\d+$/,sye=new Set(["px","full","screen"]),aye=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oye=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lye=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cye=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uye=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ja=t=>bf(t)||sye.has(t)||iye.test(t),ol=t=>Jh(t,"length",yye),bf=t=>!!t&&!Number.isNaN(Number(t)),TT=t=>Jh(t,"number",bf),Hp=t=>!!t&&Number.isInteger(Number(t)),dye=t=>t.endsWith("%")&&bf(t.slice(0,-1)),lt=t=>vH.test(t),ll=t=>aye.test(t),fye=new Set(["length","size","percentage"]),hye=t=>Jh(t,fye,yH),pye=t=>Jh(t,"position",yH),mye=new Set(["image","url"]),gye=t=>Jh(t,mye,bye),vye=t=>Jh(t,"",xye),qp=()=>!0,Jh=(t,e,n)=>{const r=vH.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yye=t=>oye.test(t)&&!lye.test(t),yH=()=>!1,xye=t=>cye.test(t),bye=t=>uye.test(t),wye=()=>{const t=Xt("colors"),e=Xt("spacing"),n=Xt("blur"),r=Xt("brightness"),i=Xt("borderColor"),s=Xt("borderRadius"),a=Xt("borderSpacing"),o=Xt("borderWidth"),l=Xt("contrast"),u=Xt("grayscale"),d=Xt("hueRotate"),f=Xt("invert"),h=Xt("gap"),p=Xt("gradientColorStops"),g=Xt("gradientColorStopPositions"),m=Xt("inset"),v=Xt("margin"),y=Xt("opacity"),x=Xt("padding"),_=Xt("saturate"),E=Xt("scale"),S=Xt("sepia"),j=Xt("skew"),A=Xt("space"),T=Xt("translate"),C=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",lt,e],N=()=>[lt,e],O=()=>["",Ja,ol],D=()=>["auto",bf,lt],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",lt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[bf,lt];return{cacheSize:500,separator:":",theme:{colors:[qp],spacing:[Ja,ol],blur:["none","",ll,lt],brightness:ne(),borderColor:[t],borderRadius:["none","","full",ll,lt],borderSpacing:N(),borderWidth:O(),contrast:ne(),grayscale:F(),hueRotate:ne(),invert:F(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[dye,ol],inset:I(),margin:I(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:F(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[ll]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),lt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hp,lt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Hp,lt]}],"grid-cols":[{"grid-cols":[qp]}],"col-start-end":[{col:["auto",{span:["full",Hp,lt]},lt]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[qp]}],"row-start-end":[{row:["auto",{span:[Hp,lt]},lt]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,e]}],"min-w":[{"min-w":[lt,e,"min","max","fit"]}],"max-w":[{"max-w":[lt,e,"none","full","min","max","fit","prose",{screen:[ll]},ll]}],h:[{h:[lt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ll,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",TT]}],"font-family":[{font:[qp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",bf,TT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ja,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ja,ol]}],"underline-offset":[{"underline-offset":["auto",Ja,lt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),pye]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hye]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gye]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Ja,lt]}],"outline-w":[{outline:[Ja,ol]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ja,ol]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ll,vye]}],"shadow-color":[{shadow:[qp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ll,lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Hp,lt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ja,ol,TT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_ye=rye(wye);function G(...t){return _ye(it(t))}function Sye(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function wd(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"k":t.toString()}function Eye(t="light"){if("vibrate"in navigator)switch(t){case"light":navigator.vibrate(10);break;case"medium":navigator.vibrate(20);break;case"strong":navigator.vibrate([30,10,30]);break}}const fy=b.forwardRef(({className:t,...e},n)=>c.jsx(uH,{ref:n,className:G("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));fy.displayName=uH.displayName;const hy=b.forwardRef(({className:t,...e},n)=>c.jsx(dH,{ref:n,className:G("aspect-square h-full w-full",t),...e}));hy.displayName=dH.displayName;const py=b.forwardRef(({className:t,...e},n)=>c.jsx(fH,{ref:n,className:G("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));py.displayName=fH.displayName;function Tye(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Lr=t=>{const{present:e,children:n}=t,r=Aye(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Ye(r.ref,jye(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Lr.displayName="Presence";function Aye(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Tye(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=O0(r.current);s.current=o==="mounted"?u:"none"},[o]),Fn(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,p=O0(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Fn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const m=O0(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(s.current=O0(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function O0(t){return(t==null?void 0:t.animationName)||"none"}function jye(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cye=b.createContext(void 0);function ad(t){const e=b.useContext(Cye);return t||e||"ltr"}function Ug(t,[e,n]){return Math.min(n,Math.max(e,t))}function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Pye(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var c2="ScrollArea",[xH,$tt]=xr(c2),[kye,xs]=xH(c2),bH=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[p,g]=b.useState(null),[m,v]=b.useState(null),[y,x]=b.useState(0),[_,E]=b.useState(0),[S,j]=b.useState(!1),[A,T]=b.useState(!1),C=Ye(e,I=>l(I)),k=ad(i);return c.jsx(kye,{scope:n,type:r,dir:k,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:E,children:c.jsx(Me.div,{dir:k,...a,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});bH.displayName=c2;var wH="ScrollAreaViewport",_H=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=xs(wH,n),o=b.useRef(null),l=Ye(e,o,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:c.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_H.displayName=wH;var Ha="ScrollAreaScrollbar",u2=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xs(Ha,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return b.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?c.jsx(Nye,{...r,ref:e,forceMount:n}):i.type==="scroll"?c.jsx(Iye,{...r,ref:e,forceMount:n}):i.type==="auto"?c.jsx(SH,{...r,ref:e,forceMount:n}):i.type==="always"?c.jsx(d2,{...r,ref:e}):null});u2.displayName=Ha;var Nye=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xs(Ha,t.__scopeScrollArea),[s,a]=b.useState(!1);return b.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(Lr,{present:n||s,children:c.jsx(SH,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Iye=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xs(Ha,t.__scopeScrollArea),s=t.orientation==="horizontal",a=D_(()=>l("SCROLL_END"),100),[o,l]=Pye("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(l("SCROLL"),a()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,l,a]),c.jsx(Lr,{present:n||o!=="hidden",children:c.jsx(d2,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:be(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:be(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),SH=b.forwardRef((t,e)=>{const n=xs(Ha,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=b.useState(!1),o=t.orientation==="horizontal",l=D_(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?u:d)}},10);return Yf(n.viewport,l),Yf(n.content,l),c.jsx(Lr,{present:r||s,children:c.jsx(d2,{"data-state":s?"visible":"hidden",...i,ref:e})})}),d2=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=xs(Ha,t.__scopeScrollArea),s=b.useRef(null),a=b.useRef(0),[o,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=CH(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,p){return $ye(h,a.current,o,p)}return n==="horizontal"?c.jsx(Oye,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=v4(h,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?c.jsx(Rye,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=v4(h,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Oye=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=xs(Ha,t.__scopeScrollArea),[a,o]=b.useState(),l=b.useRef(null),u=Ye(e,l,s.onScrollbarXChange);return b.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(TH,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":M_(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),kH(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ub(a.paddingLeft),paddingEnd:Ub(a.paddingRight)}})}})}),Rye=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=xs(Ha,t.__scopeScrollArea),[a,o]=b.useState(),l=b.useRef(null),u=Ye(e,l,s.onScrollbarYChange);return b.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(TH,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":M_(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),kH(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ub(a.paddingTop),paddingEnd:Ub(a.paddingBottom)}})}})}),[Mye,EH]=xH(Ha),TH=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,p=xs(Ha,n),[g,m]=b.useState(null),v=Ye(e,C=>m(C)),y=b.useRef(null),x=b.useRef(""),_=p.viewport,E=r.content-r.viewport,S=tr(d),j=tr(l),A=D_(f,10);function T(C){if(y.current){const k=C.clientX-y.current.left,I=C.clientY-y.current.top;u({x:k,y:I})}}return b.useEffect(()=>{const C=k=>{const I=k.target;(g==null?void 0:g.contains(I))&&S(k,E)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,g,E,S]),b.useEffect(j,[r,j]),Yf(g,A),Yf(p.content,A),c.jsx(Mye,{scope:n,scrollbar:g,hasThumb:i,onThumbChange:tr(s),onThumbPointerUp:tr(a),onThumbPositionChange:j,onThumbPointerDown:tr(o),children:c.jsx(Me.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:be(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(C))}),onPointerMove:be(t.onPointerMove,T),onPointerUp:be(t.onPointerUp,C=>{const k=C.target;k.hasPointerCapture(C.pointerId)&&k.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),zb="ScrollAreaThumb",AH=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=EH(zb,t.__scopeScrollArea);return c.jsx(Lr,{present:n||i.hasThumb,children:c.jsx(Dye,{ref:e,...r})})}),Dye=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=xs(zb,n),a=EH(zb,n),{onThumbPositionChange:o}=a,l=Ye(e,f=>a.onThumbChange(f)),u=b.useRef(void 0),d=D_(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Vye(f,o);u.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,o]),c.jsx(Me.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;a.onThumbPointerDown({x:g,y:m})}),onPointerUp:be(t.onPointerUp,a.onThumbPointerUp)})});AH.displayName=zb;var f2="ScrollAreaCorner",jH=b.forwardRef((t,e)=>{const n=xs(f2,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(Lye,{...t,ref:e}):null});jH.displayName=f2;var Lye=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=xs(f2,n),[s,a]=b.useState(0),[o,l]=b.useState(0),u=!!(s&&o);return Yf(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),Yf(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?c.jsx(Me.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ub(t){return t?parseInt(t,10):0}function CH(t,e){const n=t/e;return isNaN(n)?0:n}function M_(t){const e=CH(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function $ye(t,e,n,r="ltr"){const i=M_(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return PH([l,u],f)(t)}function v4(t,e,n="ltr"){const r=M_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],u=Ug(t,l);return PH([0,a],[0,o])(u)}function PH(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function kH(t,e){return t>0&&t<e}var Vye=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function D_(t,e){const n=tr(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Yf(t,e){const n=tr(e);Fn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var NH=bH,Fye=_H,zye=jH;const ep=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(NH,{ref:r,className:G("relative overflow-hidden",t),...n,children:[c.jsx(Fye,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(IH,{}),c.jsx(zye,{})]}));ep.displayName=NH.displayName;const IH=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>c.jsx(u2,{ref:r,orientation:e,className:G("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:c.jsx(AH,{className:"relative flex-1 rounded-full bg-border"})}));IH.displayName=u2.displayName;const Uye=1,Bye=1e6;let AT=0;function Wye(){return AT=(AT+1)%Number.MAX_SAFE_INTEGER,AT.toString()}const jT=new Map,y4=t=>{if(jT.has(t))return;const e=setTimeout(()=>{jT.delete(t),Bm({type:"REMOVE_TOAST",toastId:t})},Bye);jT.set(t,e)},Hye=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Uye)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?y4(n):t.toasts.forEach(r=>{y4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nx=[];let Ix={toasts:[]};function Bm(t){Ix=Hye(Ix,t),Nx.forEach(e=>{e(Ix)})}function Bg({...t}){const e=Wye(),n=i=>Bm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Bm({type:"DISMISS_TOAST",toastId:e});return Bm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}Bg.success=(t,e)=>Bg({...e,title:(e==null?void 0:e.title)||"Success",description:t,variant:"default"});Bg.error=(t,e)=>Bg({...e,title:(e==null?void 0:e.title)||"Error",description:t,variant:"destructive"});function br(){const[t,e]=b.useState(Ix);return b.useEffect(()=>(Nx.push(e),()=>{const n=Nx.indexOf(e);n>-1&&Nx.splice(n,1)}),[t]),{...t,toast:Bg,dismiss:n=>Bm({type:"DISMISS_TOAST",toastId:n})}}const qye={xs:320,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},Kye=(t={})=>{const e={...qye,...t},[n,r]=b.useState({width:typeof window<"u"?window.innerWidth:0,height:typeof window<"u"?window.innerHeight:0}),[i,s]=b.useState(!1);if(b.useEffect(()=>{s(!0);const y=()=>{r({width:window.innerWidth,height:window.innerHeight})};y();let x=null;const _=()=>{x&&clearTimeout(x),x=setTimeout(y,100)};return window.addEventListener("resize",_),window.addEventListener("orientationchange",y),()=>{window.removeEventListener("resize",_),window.removeEventListener("orientationchange",y),x&&clearTimeout(x)}},[]),!i)return{windowSize:{width:0,height:0},screenSize:"md",isMobile:!1,isDesktop:!1,isXs:!1,isSm:!1,isMd:!1,isLg:!1,isXl:!1,is2xl:!1,atLeast:()=>!1,atMost:()=>!1};const a=n.width<(e.md||768),o=!a,l=n.width<(e.sm||640),u=n.width>=(e.sm||640)&&n.width<(e.md||768),d=n.width>=(e.md||768)&&n.width<(e.lg||1024),f=n.width>=(e.lg||1024)&&n.width<(e.xl||1280),h=n.width>=(e.xl||1280)&&n.width<(e["2xl"]||1536),p=n.width>=(e["2xl"]||1536),g=l?"xs":u?"sm":d?"md":f?"lg":h?"xl":"2xl";return{windowSize:n,screenSize:g,isMobile:a,isDesktop:o,isXs:l,isSm:u,isMd:d,isLg:f,isXl:h,is2xl:p,atLeast:y=>{const x=["xs","sm","md","lg","xl","2xl"],_=x.indexOf(g),E=x.indexOf(y);return _>=E},atMost:y=>{const x=["xs","sm","md","lg","xl","2xl"],_=x.indexOf(g),E=x.indexOf(y);return _<=E}}};function Gye({expanded:t,onToggle:e}){var g;const{user:n,profile:r,signOut:i,isCreator:s}=Ut(),{toast:a}=br(),o=Ua(),{isMobile:l}=Kye(),[u,d]=b.useState(!1);b.useEffect(()=>{d(!0)},[]),b.useEffect(()=>{l&&t&&e()},[o.pathname,l,t,e]);const f=async()=>{try{await i(),a({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."})}catch{a({title:"Erreur de déconnexion",description:"Une erreur s'est produite lors de la déconnexion. Veuillez réessayer.",variant:"destructive"})}},p=[{icon:n2,label:"Accueil",href:"/"},{icon:pr,label:"Créateurs",href:"/creators"},{icon:sd,label:"Tendances",href:"/trending"},{icon:P_,label:"Messages",href:"/messages",requiresAuth:!0},{icon:mC,label:"Tableau de bord",href:"/dashboard",requiresAuth:!0,creatorOnly:!0},{icon:tve,label:"Vidéos",href:"/videos",requiresAuth:!0,creatorOnly:!0},{icon:XI,label:"Calendrier",href:"/calendar",requiresAuth:!0,creatorOnly:!0},{icon:I_,label:"Paramètres",href:"/settings",requiresAuth:!0}].filter(m=>!m.requiresAuth||m.requiresAuth&&n&&(!m.creatorOnly||m.creatorOnly&&s));return u?c.jsxs("div",{className:G("border-r flex-col py-4 fixed left-0 top-0 z-50 h-screen bg-background border-border transition-transform duration-300 w-64",l?t?"translate-x-0":"-translate-x-full":"translate-x-0"),children:[c.jsxs("div",{className:"px-6 flex items-center mb-6",children:[c.jsxs(fy,{className:"mr-2",children:[c.jsx(hy,{src:r==null?void 0:r.avatarUrl}),c.jsx(py,{children:((g=r==null?void 0:r.username)==null?void 0:g.charAt(0).toUpperCase())||"?"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:(r==null?void 0:r.username)||"Chargement..."}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n==null?void 0:n.email})]})]}),c.jsx(ep,{className:"flex-1 space-y-4 px-3",children:c.jsx("div",{className:"space-y-1",children:p.map(m=>c.jsxs(C9,{to:m.href,className:({isActive:v})=>G("group flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-secondary hover:text-foreground",v?"bg-secondary text-foreground font-semibold":"text-muted-foreground",v&&"sidebar-active-link"),onClick:()=>l&&t?e():null,children:[c.jsx(m.icon,{className:"mr-2 h-4 w-4"}),m.label]},m.href))})}),c.jsx("div",{className:"p-4",children:c.jsxs("button",{onClick:f,className:"group flex items-center rounded-md px-3 py-2 text-sm font-medium transition-colors hover:bg-secondary hover:text-foreground text-muted-foreground w-full",children:[c.jsx(r2,{className:"mr-2 h-4 w-4"}),"Déconnexion"]})})]}):null}const x4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,b4=it,my=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return b4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=x4(d)||x4(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...o}[m]):{...s,...o}[m]===v})?[...u,f,h]:u},[]);return b4(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},yC=my("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,onClick:i,...s},a)=>{const o=r?J7:"button",l=u=>{"vibrate"in navigator&&navigator.vibrate(10),i&&i(u)};return c.jsx(o,{className:G(yC({variant:e,size:n,className:t})),ref:a,onClick:l,...s})});K.displayName="Button";const en=b.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:G("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));en.displayName="Input";const h2=b.createContext({});function p2(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const L_=b.createContext(null),m2=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Yye extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xye({children:t,isPresent:e}){const n=b.useId(),r=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=b.useContext(m2);return b.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=i.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(Yye,{isPresent:e,childRef:r,sizeRef:i,children:b.cloneElement(t,{ref:r})})}const Qye=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=p2(Zye),l=b.useId(),u=b.useCallback(f=>{o.set(f,!0);for(const h of o.values())if(!h)return;r&&r()},[o,r]),d=b.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(o.set(f,!1),()=>o.delete(f))}),s?[Math.random(),u]:[n,u]);return b.useMemo(()=>{o.forEach((f,h)=>o.set(h,!1))},[n]),b.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=c.jsx(Xye,{isPresent:n,children:t})),c.jsx(L_.Provider,{value:d,children:t})};function Zye(){return new Map}function OH(t=!0){const e=b.useContext(L_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=b.useId();b.useEffect(()=>{t&&i(s)},[t]);const a=b.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const R0=t=>t.key||"";function w4(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const g2=typeof window<"u",RH=g2?b.useLayoutEffect:b.useEffect,Oo=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1})=>{const[o,l]=OH(a),u=b.useMemo(()=>w4(t),[t]),d=a&&!o?[]:u.map(R0),f=b.useRef(!0),h=b.useRef(u),p=p2(()=>new Map),[g,m]=b.useState(u),[v,y]=b.useState(u);RH(()=>{f.current=!1,h.current=u;for(let E=0;E<v.length;E++){const S=R0(v[E]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[v,d.length,d.join("-")]);const x=[];if(u!==g){let E=[...u];for(let S=0;S<v.length;S++){const j=v[S],A=R0(j);d.includes(A)||(E.splice(S,0,j),x.push(j))}s==="wait"&&x.length&&(E=x),y(w4(E)),m(u);return}const{forceRender:_}=b.useContext(h2);return c.jsx(c.Fragment,{children:v.map(E=>{const S=R0(E),j=a&&!o?!1:u===v||d.includes(S),A=()=>{if(p.has(S))p.set(S,!0);else return;let T=!0;p.forEach(C=>{C||(T=!1)}),T&&(_==null||_(),y(h.current),a&&(l==null||l()),r&&r())};return c.jsx(Qye,{isPresent:j,initial:!f.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:j?void 0:A,children:E},S)})})},Bi=t=>t;let MH=Bi;function v2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},vo=t=>t*1e3,yo=t=>t/1e3,Jye={useManualTiming:!1};function e0e(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const p=f&&r?e:n;return d&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const M0=["read","resolveKeyframes","update","preRender","render","postRender"],t0e=40;function DH(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=M0.reduce((y,x)=>(y[x]=e0e(s),y),{}),{read:o,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:h}=a,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,t0e),1),i.timestamp=y,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:M0.reduce((y,x)=>{const _=a[x];return y[x]=(E,S=!1,j=!1)=>(n||g(),_.schedule(E,S,j)),y},{}),cancel:y=>{for(let x=0;x<M0.length;x++)a[M0[x]].cancel(y)},state:i,steps:a}}const{schedule:rn,cancel:hc,state:dr,steps:CT}=DH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bi,!0),LH=b.createContext({strict:!1}),_4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qf={};for(const t in _4)Qf[t]={isEnabled:e=>_4[t].some(n=>!!e[n])};function n0e(t){for(const e in t)Qf[e]={...Qf[e],...t[e]}}const r0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||r0e.has(t)}let $H=t=>!Bb(t);function i0e(t){t&&($H=e=>e.startsWith("on")?!Bb(e):t(e))}try{i0e(require("@emotion/is-prop-valid").default)}catch{}function s0e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($H(i)||n===!0&&Bb(i)||!e&&!Bb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function a0e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const $_=b.createContext({});function Wg(t){return typeof t=="string"||Array.isArray(t)}function V_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const y2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],x2=["initial",...y2];function F_(t){return V_(t.animate)||x2.some(e=>Wg(t[e]))}function VH(t){return!!(F_(t)||t.variants)}function o0e(t,e){if(F_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wg(n)?n:void 0,animate:Wg(r)?r:void 0}}return t.inherit!==!1?e:{}}function l0e(t){const{initial:e,animate:n}=o0e(t,b.useContext($_));return b.useMemo(()=>({initial:e,animate:n}),[S4(e),S4(n)])}function S4(t){return Array.isArray(t)?t.join(" "):t}const c0e=Symbol.for("motionComponentSymbol");function Xd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function u0e(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xd(n)&&(n.current=r))},[e])}const b2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d0e="framerAppearId",FH="data-"+b2(d0e),{schedule:w2}=DH(queueMicrotask,!1),zH=b.createContext({});function f0e(t,e,n,r,i){var s,a;const{visualElement:o}=b.useContext($_),l=b.useContext(LH),u=b.useContext(L_),d=b.useContext(m2).reducedMotion,f=b.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=b.useContext(zH);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&h0e(f.current,n,i,p);const g=b.useRef(!1);b.useInsertionEffect(()=>{h&&g.current&&h.update(n,u)});const m=n[FH],v=b.useRef(!!m&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,m))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,m)));return RH(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),w2.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),b.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,m)}),v.current=!1))}),h}function h0e(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UH(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Xd(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function UH(t){if(t)return t.options.allowProjection!==!1?t.projection:UH(t.parent)}function p0e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,a;t&&n0e(t);function o(u,d){let f;const h={...b.useContext(m2),...u,layoutId:m0e(u)},{isStatic:p}=h,g=l0e(u),m=r(u,p);if(!p&&g2){g0e();const v=v0e(h);f=v.MeasureLayout,g.visualElement=f0e(i,m,h,e,v.ProjectionNode)}return c.jsxs($_.Provider,{value:g,children:[f&&g.visualElement?c.jsx(f,{visualElement:g.visualElement,...h}):null,n(i,u,u0e(m,g.visualElement,d),m,p,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=b.forwardRef(o);return l[c0e]=i,l}function m0e({layoutId:t}){const e=b.useContext(h2).id;return e&&t!==void 0?e+"-"+t:t}function g0e(t,e){b.useContext(LH).strict}function v0e(t){const{drag:e,layout:n}=Qf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const y0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _2(t){return typeof t!="string"||t.includes("-")?!1:!!(y0e.indexOf(t)>-1||/[A-Z]/u.test(t))}function E4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function S2(t,e,n,r){if(typeof e=="function"){const[i,s]=E4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=E4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const xC=t=>Array.isArray(t),x0e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),b0e=t=>xC(t)?t[t.length-1]||0:t,Ir=t=>!!(t&&t.getVelocity);function Ox(t){const e=Ir(t)?t.get():t;return x0e(e)?e.toValue():e}function w0e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const a={latestValues:_0e(r,i,s,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const BH=t=>(e,n)=>{const r=b.useContext($_),i=b.useContext(L_),s=()=>w0e(t,e,r,i);return n?s():p2(s)};function _0e(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Ox(s[h]);let{initial:a,animate:o}=t;const l=F_(t),u=VH(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!V_(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=S2(t,h[p]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const x in y){let _=y[x];if(Array.isArray(_)){const E=d?_.length-1:0;_=_[E]}_!==null&&(i[x]=_)}for(const x in m)i[x]=m[x]}}}return i}const tp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],od=new Set(tp),WH=t=>e=>typeof e=="string"&&e.startsWith(t),HH=WH("--"),S0e=WH("var(--"),E2=t=>S0e(t)?E0e.test(t.split("/*")[0].trim()):!1,E0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ro=(t,e,n)=>n>e?e:n<t?t:n,np={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hg={...np,transform:t=>Ro(0,1,t)},D0={...np,default:1},gy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ul=gy("deg"),Ca=gy("%"),qe=gy("px"),T0e=gy("vh"),A0e=gy("vw"),T4={...Ca,parse:t=>Ca.parse(t)/100,transform:t=>Ca.transform(t*100)},j0e={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe},C0e={rotate:ul,rotateX:ul,rotateY:ul,rotateZ:ul,scale:D0,scaleX:D0,scaleY:D0,scaleZ:D0,skew:ul,skewX:ul,skewY:ul,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Hg,originX:T4,originY:T4,originZ:qe},A4={...np,transform:Math.round},T2={...j0e,...C0e,zIndex:A4,size:qe,fillOpacity:Hg,strokeOpacity:Hg,numOctaves:A4},P0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k0e=tp.length;function N0e(t,e,n){let r="",i=!0;for(let s=0;s<k0e;s++){const a=tp[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const u=qH(o,T2[a]);if(!l){i=!1;const d=P0e[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function A2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(od.has(l)){a=!0;continue}else if(HH(l)){i[l]=u;continue}else{const d=qH(u,T2[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=N0e(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const I0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},O0e={offset:"strokeDashoffset",array:"strokeDasharray"};function R0e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?I0e:O0e;t[s.offset]=qe.transform(-r);const a=qe.transform(e),o=qe.transform(n);t[s.array]=`${a} ${o}`}function j4(t,e,n){return typeof t=="string"?t:qe.transform(e+n*t)}function M0e(t,e,n){const r=j4(e,t.x,t.width),i=j4(n,t.y,t.height);return`${r} ${i}`}function j2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},d,f){if(A2(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:g}=t;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=M0e(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&R0e(h,a,o,l,!1)}const C2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KH=()=>({...C2(),attrs:{}}),P2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GH(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const YH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XH(t,e,n,r){GH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(YH.has(i)?i:b2(i),e.attrs[i])}const Wb={};function D0e(t){Object.assign(Wb,t)}function QH(t,{layout:e,layoutId:n}){return od.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wb[t]||t==="opacity")}function k2(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Ir(i[a])||e.style&&Ir(e.style[a])||QH(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function ZH(t,e,n){const r=k2(t,e,n);for(const i in t)if(Ir(t[i])||Ir(e[i])){const s=tp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function L0e(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const C4=["x","y","width","height","cx","cy","r"],$0e={useVisualState:BH({scrapeMotionValuesFromProps:ZH,createRenderState:KH,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const o in i)if(od.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<C4.length;o++){const l=C4[o];t[l]!==e[l]&&(a=!0)}a&&rn.read(()=>{L0e(n,r),rn.render(()=>{j2(r,i,P2(n.tagName),t.transformTemplate),XH(n,r)})})}})},V0e={useVisualState:BH({scrapeMotionValuesFromProps:k2,createRenderState:C2})};function JH(t,e,n){for(const r in e)!Ir(e[r])&&!QH(r,n)&&(t[r]=e[r])}function F0e({transformTemplate:t},e){return b.useMemo(()=>{const n=C2();return A2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function z0e(t,e){const n=t.style||{},r={};return JH(r,n,t),Object.assign(r,F0e(t,e)),r}function U0e(t,e){const n={},r=z0e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function B0e(t,e,n,r){const i=b.useMemo(()=>{const s=KH();return j2(s,e,P2(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};JH(s,t.style,t),i.style={...s,...i.style}}return i}function W0e(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(_2(n)?B0e:U0e)(r,s,a,n),u=s0e(r,typeof n=="string",t),d=n!==b.Fragment?{...u,...l,ref:i}:{},{children:f}=r,h=b.useMemo(()=>Ir(f)?f.get():f,[f]);return b.createElement(n,{...d,children:h})}}function H0e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={..._2(r)?$0e:V0e,preloadedFeatures:t,useRender:W0e(i),createVisualElement:e,Component:r};return p0e(a)}}function eq(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function z_(t,e,n){const r=t.getProps();return S2(r,e,n!==void 0?n:r.custom,t)}const q0e=v2(()=>window.ScrollTimeline!==void 0);class K0e{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(q0e()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class G0e extends K0e{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function N2(t,e){return t?t[e]||t.default||t:void 0}const bC=2e4;function tq(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bC;)e+=n,r=t.next(e);return e>=bC?1/0:e}function I2(t){return typeof t=="function"}function P4(t,e){t.timeline=e,t.onfinish=null}const O2=t=>Array.isArray(t)&&typeof t[0]=="number",Y0e={linearEasing:void 0};function X0e(t,e){const n=v2(t);return()=>{var r;return(r=Y0e[e])!==null&&r!==void 0?r:n()}}const Hb=X0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Xf(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function rq(t){return!!(typeof t=="function"&&Hb()||!t||typeof t=="string"&&(t in wC||Hb())||O2(t)||Array.isArray(t)&&t.every(rq))}const ym=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,wC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ym([0,.65,.55,1]),circOut:ym([.55,0,1,.45]),backIn:ym([.31,.01,.66,-.59]),backOut:ym([.33,1.53,.69,.99])};function iq(t,e){if(t)return typeof t=="function"&&Hb()?nq(t,e):O2(t)?ym(t):Array.isArray(t)?t.map(n=>iq(n,e)||wC.easeOut):wC[t]}const Cs={x:!1,y:!1};function sq(){return Cs.x||Cs.y}function Q0e(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function aq(t,e){const n=Q0e(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function k4(t){return e=>{e.pointerType==="touch"||sq()||t(e)}}function Z0e(t,e,n={}){const[r,i,s]=aq(t,n),a=k4(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const d=k4(f=>{u(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const oq=(t,e)=>e?t===e?!0:oq(t,e.parentElement):!1,R2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,J0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function exe(t){return J0e.has(t.tagName)||t.tabIndex!==-1}const xm=new WeakSet;function N4(t){return e=>{e.key==="Enter"&&t(e)}}function PT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const txe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=N4(()=>{if(xm.has(n))return;PT(n,"down");const i=N4(()=>{PT(n,"up")}),s=()=>PT(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function I4(t){return R2(t)&&!sq()}function nxe(t,e,n={}){const[r,i,s]=aq(t,n),a=o=>{const l=o.currentTarget;if(!I4(o)||xm.has(l))return;xm.add(l);const u=e(o),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!I4(p)||!xm.has(l))&&(xm.delete(l),typeof u=="function"&&u(p,{success:g}))},f=p=>{d(p,n.useGlobalTarget||oq(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(o=>{!exe(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",u=>txe(u,i),i)}),s}function rxe(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}const lq=new Set(["width","height","top","left","right","bottom",...tp]);let Rx;function ixe(){Rx=void 0}const Pa={now:()=>(Rx===void 0&&Pa.set(dr.isProcessing||Jye.useManualTiming?dr.timestamp:performance.now()),Rx),set:t=>{Rx=t,queueMicrotask(ixe)}};function M2(t,e){t.indexOf(e)===-1&&t.push(e)}function D2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class L2{constructor(){this.subscriptions=[]}add(e){return M2(this.subscriptions,e),()=>D2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function cq(t,e){return e?t*(1e3/e):0}const O4=30,sxe=t=>!isNaN(parseFloat(t));class axe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Pa.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sxe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new L2);const r=this.events[e].add(n);return e==="change"?()=>{r(),rn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>O4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,O4);return cq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qg(t,e){return new axe(t,e)}function oxe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qg(n))}function lxe(t,e){const n=z_(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=b0e(s[a]);oxe(t,a,o)}}function cxe(t){return!!(Ir(t)&&t.add)}function _C(t,e){const n=t.getValue("willChange");if(cxe(n))return n.add(e)}function uq(t){return t.props[FH]}const dq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uxe=1e-7,dxe=12;function fxe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=dq(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>uxe&&++o<dxe);return a}function vy(t,e,n,r){if(t===e&&n===r)return Bi;const i=s=>fxe(s,0,1,t,n);return s=>s===0||s===1?s:dq(i(s),e,r)}const fq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hq=t=>e=>1-t(1-e),pq=vy(.33,1.53,.69,.99),$2=hq(pq),mq=fq($2),gq=t=>(t*=2)<1?.5*$2(t):.5*(2-Math.pow(2,-10*(t-1))),V2=t=>1-Math.sin(Math.acos(t)),vq=hq(V2),yq=fq(V2),xq=t=>/^0[^.\s]+$/u.test(t);function hxe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xq(t):!0}const Wm=t=>Math.round(t*1e5)/1e5,F2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pxe(t){return t==null}const mxe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,z2=(t,e)=>n=>!!(typeof n=="string"&&mxe.test(n)&&n.startsWith(t)||e&&!pxe(n)&&Object.prototype.hasOwnProperty.call(n,e)),bq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(F2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},gxe=t=>Ro(0,255,t),kT={...np,transform:t=>Math.round(gxe(t))},lu={test:z2("rgb","red"),parse:bq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kT.transform(t)+", "+kT.transform(e)+", "+kT.transform(n)+", "+Wm(Hg.transform(r))+")"};function vxe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const SC={test:z2("#"),parse:vxe,transform:lu.transform},Qd={test:z2("hsl","hue"),parse:bq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ca.transform(Wm(e))+", "+Ca.transform(Wm(n))+", "+Wm(Hg.transform(r))+")"},Ar={test:t=>lu.test(t)||SC.test(t)||Qd.test(t),parse:t=>lu.test(t)?lu.parse(t):Qd.test(t)?Qd.parse(t):SC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?lu.transform(t):Qd.transform(t)},yxe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xxe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(F2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(yxe))===null||n===void 0?void 0:n.length)||0)>0}const wq="number",_q="color",bxe="var",wxe="var(",R4="${}",_xe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(_xe,l=>(Ar.test(l)?(r.color.push(s),i.push(_q),n.push(Ar.parse(l))):l.startsWith(wxe)?(r.var.push(s),i.push(bxe),n.push(l)):(r.number.push(s),i.push(wq),n.push(parseFloat(l))),++s,R4)).split(R4);return{values:n,split:o,indexes:r,types:i}}function Sq(t){return Kg(t).values}function Eq(t){const{split:e,types:n}=Kg(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===wq?s+=Wm(i[a]):o===_q?s+=Ar.transform(i[a]):s+=i[a]}return s}}const Sxe=t=>typeof t=="number"?0:t;function Exe(t){const e=Sq(t);return Eq(t)(e.map(Sxe))}const pc={test:xxe,parse:Sq,createTransformer:Eq,getAnimatableNone:Exe},Txe=new Set(["brightness","contrast","saturate","opacity"]);function Axe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(F2)||[];if(!r)return t;const i=n.replace(r,"");let s=Txe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const jxe=/\b([a-z-]*)\(.*?\)/gu,EC={...pc,getAnimatableNone:t=>{const e=t.match(jxe);return e?e.map(Axe).join(" "):t}},Cxe={...T2,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:EC,WebkitFilter:EC},U2=t=>Cxe[t];function Tq(t,e){let n=U2(t);return n!==EC&&(n=pc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Pxe=new Set(["auto","none","0"]);function kxe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Pxe.has(s)&&Kg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Tq(n,i)}const M4=t=>t===np||t===qe,D4=(t,e)=>parseFloat(t.split(", ")[e]),L4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return D4(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?D4(s[1],t):0}},Nxe=new Set(["x","y","z"]),Ixe=tp.filter(t=>!Nxe.has(t));function Oxe(t){const e=[];return Ixe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:L4(4,13),y:L4(5,14)};Zf.translateX=Zf.x;Zf.translateY=Zf.y;const xu=new Set;let TC=!1,AC=!1;function Aq(){if(AC){const t=Array.from(xu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Oxe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}AC=!1,TC=!1,xu.forEach(t=>t.complete()),xu.clear()}function jq(){xu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(AC=!0)})}function Rxe(){jq(),Aq()}class B2{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xu.add(this),TC||(TC=!0,rn.read(jq),rn.resolveKeyframes(Aq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Cq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Mxe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dxe(t){const e=Mxe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Pq(t,e,n=1){const[r,i]=Dxe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return Cq(a)?parseFloat(a):a}return E2(i)?Pq(i,e,n+1):i}const kq=t=>e=>e.test(t),Lxe={test:t=>t==="auto",parse:t=>t},Nq=[np,qe,Ca,ul,A0e,T0e,Lxe],$4=t=>Nq.find(kq(t));class Iq extends B2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),E2(u))){const d=Pq(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!lq.has(r)||e.length!==2)return;const[i,s]=e,a=$4(i),o=$4(s);if(a!==o)if(M4(a)&&M4(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)hxe(e[i])&&r.push(i);r.length&&kxe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zf[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Zf[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const V4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pc.test(t)||t==="0")&&!t.startsWith("url("));function $xe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vxe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=V4(i,e),o=V4(s,e);return!a||!o?!1:$xe(t)||(n==="spring"||I2(n))&&r}const Fxe=t=>t!==null;function U_(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Fxe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const zxe=40;class Oq{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Pa.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>zxe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Rxe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Pa.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Vxe(e,r,i,s))if(a)this.options.duration=0;else{l&&l(U_(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dn=(t,e,n)=>t+(e-t)*n;function NT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Uxe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=NT(l,o,t+1/3),s=NT(l,o,t),a=NT(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function qb(t,e){return n=>n>0?e:t}const IT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Bxe=[SC,lu,Qd],Wxe=t=>Bxe.find(e=>e.test(t));function F4(t){const e=Wxe(t);if(!e)return!1;let n=e.parse(t);return e===Qd&&(n=Uxe(n)),n}const z4=(t,e)=>{const n=F4(t),r=F4(e);if(!n||!r)return qb(t,e);const i={...n};return s=>(i.red=IT(n.red,r.red,s),i.green=IT(n.green,r.green,s),i.blue=IT(n.blue,r.blue,s),i.alpha=dn(n.alpha,r.alpha,s),lu.transform(i))},Hxe=(t,e)=>n=>e(t(n)),yy=(...t)=>t.reduce(Hxe),jC=new Set(["none","hidden"]);function qxe(t,e){return jC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Kxe(t,e){return n=>dn(t,e,n)}function W2(t){return typeof t=="number"?Kxe:typeof t=="string"?E2(t)?qb:Ar.test(t)?z4:Xxe:Array.isArray(t)?Rq:typeof t=="object"?Ar.test(t)?z4:Gxe:qb}function Rq(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>W2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function Gxe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=W2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Yxe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=l,i[a]++}return r}const Xxe=(t,e)=>{const n=pc.createTransformer(e),r=Kg(t),i=Kg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jC.has(t)&&!i.values.length||jC.has(e)&&!r.values.length?qxe(t,e):yy(Rq(Yxe(r,i),i.values),n):qb(t,e)};function Mq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dn(t,e,n):W2(t)(t,e)}const Qxe=5;function Dq(t,e,n){const r=Math.max(e-Qxe,0);return cq(n-t(r),e-r)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U4=.001;function Zxe({duration:t=yn.duration,bounce:e=yn.bounce,velocity:n=yn.velocity,mass:r=yn.mass}){let i,s,a=1-e;a=Ro(yn.minDamping,yn.maxDamping,a),t=Ro(yn.minDuration,yn.maxDuration,yo(t)),a<1?(i=u=>{const d=u*a,f=d*t,h=d-n,p=CC(u,a),g=Math.exp(-f);return U4-h/p*g},s=u=>{const f=u*a*t,h=f*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-f),m=CC(Math.pow(u,2),a);return(-i(u)+U4>0?-1:1)*((h-p)*g)/m}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-.001+d*f},s=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const o=5/t,l=ebe(i,s,o);if(t=vo(t),isNaN(l))return{stiffness:yn.stiffness,damping:yn.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Jxe=12;function ebe(t,e,n){let r=n;for(let i=1;i<Jxe;i++)r=r-t(r)/e(r);return r}function CC(t,e){return t*Math.sqrt(1-e*e)}const tbe=["duration","bounce"],nbe=["stiffness","damping","mass"];function B4(t,e){return e.some(n=>t[n]!==void 0)}function rbe(t){let e={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...t};if(!B4(t,nbe)&&B4(t,tbe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ro(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yn.mass,stiffness:i,damping:s}}else{const n=Zxe(t);e={...e,...n,mass:yn.mass},e.isResolvedFromDuration=!0}return e}function Lq(t=yn.visualDuration,e=yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=rbe({...n,velocity:-yo(n.velocity||0)}),g=h||0,m=u/(2*Math.sqrt(l*d)),v=a-s,y=yo(Math.sqrt(l/d)),x=Math.abs(v)<5;r||(r=x?yn.restSpeed.granular:yn.restSpeed.default),i||(i=x?yn.restDelta.granular:yn.restDelta.default);let _;if(m<1){const S=CC(y,m);_=j=>{const A=Math.exp(-m*y*j);return a-A*((g+m*y*v)/S*Math.sin(S*j)+v*Math.cos(S*j))}}else if(m===1)_=S=>a-Math.exp(-y*S)*(v+(g+y*v)*S);else{const S=y*Math.sqrt(m*m-1);_=j=>{const A=Math.exp(-m*y*j),T=Math.min(S*j,300);return a-A*((g+m*y*v)*Math.sinh(T)+S*v*Math.cosh(T))/S}}const E={calculatedDuration:p&&f||null,next:S=>{const j=_(S);if(p)o.done=S>=f;else{let A=0;m<1&&(A=S===0?vo(g):Dq(_,S,j));const T=Math.abs(A)<=r,C=Math.abs(a-j)<=i;o.done=T&&C}return o.value=o.done?a:j,o},toString:()=>{const S=Math.min(tq(E),bC),j=nq(A=>E.next(S*A).value,S,30);return S+"ms "+j}};return E}function W4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=T=>o!==void 0&&T<o||l!==void 0&&T>l,g=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let m=n*e;const v=f+m,y=a===void 0?v:a(v);y!==v&&(m=y-f);const x=T=>-m*Math.exp(-T/r),_=T=>y+x(T),E=T=>{const C=x(T),k=_(T);h.done=Math.abs(C)<=u,h.value=h.done?y:k};let S,j;const A=T=>{p(h.value)&&(S=T,j=Lq({keyframes:[h.value,g(h.value)],velocity:Dq(_,T,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:T=>{let C=!1;return!j&&S===void 0&&(C=!0,E(T),A(T)),S!==void 0&&T>=S?j.next(T-S):(!C&&E(T),h)}}}const ibe=vy(.42,0,1,1),sbe=vy(0,0,.58,1),$q=vy(.42,0,.58,1),abe=t=>Array.isArray(t)&&typeof t[0]!="number",obe={linear:Bi,easeIn:ibe,easeInOut:$q,easeOut:sbe,circIn:V2,circInOut:yq,circOut:vq,backIn:$2,backInOut:mq,backOut:pq,anticipate:gq},H4=t=>{if(O2(t)){MH(t.length===4);const[e,n,r,i]=t;return vy(e,n,r,i)}else if(typeof t=="string")return obe[t];return t};function lbe(t,e,n){const r=[],i=n||Mq,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Bi:e;o=yy(l,o)}r.push(o)}return r}function cbe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(MH(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lbe(e,r,i),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Xf(t[f],t[f+1],d);return o[f](h)};return n?d=>u(Ro(t[0],t[s-1],d)):u}function ube(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xf(0,e,r);t.push(dn(n,1,i))}}function dbe(t){const e=[0];return ube(e,t.length-1),e}function fbe(t,e){return t.map(n=>n*e)}function hbe(t,e){return t.map(()=>e||$q).splice(0,t.length-1)}function Kb({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=abe(r)?r.map(H4):H4(r),s={done:!1,value:e[0]},a=fbe(n&&n.length===e.length?n:dbe(e),t),o=cbe(a,e,{ease:Array.isArray(i)?i:hbe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const pbe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rn.update(e,!0),stop:()=>hc(e),now:()=>dr.isProcessing?dr.timestamp:Pa.now()}},mbe={decay:W4,inertia:W4,tween:Kb,keyframes:Kb,spring:Lq},gbe=t=>t/100;class H2 extends Oq{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||B2,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=I2(n)?n:mbe[n]||Kb;let l,u;o!==Kb&&typeof e[0]!="number"&&(l=yy(gbe,Mq(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=tq(d));const{calculatedDuration:f}=d,h=f+i,p=h*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:g,repeatDelay:m,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,E=s;if(p){const T=Math.min(this.currentTime,d)/f;let C=Math.floor(T),k=T%1;!k&&T>=1&&(k=1),k===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(g==="reverse"?(k=1-k,m&&(k-=m/f)):g==="mirror"&&(E=a)),_=Ro(0,1,k)*f}const S=x?{done:!1,value:l[0]}:E.next(_);o&&(S.value=o(S.value));let{done:j}=S;!x&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&i!==void 0&&(S.value=U_(l,this.options,i)),v&&v(S.value),A&&this.finish(),S}get duration(){const{resolved:e}=this;return e?yo(e.calculatedDuration):0}get time(){return yo(this.currentTime)}set time(e){e=vo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=yo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=pbe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const vbe=new Set(["opacity","clipPath","filter","transform"]);function ybe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=iq(o,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const xbe=v2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gb=10,bbe=2e4;function wbe(t){return I2(t.type)||t.type==="spring"||!rq(t.ease)}function _be(t,e){const n=new H2({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<bbe;)r=n.sample(s),i.push(r.value),s+=Gb;return{times:void 0,keyframes:i,duration:s-Gb,ease:"linear"}}const Vq={anticipate:gq,backInOut:mq,circInOut:yq};function Sbe(t){return t in Vq}class q4 extends Oq{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Iq(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&Hb()&&Sbe(s)&&(s=Vq[s]),wbe(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:g,...m}=this.options,v=_be(e,m);e=v.keyframes,e.length===1&&(e[1]=e[0]),r=v.duration,i=v.times,s=v.ease,a="keyframes"}const d=ybe(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(P4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set(U_(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return yo(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return yo(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Bi;const{animation:r}=n;P4(r,e)}return Bi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,g=new H2({...p,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),m=vo(this.time);u.setWithVelocity(g.sample(m-Gb).value,g.sample(m).value,Gb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return xbe()&&r&&vbe.has(r)&&!l&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const Ebe={type:"spring",stiffness:500,damping:25,restSpeed:10},Tbe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Abe={type:"keyframes",duration:.8},jbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cbe=(t,{keyframes:e})=>e.length>2?Abe:od.has(t)?t.startsWith("scale")?Tbe(e[1]):Ebe:jbe;function Pbe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const q2=(t,e,n,r={},i,s)=>a=>{const o=N2(r,t)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vo(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Pbe(o)||(d={...d,...Cbe(t,d)}),d.duration&&(d.duration=vo(d.duration)),d.repeatDelay&&(d.repeatDelay=vo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=U_(d.keyframes,o);if(h!==void 0)return rn.update(()=>{d.onUpdate(h),d.onComplete()}),new G0e([])}return!s&&q4.supports(d)?new q4(d):new H2(d)};function kbe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Fq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),p=l[f];if(p===void 0||d&&kbe(d,f))continue;const g={delay:n,...N2(a||{},f)};let m=!1;if(window.MotionHandoffAnimation){const y=uq(t);if(y){const x=window.MotionHandoffAnimation(y,f,rn);x!==null&&(g.startTime=x,m=!0)}}_C(t,f),h.start(q2(f,h,p,t.shouldReduceMotion&&lq.has(f)?{type:!1}:g,t,m));const v=h.animation;v&&u.push(v)}return o&&Promise.all(u).then(()=>{rn.update(()=>{o&&lxe(t,o)})}),u}function PC(t,e,n={}){var r;const i=z_(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(Fq(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return Nbe(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function Nbe(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(Ibe).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(PC(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Ibe(t,e){return t.sortNodePosition(e)}function Obe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>PC(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=PC(t,e,n);else{const i=typeof e=="function"?z_(t,e,n.custom):e;r=Promise.all(Fq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Rbe=x2.length;function zq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?zq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Rbe;n++){const r=x2[n],i=t.props[r];(Wg(i)||i===!1)&&(e[r]=i)}return e}const Mbe=[...y2].reverse(),Dbe=y2.length;function Lbe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Obe(t,n,r)))}function $be(t){let e=Lbe(t),n=K4(),r=!0;const i=l=>(u,d)=>{var f;const h=z_(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:g,...m}=h;u={...u,...m,...g}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,d=zq(t.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let v=0;v<Dbe;v++){const y=Mbe[v],x=n[y],_=u[y]!==void 0?u[y]:d[y],E=Wg(_),S=y===l?x.isActive:null;S===!1&&(g=v);let j=_===d[y]&&_!==u[y]&&E;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...p},!x.isActive&&S===null||!_&&!x.prevProp||V_(_)||typeof _=="boolean")continue;const A=Vbe(x.prevProp,_);let T=A||y===l&&x.isActive&&!j&&E||v>g&&E,C=!1;const k=Array.isArray(_)?_:[_];let I=k.reduce(i(y),{});S===!1&&(I={});const{prevResolvedValues:N={}}=x,O={...N,...I},D=z=>{T=!0,h.has(z)&&(C=!0,h.delete(z)),x.needsAnimating[z]=!0;const L=t.getValue(z);L&&(L.liveStyle=!1)};for(const z in O){const L=I[z],F=N[z];if(p.hasOwnProperty(z))continue;let W=!1;xC(L)&&xC(F)?W=!eq(L,F):W=L!==F,W?L!=null?D(z):h.add(z):L!==void 0&&h.has(z)?D(z):x.protectedKeys[z]=!0}x.prevProp=_,x.prevResolvedValues=I,x.isActive&&(p={...p,...I}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(j&&A)||C)&&f.push(...k.map(z=>({animation:z,options:{type:y}})))}if(h.size){const v={};h.forEach(y=>{const x=t.getBaseTarget(y),_=t.getValue(y);_&&(_.liveStyle=!0),v[y]=x??null}),f.push({animation:v})}let m=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function o(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const f=a(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=K4(),r=!0}}}function Vbe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eq(e,t):!1}function Bc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K4(){return{animate:Bc(!0),whileInView:Bc(),whileHover:Bc(),whileTap:Bc(),whileDrag:Bc(),whileFocus:Bc(),exit:Bc()}}class jc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fbe extends jc{constructor(e){super(e),e.animationState||(e.animationState=$be(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();V_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let zbe=0;class Ube extends jc{constructor(){super(...arguments),this.id=zbe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Bbe={animation:{Feature:Fbe},exit:{Feature:Ube}};function Gg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xy(t){return{point:{x:t.pageX,y:t.pageY}}}const Wbe=t=>e=>R2(e)&&t(e,xy(e));function Hm(t,e,n,r){return Gg(t,e,Wbe(n),r)}const G4=(t,e)=>Math.abs(t-e);function Hbe(t,e){const n=G4(t.x,e.x),r=G4(t.y,e.y);return Math.sqrt(n**2+r**2)}class Uq{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=RT(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Hbe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:m}=dr;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=OT(h,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=RT(f.type==="pointercancel"?this.lastMoveEventInfo:OT(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),g&&g(f,v)},!R2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=xy(e),o=OT(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=dr;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,RT(o,this.history)),this.removeListeners=yy(Hm(this.contextWindow,"pointermove",this.handlePointerMove),Hm(this.contextWindow,"pointerup",this.handlePointerUp),Hm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hc(this.updatePoint)}}function OT(t,e){return e?{point:e(t.point)}:t}function Y4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function RT({point:t},e){return{point:t,delta:Y4(t,Bq(e)),offset:Y4(t,qbe(e)),velocity:Kbe(e,.1)}}function qbe(t){return t[0]}function Bq(t){return t[t.length-1]}function Kbe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Bq(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>vo(e)));)n--;if(!r)return{x:0,y:0};const s=yo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const Wq=1e-4,Gbe=1-Wq,Ybe=1+Wq,Hq=.01,Xbe=0-Hq,Qbe=0+Hq;function Ki(t){return t.max-t.min}function Zbe(t,e,n){return Math.abs(t-e)<=n}function X4(t,e,n,r=.5){t.origin=r,t.originPoint=dn(e.min,e.max,t.origin),t.scale=Ki(n)/Ki(e),t.translate=dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Gbe&&t.scale<=Ybe||isNaN(t.scale))&&(t.scale=1),(t.translate>=Xbe&&t.translate<=Qbe||isNaN(t.translate))&&(t.translate=0)}function qm(t,e,n,r){X4(t.x,e.x,n.x,r?r.originX:void 0),X4(t.y,e.y,n.y,r?r.originY:void 0)}function Q4(t,e,n){t.min=n.min+e.min,t.max=t.min+Ki(e)}function Jbe(t,e,n){Q4(t.x,e.x,n.x),Q4(t.y,e.y,n.y)}function Z4(t,e,n){t.min=e.min-n.min,t.max=t.min+Ki(e)}function Km(t,e,n){Z4(t.x,e.x,n.x),Z4(t.y,e.y,n.y)}function ewe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dn(n,t,r.max):Math.min(t,n)),t}function J4(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function twe(t,{top:e,left:n,bottom:r,right:i}){return{x:J4(t.x,n,i),y:J4(t.y,e,r)}}function e5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nwe(t,e){return{x:e5(t.x,e.x),y:e5(t.y,e.y)}}function rwe(t,e){let n=.5;const r=Ki(t),i=Ki(e);return i>r?n=Xf(e.min,e.max-r,t.min):r>i&&(n=Xf(t.min,t.max-i,e.min)),Ro(0,1,n)}function iwe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const kC=.35;function swe(t=kC){return t===!1?t=0:t===!0&&(t=kC),{x:t5(t,"left","right"),y:t5(t,"top","bottom")}}function t5(t,e,n){return{min:n5(t,e),max:n5(t,n)}}function n5(t,e){return typeof t=="number"?t:t[e]||0}const r5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zd=()=>({x:r5(),y:r5()}),i5=()=>({min:0,max:0}),En=()=>({x:i5(),y:i5()});function ts(t){return[t("x"),t("y")]}function qq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function awe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function owe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function MT(t){return t===void 0||t===1}function NC({scale:t,scaleX:e,scaleY:n}){return!MT(t)||!MT(e)||!MT(n)}function Xc(t){return NC(t)||Kq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Kq(t){return s5(t.x)||s5(t.y)}function s5(t){return t&&t!=="0%"}function Yb(t,e,n){const r=t-n,i=e*r;return n+i}function a5(t,e,n,r,i){return i!==void 0&&(t=Yb(t,i,r)),Yb(t,n,r)+e}function IC(t,e=0,n=1,r,i){t.min=a5(t.min,e,n,r,i),t.max=a5(t.max,e,n,r,i)}function Gq(t,{x:e,y:n}){IC(t.x,e.translate,e.scale,e.originPoint),IC(t.y,n.translate,n.scale,n.originPoint)}const o5=.999999999999,l5=1.0000000000001;function lwe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ef(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Gq(t,a)),r&&Xc(s.latestValues)&&ef(t,s.latestValues))}e.x<l5&&e.x>o5&&(e.x=1),e.y<l5&&e.y>o5&&(e.y=1)}function Jd(t,e){t.min=t.min+e,t.max=t.max+e}function c5(t,e,n,r,i=.5){const s=dn(t.min,t.max,i);IC(t,e,n,s,r)}function ef(t,e){c5(t.x,e.x,e.scaleX,e.scale,e.originX),c5(t.y,e.y,e.scaleY,e.scale,e.originY)}function Yq(t,e){return qq(owe(t.getBoundingClientRect(),e))}function cwe(t,e,n){const r=Yq(t,n),{scroll:i}=e;return i&&(Jd(r.x,i.offset.x),Jd(r.y,i.offset.y)),r}const Xq=({current:t})=>t?t.ownerDocument.defaultView:null,uwe=new WeakMap;class dwe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xy(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rxe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Ca.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[v];_&&(y=Ki(_)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&rn.postRender(()=>g(d,f)),_C(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=fwe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(d,f)},o=(d,f)=>this.stop(d,f),l=()=>ts(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Uq(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Xq(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&rn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!L0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=ewe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Xd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=twe(i.layoutBox,n):this.constraints=!1,this.elastic=swe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ts(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=iwe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=cwe(r,i.root,this.visualElement.getTransformPagePoint());let a=nwe(i.layout.layoutBox,s);if(n){const o=n(awe(a));this.hasMutatedConstraints=!!o,o&&(a=qq(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ts(d=>{if(!L0(d,n,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _C(this.visualElement,e),r.start(q2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ts(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ts(n=>{const{drag:r}=this.getProps();if(!L0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-dn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ts(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=rwe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ts(a=>{if(!L0(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(dn(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;uwe.set(this.visualElement,this);const e=this.visualElement.current,n=Hm(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rn.read(r);const a=Gg(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ts(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=kC,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function L0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fwe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hwe extends jc{constructor(e){super(e),this.removeGroupControls=Bi,this.removeListeners=Bi,this.controls=new dwe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const u5=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class pwe extends jc{constructor(){super(...arguments),this.removePointerDownListener=Bi}onPointerDown(e){this.session=new Uq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:u5(e),onStart:u5(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&rn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Hm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d5(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(qe.test(t))t=parseFloat(t);else return t;const n=d5(t,e.target.x),r=d5(t,e.target.y);return`${n}% ${r}%`}},mwe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=pc.parse(t);if(i.length>5)return r;const s=pc.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=dn(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class gwe extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;D0e(vwe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Mx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||rn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qq(t){const[e,n]=OH(),r=b.useContext(h2);return c.jsx(gwe,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(zH),isPresent:e,safeToRemove:n})}const vwe={borderRadius:{...Kp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kp,borderTopRightRadius:Kp,borderBottomLeftRadius:Kp,borderBottomRightRadius:Kp,boxShadow:mwe};function ywe(t,e,n){const r=Ir(t)?t:qg(t);return r.start(q2("",r,e,n)),r.animation}function xwe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const bwe=(t,e)=>t.depth-e.depth;class wwe{constructor(){this.children=[],this.isDirty=!1}add(e){M2(this.children,e),this.isDirty=!0}remove(e){D2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bwe),this.isDirty=!1,this.children.forEach(e)}}function _we(t,e){const n=Pa.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(hc(r),t(s-e))};return rn.read(r,!0),()=>hc(r)}const Zq=["TopLeft","TopRight","BottomLeft","BottomRight"],Swe=Zq.length,f5=t=>typeof t=="string"?parseFloat(t):t,h5=t=>typeof t=="number"||qe.test(t);function Ewe(t,e,n,r,i,s){i?(t.opacity=dn(0,n.opacity!==void 0?n.opacity:1,Twe(r)),t.opacityExit=dn(e.opacity!==void 0?e.opacity:1,0,Awe(r))):s&&(t.opacity=dn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<Swe;a++){const o=`border${Zq[a]}Radius`;let l=p5(e,o),u=p5(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||h5(l)===h5(u)?(t[o]=Math.max(dn(f5(l),f5(u),r),0),(Ca.test(u)||Ca.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=dn(e.rotate||0,n.rotate||0,r))}function p5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Twe=Jq(0,.5,vq),Awe=Jq(.5,.95,Bi);function Jq(t,e,n){return r=>r<t?0:r>e?1:n(Xf(t,e,r))}function m5(t,e){t.min=e.min,t.max=e.max}function Zi(t,e){m5(t.x,e.x),m5(t.y,e.y)}function g5(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function v5(t,e,n,r,i){return t-=e,t=Yb(t,1/n,r),i!==void 0&&(t=Yb(t,1/i,r)),t}function jwe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ca.test(e)&&(e=parseFloat(e),e=dn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=dn(s.min,s.max,r);t===s&&(o-=e),t.min=v5(t.min,e,n,o,i),t.max=v5(t.max,e,n,o,i)}function y5(t,e,[n,r,i],s,a){jwe(t,e[n],e[r],e[i],e.scale,s,a)}const Cwe=["x","scaleX","originX"],Pwe=["y","scaleY","originY"];function x5(t,e,n,r){y5(t.x,e,Cwe,n?n.x:void 0,r?r.x:void 0),y5(t.y,e,Pwe,n?n.y:void 0,r?r.y:void 0)}function b5(t){return t.translate===0&&t.scale===1}function eK(t){return b5(t.x)&&b5(t.y)}function w5(t,e){return t.min===e.min&&t.max===e.max}function kwe(t,e){return w5(t.x,e.x)&&w5(t.y,e.y)}function _5(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tK(t,e){return _5(t.x,e.x)&&_5(t.y,e.y)}function S5(t){return Ki(t.x)/Ki(t.y)}function E5(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Nwe{constructor(){this.members=[]}add(e){M2(this.members,e),e.scheduleRender()}remove(e){if(D2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Iwe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Qc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bm=typeof window<"u"&&window.MotionDebug!==void 0,DT=["","X","Y","Z"],Owe={visibility:"hidden"},T5=1e3;let Rwe=0;function LT(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nK(r)}function rK({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Rwe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bm&&(Qc.totalNodes=Qc.resolvedTargetDeltas=Qc.recalculatedProjection=0),this.nodes.forEach(Lwe),this.nodes.forEach(Uwe),this.nodes.forEach(Bwe),this.nodes.forEach($we),bm&&window.MotionDebug.record(Qc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wwe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new L2),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xwe(a),this.instance=a;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=_we(h,250),Mx.hasAnimatedSinceResize&&(Mx.hasAnimatedSinceResize=!1,this.nodes.forEach(j5))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||Gwe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!tK(this.targetLayout,g)||p,_=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const E={...N2(m,"layout"),onPlay:v,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||j5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Wwe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A5);return}this.isUpdating||this.nodes.forEach(Fwe),this.isUpdating=!1,this.nodes.forEach(zwe),this.nodes.forEach(Mwe),this.nodes.forEach(Dwe),this.clearAllSnapshots();const o=Pa.now();dr.delta=Ro(0,1e3/60,o-dr.timestamp),dr.timestamp=o,dr.isProcessing=!0,CT.update.process(dr),CT.preRender.process(dr),CT.render.process(dr),dr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Vwe),this.sharedNodes.forEach(Hwe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!eK(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||Xc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Ywe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return En();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(Xwe))){const{scroll:d}=this.root;d&&(Jd(l.x,d.offset.x),Jd(l.y,d.offset.y))}return l}removeElementScroll(a){var o;const l=En();if(Zi(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Zi(l,a),Jd(l.x,f.offset.x),Jd(l.y,f.offset.y))}return l}applyTransform(a,o=!1){const l=En();Zi(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ef(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xc(d.latestValues)&&ef(l,d.latestValues)}return Xc(this.latestValues)&&ef(l,this.latestValues),l}removeTransform(a){const o=En();Zi(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Xc(u.latestValues))continue;NC(u.latestValues)&&u.updateSnapshot();const d=En(),f=u.measurePageBox();Zi(d,f),x5(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Xc(this.latestValues)&&x5(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=dr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Km(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zi(this.target,this.layout.layoutBox),Gq(this.target,this.targetDelta)):Zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Km(this.relativeTargetOrigin,this.target,p.target),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bm&&Qc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||NC(this.parent.latestValues)||Kq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Zi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;lwe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=En());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g5(this.prevProjectionDelta.x,this.projectionDelta.x),g5(this.prevProjectionDelta.y,this.projectionDelta.y)),qm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!E5(this.projectionDelta.x,this.prevProjectionDelta.x)||!E5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),bm&&Qc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zd(),this.projectionDelta=Zd(),this.projectionDeltaWithTransform=Zd()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Zd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=En(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,v=this.getStack(),y=!v||v.members.length<=1,x=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Kwe));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const S=E/1e3;C5(f.x,a.x,S),C5(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Km(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qwe(this.relativeTarget,this.relativeTargetOrigin,h,S),_&&kwe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=En()),Zi(_,this.relativeTarget)),m&&(this.animationValues=d,Ewe(d,u,this.latestValues,S,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Mx.hasAnimatedSinceResize=!0,this.currentAnimation=ywe(0,T5,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&iK(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||En();const f=Ki(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=Ki(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Zi(o,l),ef(o,d),qm(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Nwe),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&LT("z",a,u,this.animationValues);for(let d=0;d<DT.length;d++)LT(`rotate${DT[d]}`,a,u,this.animationValues),LT(`skew${DT[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Owe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ox(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ox(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xc(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Iwe(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in Wb){if(h[m]===void 0)continue;const{correct:v,applyTo:y}=Wb[m],x=u.transform==="none"?h[m]:v(h[m],f);if(y){const _=y.length;for(let E=0;E<_;E++)u[y[E]]=x}else u[m]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Ox(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(A5),this.root.sharedNodes.clear()}}}function Mwe(t){t.updateLayout()}function Dwe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?ts(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],p=Ki(h);h.min=r[f].min,h.max=h.min+p}):iK(s,n.layoutBox,r)&&ts(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],p=Ki(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=Zd();qm(o,r,n.layoutBox);const l=Zd();a?qm(l,t.applyTransform(i,!0),n.measuredBox):qm(l,r,n.layoutBox);const u=!eK(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=En();Km(g,n.layoutBox,h.layoutBox);const m=En();Km(m,r,p.layoutBox),tK(g,m)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Lwe(t){bm&&Qc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $we(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Vwe(t){t.clearSnapshot()}function A5(t){t.clearMeasurements()}function Fwe(t){t.isLayoutDirty=!1}function zwe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function j5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Uwe(t){t.resolveTargetDelta()}function Bwe(t){t.calcProjection()}function Wwe(t){t.resetSkewAndRotation()}function Hwe(t){t.removeLeadSnapshot()}function C5(t,e,n){t.translate=dn(e.translate,0,n),t.scale=dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P5(t,e,n,r){t.min=dn(e.min,n.min,r),t.max=dn(e.max,n.max,r)}function qwe(t,e,n,r){P5(t.x,e.x,n.x,r),P5(t.y,e.y,n.y,r)}function Kwe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Gwe={duration:.45,ease:[.4,0,.1,1]},k5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),N5=k5("applewebkit/")&&!k5("chrome/")?Math.round:Bi;function I5(t){t.min=N5(t.min),t.max=N5(t.max)}function Ywe(t){I5(t.x),I5(t.y)}function iK(t,e,n){return t==="position"||t==="preserve-aspect"&&!Zbe(S5(e),S5(n),.2)}function Xwe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Qwe=rK({attachResizeListener:(t,e)=>Gg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$T={current:void 0},sK=rK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!$T.current){const t=new Qwe({});t.mount(window),t.setOptions({layoutScroll:!0}),$T.current=t}return $T.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zwe={pan:{Feature:pwe},drag:{Feature:hwe,ProjectionNode:sK,MeasureLayout:Qq}};function O5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&rn.postRender(()=>s(e,xy(e)))}class Jwe extends jc{mount(){const{current:e}=this.node;e&&(this.unmount=Z0e(e,n=>(O5(this.node,n,"Start"),r=>O5(this.node,r,"End"))))}unmount(){}}class e1e extends jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yy(Gg(this.node.current,"focus",()=>this.onFocus()),Gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R5(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&rn.postRender(()=>s(e,xy(e)))}class t1e extends jc{mount(){const{current:e}=this.node;e&&(this.unmount=nxe(e,n=>(R5(this.node,n,"Start"),(r,{success:i})=>R5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const OC=new WeakMap,VT=new WeakMap,n1e=t=>{const e=OC.get(t.target);e&&e(t)},r1e=t=>{t.forEach(n1e)};function i1e({root:t,...e}){const n=t||document;VT.has(n)||VT.set(n,{});const r=VT.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(r1e,{root:t,...e})),r[i]}function s1e(t,e,n){const r=i1e(e);return OC.set(t,n),r.observe(t),()=>{OC.delete(t),r.unobserve(t)}}const a1e={some:0,all:1};class o1e extends jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:a1e[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return s1e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l1e(e,n))&&this.startObserver()}unmount(){}}function l1e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c1e={inView:{Feature:o1e},tap:{Feature:t1e},focus:{Feature:e1e},hover:{Feature:Jwe}},u1e={layout:{ProjectionNode:sK,MeasureLayout:Qq}},RC={current:null},aK={current:!1};function d1e(){if(aK.current=!0,!!g2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>RC.current=t.matches;t.addListener(e),e()}else RC.current=!1}const f1e=[...Nq,Ar,pc],h1e=t=>f1e.find(kq(t)),M5=new WeakMap;function p1e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ir(i))t.addValue(r,i);else if(Ir(s))t.addValue(r,qg(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,qg(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const D5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class m1e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Pa.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,rn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=F_(n),this.isVariantNode=VH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&Ir(g)&&g.set(l[p],!1)}}mount(e){this.current=e,M5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aK.current||d1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:RC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M5.delete(this.current),this.projection&&this.projection.unmount(),hc(this.notifyUpdate),hc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=od.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qf){const n=Qf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D5.length;r++){const i=D5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=p1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qg(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Cq(i)||xq(i))?i=parseFloat(i):!h1e(i)&&pc.test(n)&&(i=Tq(e,n)),this.setBaseTarget(e,Ir(i)?i.get():i)),Ir(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=S2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ir(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new L2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class oK extends m1e{constructor(){super(...arguments),this.KeyframeResolver=Iq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ir(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function g1e(t){return window.getComputedStyle(t)}class v1e extends oK{constructor(){super(...arguments),this.type="html",this.renderInstance=GH}readValueFromInstance(e,n){if(od.has(n)){const r=U2(n);return r&&r.default||0}else{const r=g1e(e),i=(HH(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Yq(e,n)}build(e,n,r){A2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return k2(e,n,r)}}class y1e extends oK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(od.has(n)){const r=U2(n);return r&&r.default||0}return n=YH.has(n)?n:b2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZH(e,n,r)}build(e,n,r){j2(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){XH(e,n,r,i)}mount(e){this.isSVGTag=P2(e.tagName),super.mount(e)}}const x1e=(t,e)=>_2(t)?new y1e(e):new v1e(e,{allowProjection:t!==b.Fragment}),b1e=H0e({...Bbe,...c1e,...Zwe,...u1e},x1e),Oe=a0e(b1e),Yg=({src:t,alt:e="Profile Picture",size:n="md",hasStory:r=!1,status:i,className:s,onClick:a})=>{const o={sm:"w-12 h-12",md:"w-20 h-20",lg:"w-28 h-28",xl:"w-36 h-36"},l=()=>{if(!i)return null;const d={online:"bg-green-500",offline:"bg-gray-400",busy:"bg-amber-500"};return c.jsx(Oe.span,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:G("absolute bottom-1 right-1 rounded-full border-2 border-white dark:border-gray-900",d[i],n==="sm"?"w-2.5 h-2.5":"w-4 h-4")})},u=c.jsx(Oe.img,{src:t,alt:e,whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},className:G("rounded-full object-cover",r?"":"border-2 border-white dark:border-gray-800",o[n],a?"cursor-pointer hover:shadow-lg":"")});return c.jsxs("div",{className:G("relative inline-block",a?"cursor-pointer":"",s),onClick:a,role:a?"button":void 0,tabIndex:a?0:void 0,children:[r?c.jsx("div",{className:"story-ring animate-pulse-subtle",children:c.jsx("div",{className:"bg-background p-0.5 rounded-full",children:u})}):u,l(),a&&c.jsx("div",{className:"absolute inset-0 rounded-full bg-black/20 opacity-0 hover:opacity-100 flex items-center justify-center transition-opacity duration-200",children:c.jsx("div",{className:"text-white bg-black/30 p-1 rounded-full",children:c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})})]})};function w1e(t,e){const[n,r]=b.useState(()=>{try{if(typeof window<"u"){const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}return e}catch(s){return console.warn(`Error reading localStorage key "${t}":`,s),e}}),i=s=>{try{const a=s instanceof Function?s(n):s;r(a),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.warn(`Error setting localStorage key "${t}":`,a)}};return b.useEffect(()=>{const s=()=>{try{const a=window.localStorage.getItem(t);a&&r(JSON.parse(a))}catch(a){console.warn(`Error reading localStorage key "${t}":`,a)}};if(typeof window<"u")return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[t]),[n,i]}const lK={cognitiveProfile:"balanced",contrastLevel:"standard",animationSpeed:"standard",focusModeEnabled:!1,autoAdapt:!0,adaptiveMood:"calm",moodIntensity:50,microRewardsEnabled:!0,microRewardsIntensity:50,environmentalAdaptation:!0,goldenRatioVisible:!1,ambientSoundsEnabled:!1,ambientVolume:50};function L5(){const e=new Date().getHours();let n;e>=5&&e<12?n="morning":e>=12&&e<17?n="afternoon":e>=17&&e<22?n="evening":n="night";let r;e>=5&&e<9?r="early":e>=9&&e<18?r="peak":r="late";let i;switch(n){case"morning":i="energetic";break;case"afternoon":i="focused";break;case"evening":i="calm";break;case"night":i="calm";break;default:i="calm"}return{timeOfDay:n,circadianPhase:r,suggestedMood:i}}function gn(t={}){const{enableCircadian:e=!0}=t,[n,r]=w1e("xvush_aesthetic_config",lK),[i,s]=b.useState(L5()),a=b.useCallback(l=>{r(u=>({...u,...l}))},[r]),o=b.useCallback((l,u={})=>{n.microRewardsEnabled&&console.log(`Micro-reward triggered: ${l}`,u)},[n.microRewardsEnabled]);return b.useEffect(()=>{if(!e)return;const l=()=>{s(L5())};l();const u=setInterval(l,60*60*1e3);return()=>clearInterval(u)},[e]),{config:n,updateConfig:a,circadian:i,triggerMicroReward:o}}const $5=({to:t,icon:e,label:n,isActive:r,onClick:i})=>{const{triggerMicroReward:s}=gn(),a=()=>{s("tab"),i&&i()};return c.jsx(Wr,{to:t,onClick:a,children:c.jsxs("div",{className:G("relative flex items-center group rounded-lg py-3 px-3 my-1 transition-all duration-200",r?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-primary/5 hover:text-foreground"),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-xl",children:e}),c.jsx("span",{className:"ml-3 font-medium text-sm",children:n})]}),r&&c.jsx(Oe.div,{className:"absolute left-0 top-1/2 h-8 w-1 -translate-y-1/2 rounded-r-full bg-primary",layoutId:"activeMobileIndicator"})]})})},_1e=()=>{const[t,e]=b.useState(!1),n=Ua(),r=Xi(),{triggerMicroReward:i}=gn(),{user:s,profile:a,isCreator:o}=Ut(),{toast:l}=br();let u=[{to:"/",icon:c.jsx(n2,{size:22}),label:"Accueil",role:"all"},{to:"/creators",icon:c.jsx(pr,{size:22}),label:"Créateurs",role:"all"},{to:"/creator",icon:c.jsx(Fg,{size:22}),label:"Profil créateur",role:"all"},{to:"/tokens",icon:c.jsx(Vb,{size:22}),label:"Tokens",role:"all"},{to:"/messages",icon:c.jsx(P_,{size:22}),label:"Messages",role:"all"}];const d=[{to:"/dashboard",icon:c.jsx(QI,{size:22}),label:"Tableau de bord",role:"creator"},{to:"/calendar",icon:c.jsx(XI,{size:22}),label:"Calendrier",role:"creator"},{to:"/subscribers",icon:c.jsx(pr,{size:22}),label:"Abonnés",role:"creator"},{to:"/videos",icon:c.jsx(dy,{size:22}),label:"Mes Vidéos",role:"creator"},{to:"/revenue",icon:c.jsx(JI,{size:22}),label:"Revenus",role:"creator"}];o&&(u=[...u,...d]);const f=()=>{e(!t),i("action")},h=()=>{e(!1)},p=async()=>{try{h(),r("/"),i("action"),l({title:"Action de déconnexion",description:"Fonctionnalité de déconnexion simulée."})}catch(y){console.error("Erreur lors de la déconnexion:",y),l({title:"Erreur de déconnexion",description:"Une erreur s'est produite lors de la déconnexion.",variant:"destructive"})}},g=()=>{r("/videos"),h(),i("navigate")},m=(a==null?void 0:a.displayName)||(a==null?void 0:a.username)||"Utilisateur",v=o?"Créateur":"Fan";return c.jsxs(c.Fragment,{children:[c.jsx(K,{variant:"ghost",size:"icon",onClick:f,className:"relative z-50","aria-label":"Menu",children:t?c.jsx(bi,{size:20}):c.jsx(q7,{size:20})}),c.jsx(Oo,{children:t&&c.jsxs(c.Fragment,{children:[c.jsx(Oe.div,{className:"fixed inset-0 bg-black/50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h}),c.jsx(Oe.div,{className:"fixed top-0 right-0 h-screen w-[80%] max-w-[300px] bg-background z-40 overflow-y-auto shadow-xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:c.jsxs("div",{className:"flex flex-col overflow-y-auto flex-1 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-4 px-2",children:[c.jsx(Wr,{to:"/",onClick:h,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/lovable-uploads/0038954d-233c-440e-91b6-639b6b22bd82.png",alt:"XDose Logo",className:"w-8 h-8"}),c.jsx("span",{className:"text-lg font-semibold text-primary",children:"XDose"})]})}),c.jsx(K,{variant:"ghost",size:"icon",onClick:h,children:c.jsx(bi,{size:18})})]}),o&&c.jsxs(K,{onClick:g,className:"mb-4 bg-xvush-pink hover:bg-xvush-pink-dark flex items-center gap-2",children:[c.jsx(s2,{size:16}),"Créer du contenu"]}),c.jsx("div",{className:"mt-4 space-y-1",children:u.map(y=>c.jsx($5,{to:y.to,icon:y.icon,label:y.label,isActive:n.pathname===y.to,onClick:h},y.to))}),c.jsxs("div",{className:"mt-auto pt-4 space-y-1",children:[c.jsx($5,{to:"/settings",icon:c.jsx(I_,{size:22}),label:"Paramètres",isActive:n.pathname==="/settings",onClick:h}),c.jsx("div",{className:"relative flex items-center group rounded-lg py-3 px-3 my-1 transition-all duration-200 text-muted-foreground hover:bg-primary/5 hover:text-foreground cursor-pointer",onClick:p,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"text-xl",children:c.jsx(r2,{size:22})}),c.jsx("span",{className:"ml-3 font-medium text-sm",children:"Déconnexion"})]})})]}),c.jsx("div",{className:"mt-6 pt-6 border-t",children:c.jsxs("div",{className:"flex items-center p-3",children:[c.jsx(Yg,{src:(a==null?void 0:a.avatarUrl)||"https://avatars.githubusercontent.com/u/124599?v=4",size:"sm",status:"online"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("p",{className:"text-sm font-medium",children:m}),c.jsx("p",{className:"text-xs text-muted-foreground",children:v})]})]})})]})})]})})]})},S1e=({onMenuClick:t,className:e})=>c.jsx("div",{className:G("sticky top-0 z-40 w-full bg-background/95 backdrop-blur-sm border-b",e),children:c.jsxs("div",{className:"container flex items-center gap-2 py-2",children:[t&&c.jsx(K,{variant:"ghost",size:"sm",className:"mr-2 px-2 md:flex hidden",onClick:t,children:c.jsx(q7,{className:"h-4 w-4"})}),c.jsx("div",{className:"md:hidden",children:c.jsx(_1e,{})}),c.jsx("div",{className:"flex-1",children:c.jsx(en,{type:"search",placeholder:"Rechercher...",className:"md:max-w-[300px]"})})]})});function by(){const[t,e]=b.useState({isMobile:!1,isTouch:!1,orientation:"portrait"});return b.useEffect(()=>{const n=()=>{const r=window.innerWidth<768,i="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,s=window.innerWidth>window.innerHeight?"landscape":"portrait";e({isMobile:r,isTouch:i,orientation:s})};return n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),t}const E1e=()=>{const{isMobile:t}=by(),{user:e,isCreator:n}=Ut();if(!t)return null;const i=[{icon:c.jsx(n2,{size:20}),label:"Accueil",href:"/"},{icon:c.jsx(Zh,{size:20}),label:"Tendances",href:"/trending"},{icon:c.jsx(pr,{size:20}),label:"Créateurs",href:"/creators"},{icon:c.jsx(P_,{size:20}),label:"Messages",href:"/messages",requiresAuth:!0},{icon:n?c.jsx(dy,{size:20}):c.jsx(Fg,{size:20}),label:n?"Vidéos":"Profil",href:n?"/videos":"/settings",requiresAuth:!0}].filter(s=>!s.requiresAuth||s.requiresAuth&&e&&(!s.creatorOnly||s.creatorOnly&&n));return c.jsxs(Oe.nav,{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg border-t z-50 touch-manipulation",initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},children:[c.jsx("div",{className:"flex justify-around items-center",children:i.map((s,a)=>c.jsx(C9,{to:s.href,className:({isActive:o})=>G("flex flex-col items-center justify-center py-3 px-1 flex-1 transition-colors",o?"text-primary":"text-muted-foreground hover:text-foreground"),children:({isActive:o})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative",children:[s.icon,o&&c.jsx(Oe.div,{layoutId:"bottomNavIndicator",className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 h-1 w-5 bg-primary rounded-full",transition:{type:"spring",stiffness:500,damping:30}})]}),c.jsx("span",{className:"text-xs mt-1",children:s.label})]})},a))}),c.jsx("div",{className:"h-safe-bottom bg-background"})]})},T1e=({imageUrl:t,title:e,type:n="standard",format:r="image",duration:i,metrics:s,className:a,size:o="md",isCreator:l=!1,isTrending:u=!1,collectionName:d,onClick:f})=>{const[h,p]=b.useState(!1),g={sm:"h-40",md:"h-56",lg:"h-72",xl:"h-96"},m=()=>{switch(n){case"premium":return c.jsx("span",{className:"premium-badge px-3 py-1 rounded-full text-xs bg-gradient-to-r from-amber-500 to-amber-300 text-white",children:"Premium"});case"vip":return c.jsx("span",{className:"vip-badge px-3 py-1 rounded-full text-xs bg-gradient-to-r from-purple-600 to-indigo-400 text-white",children:"VIP"});default:return null}},v=S=>S>=1e6?(S/1e6).toFixed(1)+"M":S>=1e3?(S/1e3).toFixed(1)+"K":S.toString(),y=S=>{const j=Math.floor(S/60),A=Math.floor(S%60);return`${j}:${A.toString().padStart(2,"0")}`},x=()=>r==="video"?c.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-0.5 rounded-md flex items-center",children:[c.jsx(Ru,{size:12,className:"mr-1"}),i&&y(i)]}):null,_=()=>d?c.jsx("div",{className:"absolute top-2 left-2 z-20 bg-black/40 backdrop-blur-md text-white text-xs px-3 py-1 rounded-full",children:d}):null,E=()=>u?c.jsxs("div",{className:"absolute top-2 right-2 z-20 bg-red-500/90 text-white text-xs px-2 py-0.5 rounded-full flex items-center",children:[c.jsx(ive,{size:12,className:"mr-1"}),"Trending"]}):s!=null&&s.growth&&s.growth>10?c.jsxs("div",{className:"absolute top-2 right-2 z-20 bg-green-500/80 text-white text-xs px-2 py-0.5 rounded-full flex items-center",children:[c.jsx(Zh,{size:12,className:"mr-1"}),"+",s.growth,"%"]}):null;return c.jsxs("div",{className:G("content-card relative overflow-hidden rounded-lg group transition-all duration-300 hover:shadow-lg",g[o],a),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:f,children:[c.jsxs("div",{className:"w-full h-full overflow-hidden",children:[c.jsx("img",{src:t,alt:e||"Content",className:G("w-full h-full object-cover transition-transform duration-500",h&&"scale-105")}),r==="video"&&h&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:c.jsx("div",{className:"w-16 h-16 rounded-full bg-white/30 backdrop-blur-md flex items-center justify-center animate-pulse",children:c.jsx("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center",children:c.jsx("svg",{className:"w-6 h-6 text-black ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11v11.78a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})})]}),_(),E(),n!=="standard"&&c.jsx("div",{className:"absolute top-2 left-2",children:m()}),x(),l&&(s==null?void 0:s.revenue)&&c.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 backdrop-blur-sm text-white text-xs px-3 py-1 rounded-full flex items-center",children:[c.jsxs("span",{className:"font-medium",children:["$",s.revenue]}),s.growth&&s.growth>0&&c.jsx("span",{className:"ml-1 text-green-400",children:"↑"})]}),c.jsxs("div",{className:G("absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-4 flex flex-col justify-end",h?"opacity-100":"opacity-0","transition-opacity duration-300"),children:[e&&c.jsx("h3",{className:"font-medium text-white mb-2",children:e}),s&&c.jsx("div",{className:"flex items-center justify-between text-xs text-white/90",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[s.views!==void 0&&c.jsxs("span",{className:"flex items-center",children:[c.jsx(id,{size:12,className:"mr-1"}),v(s.views)]}),s.likes!==void 0&&c.jsxs("span",{className:"flex items-center",children:[c.jsx(er,{size:12,className:"mr-1"}),v(s.likes)]}),s.comments!==void 0&&c.jsxs("span",{className:"flex items-center",children:[c.jsx(Qh,{size:12,className:"mr-1"}),v(s.comments)]})]})})]})]})},ld=()=>{const t=b.useCallback((n="light")=>{if("vibrate"in navigator)switch(n){case"light":navigator.vibrate(10);break;case"medium":navigator.vibrate(20);break;case"strong":navigator.vibrate([30,10,30]);break}},[]),e=b.useCallback((n,r="light")=>i=>{t(r),n&&n(i)},[t]);return{triggerHaptic:t,withHapticFeedback:e}},K2=({contents:t,layout:e="grid",className:n="",onItemClick:r,isCreator:i=!1})=>{const{isMobile:s}=by();if(ld(),!t||t.length===0)return c.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"Aucun contenu à afficher"});let a="grid gap-4";switch(e){case"masonry":a=G("grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",n);break;case"featured":a=G("grid grid-cols-1 md:grid-cols-2 gap-6",n);break;case"vertical":a=G("flex flex-col gap-4",n);break;case"collections":a=G("grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",n);break;default:a=G("grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",n)}const o=l=>{r&&("vibrate"in navigator&&navigator.vibrate(15),r(l))};return c.jsx("div",{className:a,children:t.map(l=>c.jsx(T1e,{imageUrl:l.imageUrl||l.thumbnailUrl,title:l.title,type:l.type,format:l.format,duration:l.duration,metrics:l.metrics,isCreator:i,className:G(e==="featured"&&l.isFeatured?"col-span-2 row-span-2":"",s?"touch-manipulation haptic-feedback":""),isTrending:l.isTrending,collectionName:l.collectionName,onClick:()=>o(l.id)},l.id))})};function rp(t={}){const{storageKey:e="xvush_user_behavior",recordHistory:n=!0,historyLimit:r=100,sessionTimeout:i=30,enableToasts:s=!1}=t,[a,o]=b.useState(()=>{const m=localStorage.getItem(e);if(m)try{const v=JSON.parse(m);return{...v,sessionStartTime:new Date(v.sessionStartTime),lastActiveTime:new Date(v.lastActiveTime),interactionHistory:v.interactionHistory.map(y=>({...y,timestamp:new Date(y.timestamp)})),previousSessions:v.previousSessions.map(y=>({...y,date:new Date(y.date)}))}}catch(v){console.error("Error parsing saved behavior data:",v)}return{sessionStartTime:new Date,lastActiveTime:new Date,interactionCount:0,interactionHistory:[],averageSessionDuration:0,previousSessions:[],preferredContentTypes:{},preferredTimeOfDay:null,attentionSpan:0,focusLevel:50}});b.useEffect(()=>{localStorage.setItem(e,JSON.stringify(a))},[a,e]),b.useEffect(()=>{const m=()=>{if(document.visibilityState==="visible"){const v=new Date,y=new Date(a.lastActiveTime);if((v.getTime()-y.getTime())/(1e3*60)>i){const _=(y.getTime()-a.sessionStartTime.getTime())/6e4;o(E=>{const S=E.previousSessions.reduce((T,C)=>T+C.duration,0),j=E.previousSessions.length+1,A=(S+_)/j;return{...E,sessionStartTime:v,lastActiveTime:v,previousSessions:[...E.previousSessions,{date:y,duration:_}],averageSessionDuration:A}}),s&&me("Welcome back!",{description:"New session started"})}else o(_=>({..._,lastActiveTime:v}))}};return document.addEventListener("visibilitychange",m),window.addEventListener("focus",m),()=>{document.removeEventListener("visibilitychange",m),window.removeEventListener("focus",m)}},[a.lastActiveTime,a.sessionStartTime,i,s]);const l=b.useCallback((m,v)=>{const y=new Date;o(x=>{const _=n?[{type:m,timestamp:y,metadata:v},...x.interactionHistory].slice(0,r):x.interactionHistory;return{...x,interactionCount:x.interactionCount+1,lastActiveTime:y,interactionHistory:_}})},[n,r]),u=b.useCallback(m=>{o(v=>{const y=v.preferredContentTypes[m]||0;return{...v,preferredContentTypes:{...v.preferredContentTypes,[m]:y+1}}})},[]),d=b.useCallback(m=>{o(v=>({...v,focusLevel:Math.max(0,Math.min(100,m))}))},[]),f=b.useCallback(()=>{const m=a.previousSessions;if(m.length<3)return;const v={morning:0,afternoon:0,evening:0,night:0};m.forEach(_=>{const E=_.date.getHours();E>=5&&E<12?v.morning++:E>=12&&E<17?v.afternoon++:E>=17&&E<22?v.evening++:v.night++});let y=0,x=null;Object.entries(v).forEach(([_,E])=>{E>y&&(y=E,x=_)}),x!==a.preferredTimeOfDay&&o(_=>({..._,preferredTimeOfDay:x}))},[a.previousSessions,a.preferredTimeOfDay]),h=b.useCallback(()=>{if(a.interactionHistory.length<5)return;const m=[];for(let v=1;v<a.interactionHistory.length;v++){const y=a.interactionHistory[v].timestamp.getTime(),x=a.interactionHistory[v-1].timestamp.getTime(),_=(y-x)/1e3;_<300&&m.push(_)}if(m.length>0){const v=m.reduce((x,_)=>x+_,0)/m.length,y=Math.max(0,Math.min(100,100-v/3));o(x=>({...x,attentionSpan:y}))}},[a.interactionHistory]);b.useEffect(()=>{f(),h()},[a.interactionHistory,a.previousSessions,f,h]);const p=b.useCallback(()=>{let m="medium";a.interactionCount>50&&a.attentionSpan>70?m="high":a.interactionCount<10&&a.attentionSpan<30&&(m="low");let v=null,y=0;return Object.entries(a.preferredContentTypes).forEach(([x,_])=>{_>y&&(y=_,v=x)}),{engagementLevel:m,attentionSpan:a.attentionSpan,focusLevel:a.focusLevel,preferredTimeOfDay:a.preferredTimeOfDay,favoriteContentType:v,averageSessionDuration:a.averageSessionDuration}},[a]),g=b.useCallback(()=>{o({sessionStartTime:new Date,lastActiveTime:new Date,interactionCount:0,interactionHistory:[],averageSessionDuration:0,previousSessions:[],preferredContentTypes:{},preferredTimeOfDay:null,attentionSpan:0,focusLevel:50}),localStorage.removeItem(e)},[e]);return{behaviorData:a,trackInteraction:l,trackContentPreference:u,setFocusLevel:d,getCognitiveProfile:p,resetBehaviorData:g}}const cK=()=>{const[t,e]=b.useState(!1);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},A1e=({enabled:t=!1,onToggle:e,className:n,ambientSoundsEnabled:r=!1,onAmbientSoundsToggle:i})=>{const[s,a]=b.useState(t),[o,l]=b.useState(r),[u,d]=b.useState(!1),[f,h]=b.useState(null);b.useEffect(()=>{a(t)},[t]),b.useEffect(()=>{l(r)},[r]);const p=()=>{const m=!s;if(a(m),e&&e(m),m){document.documentElement.classList.add("focus-mode");const v=25*60*1e3,y=window.setTimeout(()=>{a(!1),e&&e(!1),document.documentElement.classList.remove("focus-mode"),h(null),"Notification"in window&&Notification.permission==="granted"&&new Notification("Focus Time Complete",{body:"Your 25-minute focus session has ended. Take a short break!",icon:"/favicon.ico"})},v);h(y)}else document.documentElement.classList.remove("focus-mode"),f!==null&&(window.clearTimeout(f),h(null))},g=()=>{const m=!o;l(m),i&&i(m)};return c.jsxs("div",{className:G("fixed z-40",n),children:[c.jsx(Oo,{children:s&&c.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black pointer-events-none",style:{opacity:.5,zIndex:-1}})}),c.jsx("div",{className:"absolute bottom-4 right-4 flex flex-col items-end gap-2",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:c.jsx(Oo,{children:u&&c.jsx(Oe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-background/80 backdrop-blur-sm border border-border rounded-lg p-2 shadow-lg",children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs(K,{variant:"outline",size:"sm",className:G("gap-2 transition-colors",s?"bg-primary text-primary-foreground":""),onClick:p,children:[s?c.jsx(K7,{size:14}):c.jsx(H7,{size:14}),s?"Quitter le mode focus":"Mode focus"]}),c.jsxs(K,{variant:"outline",size:"sm",className:G("gap-2 transition-colors",o?"bg-primary text-primary-foreground":""),onClick:g,children:[o?c.jsx(zg,{size:14}):c.jsx(xf,{size:14}),o?"Désactiver l'ambiance":"Activer l'ambiance"]})]})})})})]})};var j1e=Qk[" useInsertionEffect ".trim().toString()]||Fn;function Qs({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=C1e({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=b.useCallback(d=>{var f;if(o){const h=P1e(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,t,s,a]);return[l,u]}function C1e({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),s=b.useRef(e);return j1e(()=>{s.current=e},[e]),b.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function P1e(t){return typeof t=="function"}function wy(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function _y(t){const[e,n]=b.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function B_(t){const e=t+"CollectionProvider",[n,r]=xr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:v,children:y}=m,x=M.useRef(null),_=M.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:_,collectionRef:x,children:y})};a.displayName=e;const o=t+"CollectionSlot",l=Du(o),u=M.forwardRef((m,v)=>{const{scope:y,children:x}=m,_=s(o,y),E=Ye(v,_.collectionRef);return c.jsx(l,{ref:E,children:x})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Du(d),p=M.forwardRef((m,v)=>{const{scope:y,children:x,..._}=m,E=M.useRef(null),S=Ye(v,E),j=s(d,y);return M.useEffect(()=>(j.itemMap.set(E,{ref:E,..._}),()=>void j.itemMap.delete(E))),c.jsx(h,{[f]:"",ref:S,children:x})});p.displayName=d;function g(m){const v=s(t+"CollectionConsumer",m);return M.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((j,A)=>_.indexOf(j.ref.current)-_.indexOf(A.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,r]}var uK=["PageUp","PageDown"],dK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ip="Slider",[MC,k1e,N1e]=B_(ip),[hK,Ftt]=xr(ip,[N1e]),[I1e,W_]=hK(ip),pK=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:g,...m}=t,v=b.useRef(new Set),y=b.useRef(0),_=a==="horizontal"?O1e:R1e,[E=[],S]=Qs({prop:d,defaultProp:u,onChange:I=>{var O;(O=[...v.current][y.current])==null||O.focus(),f(I)}}),j=b.useRef(E);function A(I){const N=V1e(E,I);k(I,N)}function T(I){k(I,y.current)}function C(){const I=j.current[y.current];E[y.current]!==I&&h(E)}function k(I,N,{commit:O}={commit:!1}){const D=B1e(s),V=W1e(Math.round((I-r)/s)*s+r,D),U=Ug(V,[r,i]);S((z=[])=>{const L=L1e(z,U,N);if(U1e(L,l*s)){y.current=L.indexOf(U);const F=String(L)!==String(z);return F&&O&&h(L),F?L:z}else return z})}return c.jsx(I1e,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:y,thumbs:v.current,values:E,orientation:a,form:g,children:c.jsx(MC.Provider,{scope:t.__scopeSlider,children:c.jsx(MC.Slot,{scope:t.__scopeSlider,children:c.jsx(_,{"aria-disabled":o,"data-disabled":o?"":void 0,...m,ref:e,onPointerDown:be(m.onPointerDown,()=>{o||(j.current=E)}),min:r,max:i,inverted:p,onSlideStart:o?void 0:A,onSlideMove:o?void 0:T,onSlideEnd:o?void 0:C,onHomeKeyDown:()=>!o&&k(r,0,{commit:!0}),onEndKeyDown:()=>!o&&k(i,E.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:N})=>{if(!o){const V=uK.includes(I.key)||I.shiftKey&&dK.includes(I.key)?10:1,U=y.current,z=E[U],L=s*V*N;k(z+L,U,{commit:!0})}}})})})})});pK.displayName=ip;var[mK,gK]=hK(ip,{startEdge:"left",endEdge:"right",size:"width",direction:1}),O1e=b.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:u,...d}=t,[f,h]=b.useState(null),p=Ye(e,_=>h(_)),g=b.useRef(void 0),m=ad(i),v=m==="ltr",y=v&&!s||!v&&s;function x(_){const E=g.current||f.getBoundingClientRect(),S=[0,E.width],A=G2(S,y?[n,r]:[r,n]);return g.current=E,A(_-E.left)}return c.jsx(mK,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:c.jsx(vK,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const E=x(_.clientX);a==null||a(E)},onSlideMove:_=>{const E=x(_.clientX);o==null||o(E)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:_=>{const S=fK[y?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:S?-1:1})}})})}),R1e=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...u}=t,d=b.useRef(null),f=Ye(e,d),h=b.useRef(void 0),p=!i;function g(m){const v=h.current||d.current.getBoundingClientRect(),y=[0,v.height],_=G2(y,p?[r,n]:[n,r]);return h.current=v,_(m-v.top)}return c.jsx(mK,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:c.jsx(vK,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const v=g(m.clientY);s==null||s(v)},onSlideMove:m=>{const v=g(m.clientY);a==null||a(v)},onSlideEnd:()=>{h.current=void 0,o==null||o()},onStepKeyDown:m=>{const y=fK[p?"from-bottom":"from-top"].includes(m.key);l==null||l({event:m,direction:y?-1:1})}})})}),vK=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...u}=t,d=W_(ip,n);return c.jsx(Me.span,{...u,ref:e,onKeyDown:be(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(o(f),f.preventDefault()):uK.concat(dK).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:be(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:be(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:be(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),yK="SliderTrack",xK=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=W_(yK,n);return c.jsx(Me.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});xK.displayName=yK;var DC="SliderRange",bK=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=W_(DC,n),s=gK(DC,n),a=b.useRef(null),o=Ye(e,a),l=i.values.length,u=i.values.map(h=>SK(h,i.min,i.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return c.jsx(Me.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});bK.displayName=DC;var LC="SliderThumb",wK=b.forwardRef((t,e)=>{const n=k1e(t.__scopeSlider),[r,i]=b.useState(null),s=Ye(e,o=>i(o)),a=b.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return c.jsx(M1e,{...t,ref:s,index:a})}),M1e=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=W_(LC,n),o=gK(LC,n),[l,u]=b.useState(null),d=Ye(e,x=>u(x)),f=l?a.form||!!l.closest("form"):!0,h=_y(l),p=a.values[r],g=p===void 0?0:SK(p,a.min,a.max),m=$1e(r,a.values.length),v=h==null?void 0:h[o.size],y=v?F1e(v,g,o.direction):0;return b.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${y}px)`},children:[c.jsx(MC.ItemSlot,{scope:t.__scopeSlider,children:c.jsx(Me.span,{role:"slider","aria-label":t["aria-label"]||m,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:be(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&c.jsx(_K,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},r)]})});wK.displayName=LC;var D1e="RadioBubbleInput",_K=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=b.useRef(null),s=Ye(i,r),a=wy(e);return b.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),c.jsx(Me.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});_K.displayName=D1e;function L1e(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function SK(t,e,n){const s=100/(n-e)*(t-e);return Ug(s,[0,100])}function $1e(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function V1e(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function F1e(t,e,n){const r=t/2,s=G2([0,50],[0,r]);return(r-s(e)*n)*n}function z1e(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function U1e(t,e){if(e>0){const n=z1e(t);return Math.min(...n)>=e}return!0}function G2(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function B1e(t){return(String(t).split(".")[1]||"").length}function W1e(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var EK=pK,H1e=xK,q1e=bK,K1e=wK;const Xg=b.forwardRef(({className:t,...e},n)=>c.jsxs(EK,{ref:n,className:G("relative flex w-full touch-none select-none items-center",t),...e,children:[c.jsx(H1e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(q1e,{className:"absolute h-full bg-primary"})}),c.jsx(K1e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Xg.displayName=EK.displayName;const G1e=({enabled:t=!1,volume:e=50,onVolumeChange:n,className:r,autoAdapt:i=!0,defaultSound:s="ambient"})=>{var j;const[a,o]=b.useState(t),[l,u]=b.useState(e),[d,f]=b.useState(s),[h,p]=b.useState(e),[g,m]=b.useState(!1),v=b.useRef(null),y=[{id:"ambient",name:"Ambient",url:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_c8c8a73467.mp3",icon:c.jsx(cs,{size:14}),color:"bg-purple-500"},{id:"rain",name:"Rain",url:"https://cdn.pixabay.com/download/audio/2021/11/02/audio_5b5349ab0d.mp3",icon:c.jsx(xf,{size:14}),color:"bg-blue-500"},{id:"lofi",name:"Lo-Fi",url:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3",icon:c.jsx(uve,{size:14}),color:"bg-rose-500"}];b.useEffect(()=>{v.current||(v.current=new Audio,v.current.loop=!0);const A=y.find(T=>T.id===d)||y[0];return v.current.src=A.url,v.current.load(),()=>{v.current&&v.current.pause()}},[d,y]),b.useEffect(()=>{v.current&&(v.current.volume=l/100,a?v.current.play().catch(A=>{console.error("Error playing audio:",A),o(!1)}):v.current.pause())},[a,l]),b.useEffect(()=>{o(t)},[t]),b.useEffect(()=>{if(!i||!a)return;const A=()=>{const C=document.querySelectorAll("main, article, section");let k="";C.forEach(I=>{k+=I.textContent||""}),k=k.toLowerCase(),k.includes("relax")||k.includes("calm")||k.includes("peaceful")?f("ambient"):(k.includes("focus")||k.includes("work")||k.includes("study"))&&f("lofi")};A();const T=new MutationObserver(A);return T.observe(document.body,{childList:!0,subtree:!0}),()=>T.disconnect()},[i,a]);const x=()=>{o(!a)},_=()=>{l===0?(u(h>0?h:50),n&&n(h>0?h:50)):(p(l),u(0),n&&n(0))},E=A=>{u(A[0]),n&&n(A[0])},S=A=>{f(A)};return c.jsx("div",{className:G("fixed bottom-20 right-4 z-40",r),children:c.jsxs("div",{className:"relative",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[c.jsx(K,{size:"icon",variant:a?"default":"outline",className:"h-10 w-10 rounded-full shadow-md",onClick:x,children:a?c.jsx(xf,{size:18}):c.jsx(zg,{size:18})}),g&&c.jsx("div",{className:"absolute bottom-12 right-0 bg-background/80 backdrop-blur-sm border border-border rounded-lg p-3 w-48 shadow-lg",children:c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx("div",{className:"flex justify-between gap-1",children:y.map(A=>c.jsxs(K,{size:"sm",variant:"outline",className:G("flex-1 gap-1 transition-colors",d===A.id?`${A.color} text-white`:""),onClick:()=>S(A.id),children:[A.icon,c.jsx("span",{className:"text-xs",children:A.name})]},A.id))}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(K,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:_,children:l===0?c.jsx(zg,{size:14}):c.jsx(xf,{size:14})}),c.jsx(Xg,{value:[l],min:0,max:100,step:1,onValueChange:E,className:"w-24"}),c.jsx(K,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:x,children:a?c.jsx(G7,{size:14}):c.jsx(Y7,{size:14})})]}),c.jsx("div",{className:"text-xs text-center text-muted-foreground",children:a?"Now playing: "+(((j=y.find(A=>A.id===d))==null?void 0:j.name)||"Sound"):"Paused"})]})]})})]})})},Y2=({currentMood:t,intensity:e=50,autoAdapt:n=!0,className:r})=>{const[i,s]=b.useState(t);b.useEffect(()=>{s(t)},[t]);const a=Math.min(.5,e/200),o=Math.max(40,e*.8),l=Math.max(150,100+e*1.5),d={energetic:{primary:"rgba(255, 124, 67, VAR_OPACITY)",secondary:"rgba(255, 186, 71, VAR_OPACITY)",accent:"rgba(255, 149, 0, VAR_OPACITY)"},calm:{primary:"rgba(67, 182, 212, VAR_OPACITY)",secondary:"rgba(107, 196, 255, VAR_OPACITY)",accent:"rgba(142, 209, 252, VAR_OPACITY)"},creative:{primary:"rgba(174, 122, 250, VAR_OPACITY)",secondary:"rgba(238, 109, 220, VAR_OPACITY)",accent:"rgba(218, 143, 255, VAR_OPACITY)"},focused:{primary:"rgba(76, 110, 219, VAR_OPACITY)",secondary:"rgba(90, 97, 195, VAR_OPACITY)",accent:"rgba(43, 108, 176, VAR_OPACITY)"}}[i],f=h=>h.replace("VAR_OPACITY",a.toString());return c.jsx("div",{className:G("fixed inset-0 pointer-events-none overflow-hidden",r),"data-mood":i,children:c.jsxs(Oe.div,{className:"absolute -inset-1/4",initial:{opacity:0},animate:{opacity:1},transition:{duration:2},children:[c.jsx(Oe.div,{className:"absolute rounded-full blur-3xl",style:{background:f(d.primary),width:`${l}vh`,height:`${l}vh`,filter:`blur(${o}px)`,top:"15%",left:"15%"},animate:{x:[0,20,-20,0],y:[0,-20,20,0]},transition:{duration:30,repeat:1/0,repeatType:"reverse"}}),c.jsx(Oe.div,{className:"absolute rounded-full blur-3xl",style:{background:f(d.secondary),width:`${l*.8}vh`,height:`${l*.8}vh`,filter:`blur(${o*1.2}px)`,bottom:"20%",right:"25%"},animate:{x:[0,-30,30,0],y:[0,30,-30,0]},transition:{duration:25,repeat:1/0,repeatType:"reverse"}}),c.jsx(Oe.div,{className:"absolute rounded-full blur-3xl",style:{background:f(d.accent),width:`${l*.6}vh`,height:`${l*.6}vh`,filter:`blur(${o*.8}px)`,top:"60%",left:"60%"},animate:{x:[0,40,-40,0],y:[0,-40,40,0]},transition:{duration:35,repeat:1/0,repeatType:"reverse"}})]})})},X2=({visible:t=!1,opacity:e=.1,className:n})=>{if(!t)return null;const r=1.618;return c.jsxs(Oe.div,{className:G("fixed inset-0 pointer-events-none z-10",n),initial:{opacity:0},animate:{opacity:t?e:0},transition:{duration:.5},children:[c.jsxs("div",{className:"absolute inset-0 flex",children:[c.jsx("div",{className:"h-full border-r border-primary/20",style:{width:`${100/(r+1)}%`}}),c.jsx("div",{className:"h-full border-r border-primary/20",style:{width:`${100*r/(r+1)}%`}}),c.jsx("div",{className:"h-full border-l border-primary/20",style:{width:`${100/(r+1)}%`,marginLeft:"auto"}})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[c.jsx("div",{className:"w-full border-b border-primary/20",style:{height:`${100/(r+1)}%`}}),c.jsx("div",{className:"w-full border-b border-primary/20",style:{height:`${100*r/(r+1)}%`}}),c.jsx("div",{className:"w-full border-t border-primary/20",style:{height:`${100/(r+1)}%`,marginTop:"auto"}})]})]})},TK=({enable:t=!0,rewardIntensity:e=50,className:n,adaptToContext:r=!0,reducedMotion:i=!1})=>{const[s,a]=b.useState([]),[o,l]=b.useState(0),u=b.useRef(null),d=b.useRef(new Map),{trackInteraction:f}=rp();gn();const h=b.useCallback(()=>{const y=Math.max(2,10-Math.floor(e/20)),x=new Date().getHours();let _=1;return x>=22||x<6?_=1.5:x>=6&&x<10&&(_=.8),Math.round(y*_)},[e]),p=b.useCallback((y="like",x,_,E,S)=>{if(!t)return;const j=Date.now()+Math.random(),A=_!==void 0?_:Math.random()*100,T=E!==void 0?E:Math.random()*100;let C="small";o>5||y==="goal"||y==="challenge"?C="large":(o>2||y==="insight"||y==="opportunity")&&(C="medium");const k=S!==void 0?S:Math.min(100,e+o*5);a(N=>[...N,{id:j,type:y,x:A,y:T,variant:C,intensity:k,metadata:x}]),setTimeout(()=>{a(N=>N.filter(O=>O.id!==j))},C==="large"?4e3:C==="medium"?3e3:2e3),g(),f(y,x)},[t,e,o,f]),g=b.useCallback(()=>{if(l(y=>y+1),u.current&&clearTimeout(u.current),u.current=window.setTimeout(()=>{l(0),u.current=null},6e3),o>0&&o%5===0)for(let y=0;y<Math.min(3,1+Math.floor(o/10));y++)setTimeout(()=>{const x=["star","award","trophy"];p(x[Math.floor(Math.random()*x.length)],{streak:o},20+Math.random()*60,20+Math.random()*60)},y*200)},[o,p]),m=b.useCallback(y=>{const x=Date.now(),_=d.current.get(y)||0,E=h()*1e3;return x-_<E?!1:(d.current.set(y,x),!0)},[h]),v=b.useCallback((y,x)=>{const _=x==="large"?28:x==="medium"?22:18;switch(y){case"like":return c.jsx(er,{className:"text-rose-500",fill:"currentColor",size:_});case"star":return c.jsx(sd,{className:"text-amber-500",fill:"currentColor",size:_});case"message":case"comment":return c.jsx(Qh,{className:"text-blue-500",size:_});case"award":return c.jsx($ge,{className:"text-purple-500",fill:"currentColor",size:_});case"thumbs-up":return c.jsx(bve,{className:"text-green-500",size:_});case"insight":return c.jsx(B7,{className:"text-yellow-500",fill:"currentColor",size:_});case"goal":return c.jsx(xve,{className:"text-red-500",fill:"currentColor",size:_});case"challenge":return c.jsx(i2,{className:"text-amber-600",fill:"currentColor",size:_});case"wellbeing":return c.jsx(er,{className:"text-green-500",fill:"currentColor",size:_});case"creative":return c.jsx(Vg,{className:"text-indigo-400",size:_});case"analyze":return c.jsx(cs,{className:"text-blue-400",fill:"currentColor",size:_});default:return c.jsx(er,{className:"text-rose-500",fill:"currentColor",size:_})}},[]);return b.useEffect(()=>{if(!t)return;const y=E=>{const S=E;if(!S.detail)return;const{type:j,x:A,y:T,intensity:C}=S.detail;m(j)&&p(j,S.detail,A,T,C)},x=E=>{if(!m("click"))return;const S=E.clientX/window.innerWidth*100,j=E.clientY/window.innerHeight*100;p("click",{natural:!0},S,j)};let _=null;return r&&(_=window.setInterval(()=>{document.visibilityState==="visible"&&Math.random()>.7&&m("ambient")&&p(Math.random()>.5?"creative":"insight",{ambient:!0})},h()*1e3)),document.addEventListener("xvush:micro-reward",y),document.addEventListener("click",x),()=>{document.removeEventListener("xvush:micro-reward",y),document.removeEventListener("click",x),_&&clearInterval(_),u.current&&clearTimeout(u.current)}},[t,p,m,r,h]),!t||i&&s.length===0?null:c.jsxs("div",{className:G("fixed inset-0 pointer-events-none z-50 overflow-hidden",n),children:[c.jsx(Oo,{children:s.map(y=>c.jsx(Oe.div,{className:"absolute",style:{left:`${y.x}%`,top:`${y.y}%`},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:i?"tween":"spring",stiffness:350,damping:15},children:c.jsxs(Oe.div,{animate:{y:[0,-40-y.intensity/2],x:y.variant==="large"?[0,-10,10,-5,0]:void 0,opacity:[1,0],scale:[1,o>3||y.variant!=="small"?1.3:1.1,.8]},transition:{duration:y.variant==="large"?3:y.variant==="medium"?2:1.5,ease:"easeOut"},children:[v(y.type,y.variant),(y.variant!=="small"||y.type==="goal"||y.type==="challenge")&&c.jsx(Oe.div,{className:"text-xs font-bold text-center mt-1",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:y.type==="goal"?"Objectif atteint!":y.type==="challenge"?"Défi relevé!":y.type==="insight"?"Insight!":""})]})},y.id))}),o>2&&c.jsxs(Oe.div,{className:"fixed bottom-4 right-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-3 py-1 rounded-full flex items-center gap-1.5 shadow-lg",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:i?"tween":"spring"},children:[c.jsx(Vg,{className:"h-4 w-4"}),c.jsxs("span",{className:"text-sm font-bold",children:["Streak ",o,"x"]})]})]})},Fe=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:G("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Fe.displayName="Card";const st=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:G("flex flex-col space-y-1.5 p-6",t),...e}));st.displayName="CardHeader";const dt=b.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:G("text-2xl font-semibold leading-none tracking-tight",t),...e}));dt.displayName="CardTitle";const Tn=b.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:G("text-sm text-muted-foreground",t),...e}));Tn.displayName="CardDescription";const Ue=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:G("p-6 pt-0",t),...e}));Ue.displayName="CardContent";const Lu=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:G("flex items-center p-6 pt-0",t),...e}));Lu.displayName="CardFooter";var Y1e=Qk[" useId ".trim().toString()]||(()=>{}),X1e=0;function Bs(t){const[e,n]=b.useState(Y1e());return Fn(()=>{n(r=>r??String(X1e++))},[t]),e?`radix-${e}`:""}var FT="rovingFocusGroup.onEntryFocus",Q1e={bubbles:!1,cancelable:!0},Sy="RovingFocusGroup",[$C,AK,Z1e]=B_(Sy),[J1e,sp]=xr(Sy,[Z1e]),[e_e,t_e]=J1e(Sy),jK=b.forwardRef((t,e)=>c.jsx($C.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx($C.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(n_e,{...t,ref:e})})}));jK.displayName=Sy;var n_e=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),p=Ye(e,h),g=ad(s),[m,v]=Qs({prop:a,defaultProp:o??null,onChange:l,caller:Sy}),[y,x]=b.useState(!1),_=tr(u),E=AK(n),S=b.useRef(!1),[j,A]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(FT,_),()=>T.removeEventListener(FT,_)},[_]),c.jsx(e_e,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>x(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:c.jsx(Me.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{S.current=!0}),onFocus:be(t.onFocus,T=>{const C=!S.current;if(T.target===T.currentTarget&&C&&!y){const k=new CustomEvent(FT,Q1e);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const I=E().filter(U=>U.focusable),N=I.find(U=>U.active),O=I.find(U=>U.id===m),V=[N,O,...I].filter(Boolean).map(U=>U.ref.current);kK(V,d)}}S.current=!1}),onBlur:be(t.onBlur,()=>x(!1))})})}),CK="RovingFocusGroupItem",PK=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=Bs(),u=s||l,d=t_e(CK,n),f=d.currentTabStopId===u,h=AK(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return b.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),c.jsx($C.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:c.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:be(t.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:be(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:be(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=s_e(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const E=_.indexOf(v.currentTarget);_=d.loop?a_e(_,E+1):_.slice(E+1)}setTimeout(()=>kK(_))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:m!=null}):a})})});PK.displayName=CK;var r_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i_e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function s_e(t,e,n){const r=i_e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return r_e[r]}function kK(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function a_e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Q2=jK,Z2=PK,J2="Radio",[o_e,NK]=xr(J2),[l_e,c_e]=o_e(J2),IK=b.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:l,form:u,...d}=t,[f,h]=b.useState(null),p=Ye(e,v=>h(v)),g=b.useRef(!1),m=f?u||!!f.closest("form"):!0;return c.jsxs(l_e,{scope:n,checked:i,disabled:a,children:[c.jsx(Me.button,{type:"button",role:"radio","aria-checked":i,"data-state":DK(i),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:p,onClick:be(t.onClick,v=>{i||l==null||l(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&c.jsx(MK,{control:f,bubbles:!g.current,name:r,value:o,checked:i,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});IK.displayName=J2;var OK="RadioIndicator",RK=b.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=c_e(OK,n);return c.jsx(Lr,{present:r||s.checked,children:c.jsx(Me.span,{"data-state":DK(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});RK.displayName=OK;var u_e="RadioBubbleInput",MK=b.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=b.useRef(null),o=Ye(a,s),l=wy(n),u=_y(e);return b.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[l,n,r]),c.jsx(Me.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MK.displayName=u_e;function DK(t){return t?"checked":"unchecked"}var d_e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],H_="RadioGroup",[f_e,ztt]=xr(H_,[sp,NK]),LK=sp(),$K=NK(),[h_e,p_e]=f_e(H_),VK=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=t,p=LK(n),g=ad(u),[m,v]=Qs({prop:s,defaultProp:i??null,onChange:f,caller:H_});return c.jsx(h_e,{scope:n,name:r,required:a,disabled:o,value:m,onValueChange:v,children:c.jsx(Q2,{asChild:!0,...p,orientation:l,dir:g,loop:d,children:c.jsx(Me.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:g,...h,ref:e})})})});VK.displayName=H_;var FK="RadioGroupItem",zK=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=p_e(FK,n),a=s.disabled||r,o=LK(n),l=$K(n),u=b.useRef(null),d=Ye(e,u),f=s.value===i.value,h=b.useRef(!1);return b.useEffect(()=>{const p=m=>{d_e.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),c.jsx(Z2,{asChild:!0,...o,focusable:!a,active:f,children:c.jsx(IK,{disabled:a,required:s.required,checked:f,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:be(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:be(i.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});zK.displayName=FK;var m_e="RadioGroupIndicator",UK=b.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=$K(n);return c.jsx(RK,{...i,...r,ref:e})});UK.displayName=m_e;var BK=VK,WK=zK,g_e=UK;const wf=b.forwardRef(({className:t,...e},n)=>c.jsx(BK,{className:G("grid gap-2",t),...e,ref:n}));wf.displayName=BK.displayName;const si=b.forwardRef(({className:t,...e},n)=>c.jsx(WK,{ref:n,className:G("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(g_e,{className:"flex items-center justify-center",children:c.jsx(F7,{className:"h-2.5 w-2.5 fill-current text-current"})})}));si.displayName=WK.displayName;var v_e="Label",HK=b.forwardRef((t,e)=>c.jsx(Me.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HK.displayName=v_e;var qK=HK;const y_e=my("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ct=b.forwardRef(({className:t,...e},n)=>c.jsx(qK,{ref:n,className:G(y_e(),t),...e}));ct.displayName=qK.displayName;var q_="Switch",[x_e,Utt]=xr(q_),[b_e,w_e]=x_e(q_),KK=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),g=Ye(e,_=>p(_)),m=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,x]=Qs({prop:i,defaultProp:s??!1,onChange:u,caller:q_});return c.jsxs(b_e,{scope:n,checked:y,disabled:o,children:[c.jsx(Me.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":QK(y),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:g,onClick:be(t.onClick,_=>{x(E=>!E),v&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),v&&c.jsx(XK,{control:h,bubbles:!m.current,name:r,value:l,checked:y,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});KK.displayName=q_;var GK="SwitchThumb",YK=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=w_e(GK,n);return c.jsx(Me.span,{"data-state":QK(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});YK.displayName=GK;var __e="SwitchBubbleInput",XK=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=b.useRef(null),o=Ye(a,s),l=wy(n),u=_y(e);return b.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});XK.displayName=__e;function QK(t){return t?"checked":"unchecked"}var ZK=KK,S_e=YK;const eO=b.forwardRef(({className:t,...e},n)=>c.jsx(ZK,{className:G("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:c.jsx(S_e,{className:G("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));eO.displayName=ZK.displayName;var E_e="Separator",V5="horizontal",T_e=["horizontal","vertical"],JK=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=V5,...i}=t,s=A_e(r)?r:V5,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return c.jsx(Me.div,{"data-orientation":s,...o,...i,ref:e})});JK.displayName=E_e;function A_e(t){return T_e.includes(t)}var eG=JK;const Qg=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>c.jsx(eG,{ref:i,decorative:n,orientation:e,className:G("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Qg.displayName=eG.displayName;const j_e=({className:t})=>{const{config:e,updateConfig:n,circadian:r}=gn(),{getCognitiveProfile:i,resetBehaviorData:s}=rp(),[a,o]=b.useState(null),l=i(),u=()=>{const{attentionSpan:f,engagementLevel:h,preferredTimeOfDay:p}=l;let g="balanced";f>70?g="analytical":f<30&&(g="visual"),h==="high"&&(g="immersive"),o(g),me.success(`Profile détecté: ${g}`,{description:"Voulez-vous appliquer ce profil aux paramètres?"})},d=()=>{a&&(n({cognitiveProfile:a,microRewardsIntensity:a==="visual"?70:a==="analytical"?30:50,moodIntensity:a==="immersive"?80:50,animationSpeed:a==="analytical"?"reduced":"standard"}),me.success("Profil cognitif appliqué",{description:"L'interface s'adaptera à votre profil cognitif"}))};return c.jsxs(Fe,{className:t,children:[c.jsxs(st,{children:[c.jsxs(dt,{className:"flex items-center gap-2",children:[c.jsx(Vge,{className:"h-5 w-5"}),"Profil Cognitif"]}),c.jsx(Tn,{children:"Personnalisez l'interface en fonction de votre profil cognitif"})]}),c.jsxs(Ue,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Type de Profil"}),c.jsxs(K,{variant:"outline",size:"sm",onClick:u,className:"flex items-center gap-1",children:[c.jsx(cs,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Détecter"})]})]}),c.jsxs(wf,{value:e.cognitiveProfile,onValueChange:f=>n({cognitiveProfile:f}),className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"flex items-start space-x-2 rounded-md border p-3",children:[c.jsx(si,{value:"visual",id:"visual"}),c.jsxs(ct,{htmlFor:"visual",className:"grid gap-1 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(id,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Visuel"})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Privilégie les stimuli visuels et les animations"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 rounded-md border p-3",children:[c.jsx(si,{value:"analytical",id:"analytical"}),c.jsxs(ct,{htmlFor:"analytical",className:"grid gap-1 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(QI,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Analytique"})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Préfère les informations structurées, animations réduites"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 rounded-md border p-3",children:[c.jsx(si,{value:"balanced",id:"balanced"}),c.jsxs(ct,{htmlFor:"balanced",className:"grid gap-1 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Xge,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Équilibré"})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Équilibre entre visuels et informations structurées"})]})]}),c.jsxs("div",{className:"flex items-start space-x-2 rounded-md border p-3",children:[c.jsx(si,{value:"immersive",id:"immersive"}),c.jsxs(ct,{htmlFor:"immersive",className:"grid gap-1 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Vg,{className:"h-3.5 w-3.5"}),c.jsx("span",{children:"Immersif"})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Expérience riche avec effets visuels amplifiés"})]})]})]}),a&&c.jsxs(K,{onClick:d,className:"w-full mt-2",children:["Appliquer le profil détecté (",a,")"]})]}),c.jsx(Qg,{}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("h4",{className:"text-sm font-medium",children:"Adaptation Circadienne"})]}),c.jsx(eO,{checked:e.autoAdapt,onCheckedChange:f=>n({autoAdapt:f})})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Adapte automatiquement l'interface en fonction de l'heure et de votre rythme circadien"}),e.autoAdapt&&c.jsxs("div",{className:"rounded-md bg-muted/50 p-3 text-sm",children:[c.jsx("p",{className:"font-medium",children:"Détection actuelle:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-2 text-xs",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Moment de la journée:"}),c.jsx("span",{className:"font-medium capitalize",children:r.timeOfDay})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Phase circadienne:"}),c.jsx("span",{className:"font-medium capitalize",children:r.circadianPhase})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Ambiance suggérée:"}),c.jsx("span",{className:"font-medium capitalize",children:r.suggestedMood})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Vos préférences:"}),c.jsx("span",{className:"font-medium capitalize",children:l.preferredTimeOfDay||"inconnues"})]})]})]})]}),c.jsx(Qg,{}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Ajustements avancés"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ct,{htmlFor:"contrast",children:"Contraste"}),c.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:e.contrastLevel})]}),c.jsxs(wf,{value:e.contrastLevel,onValueChange:f=>n({contrastLevel:f}),className:"flex justify-between",id:"contrast",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(si,{value:"low",id:"contrast-low"}),c.jsx(ct,{htmlFor:"contrast-low",className:"text-xs",children:"Bas"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(si,{value:"standard",id:"contrast-standard"}),c.jsx(ct,{htmlFor:"contrast-standard",className:"text-xs",children:"Standard"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(si,{value:"high",id:"contrast-high"}),c.jsx(ct,{htmlFor:"contrast-high",className:"text-xs",children:"Élevé"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ct,{htmlFor:"animation-speed",children:"Vitesse d'animation"}),c.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:e.animationSpeed})]}),c.jsxs(wf,{value:e.animationSpeed,onValueChange:f=>n({animationSpeed:f}),className:"flex justify-between",id:"animation-speed",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(si,{value:"reduced",id:"animation-reduced"}),c.jsx(ct,{htmlFor:"animation-reduced",className:"text-xs",children:"Réduite"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(si,{value:"standard",id:"animation-standard"}),c.jsx(ct,{htmlFor:"animation-standard",className:"text-xs",children:"Standard"})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(si,{value:"enhanced",id:"animation-enhanced"}),c.jsx(ct,{htmlFor:"animation-enhanced",className:"text-xs",children:"Dynamique"})]})]})]})]})]})]}),c.jsxs(Lu,{className:"flex justify-between",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:s,children:"Réinitialiser les données"}),c.jsx(K,{size:"sm",onClick:()=>{n({...lK,cognitiveProfile:"balanced",contrastLevel:"standard",animationSpeed:"standard"}),me.success("Paramètres réinitialisés")},children:"Rétablir les paramètres par défaut"})]})]})},tG=({size:t="md",className:e="",animated:n=!0,hideInHeader:r=!1})=>{const{triggerMicroReward:i}=gn(),[s,a]=b.useState(!1),[o,l]=b.useState(0),u=["from-purple-500 to-pink-500","from-blue-500 to-teal-400","from-amber-500 to-pink-500","from-green-400 to-blue-500","from-pink-500 to-orange-400"],d={sm:"text-xl",md:"text-3xl",lg:"text-5xl",xl:"text-7xl"};if(r&&e.includes("header"))return null;b.useEffect(()=>{if(s){const h=setInterval(()=>{l(p=>(p+1)%u.length)},700);return()=>clearInterval(h)}},[s,u.length]);const f=()=>{a(!0),i("creative")};return c.jsxs("div",{className:`inline-block ${e}`,onMouseEnter:f,onMouseLeave:()=>a(!1),children:[c.jsxs(Oe.div,{className:`font-bold ${d[t]} text-transparent bg-clip-text`,style:{WebkitTextStroke:"1px rgba(0,0,0,0.1)"},initial:{opacity:1},whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[c.jsx(Oe.span,{className:`bg-gradient-to-r ${u[o]} bg-clip-text text-transparent`,animate:n?{opacity:[1,.8,1],scale:[1,1.02,1]}:{},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:"X"}),c.jsx(Oe.span,{className:"text-gray-800",children:"Dose"})]}),c.jsx(Oe.div,{className:`h-1 bg-gradient-to-r ${u[o]} rounded-full mt-1`,initial:{width:"0%"},animate:{width:s?"100%":"40%"},transition:{duration:.5}})]})},C_e={apiKey:"AIzaSyC2ALHxTRrLiF8AQFIjx8vDQvfrcnHDpnI",authDomain:"xdose-7478c.firebaseapp.com",projectId:"xdose-7478c",storageBucket:"xdose-7478c.firebasestorage.app",messagingSenderId:"226217319866",appId:"1:226217319866:web:c05e3ba0ad319e95679183",measurementId:"G-MD4S36SM6K"};let Xb;Wle().length?Xb=Zv():Xb=HN(C_e);j8(Xb);const Vt=gpe(Xb),Qb=async()=>{try{const t=Gn(_n(Vt,"users"),gr("role","==","creator")),e=await ms(t),n=[];for(const r of e.docs){const i=r.data(),s=await P_e(r.id);n.push({...i,metrics:s,isOnline:Math.random()>.5})}return n}catch(t){return console.error("Error in getAllCreators:",t),[]}},P_e=async t=>{try{const[e,n,r]=await Promise.all([mT(Gn(_n(Vt,"follows"),gr("creatorId","==",t))),mT(Gn(_n(Vt,"follows"),gr("followerId","==",t))),mT(Gn(_n(Vt,"videos"),gr("creatorId","==",t)))]);return{followers:e.data().count,following:n.data().count,videos:r.data().count}}catch(e){return console.error("Error getting creator metrics:",e),{followers:0,following:0,videos:0}}},nG=async t=>{try{const e=Gn(_n(Vt,"videos"),gr("creatorId","==",t),Jl("createdAt","desc"));return(await ms(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error in getCreatorVideos:",e),[]}},k_e=async t=>{try{const e=ln(Vt,"videos",t),n=await Al(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return console.error("Error in getVideoById:",e),null}},tO=async(t,e)=>{try{const n=Gn(_n(Vt,"follows"),gr("followerId","==",t),gr("creatorId","==",e),Nu(1));return!(await ms(n)).empty}catch(n){return console.error("Error in checkUserFollowsCreator:",n),!1}},nO=async(t,e)=>{if(t===e)return console.warn("User cannot follow themselves."),!1;try{return await tO(t,e)?(console.log("User already follows this creator."),!0):(await kpe(_n(Vt,"follows"),{followerId:t,creatorId:e,followedAt:uy()}),!0)}catch(n){return console.error("Error in followCreator:",n),!1}},rO=async(t,e)=>{try{const n=Gn(_n(Vt,"follows"),gr("followerId","==",t),gr("creatorId","==",e)),r=await ms(n);if(r.empty)return console.log("Follow relationship not found."),!1;const i=WI(Vt);return r.forEach(s=>{i.delete(s.ref)}),await i.commit(),!0}catch(n){return console.error("Error in unfollowCreator:",n),!1}},N_e=async t=>{try{const e=Gn(_n(Vt,"follows"),gr("followerId","==",t));return(await ms(e)).docs.map(r=>r.data().creatorId)}catch(e){return console.error("Error in getUserFollowedCreatorIds:",e),[]}},I_e=[{id:"trend1",imageUrl:"https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=800&auto=format&fit=crop",title:"Morning Coffee Routine",type:"premium",format:"video",duration:345,metrics:{likes:1200,comments:89,views:5600}},{id:"trend2",imageUrl:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&auto=format&fit=crop",title:"Spring Fashion Look",type:"vip",format:"video",duration:520,metrics:{likes:950,comments:63,views:4100}},{id:"trend3",imageUrl:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800&auto=format&fit=crop",title:"Sunset at the Mountain",type:"standard",format:"video",duration:187,metrics:{likes:2300,comments:156,views:12400}},{id:"trend4",imageUrl:"https://images.unsplash.com/photo-1566554273541-37a9ca77b91f?w=800&auto=format&fit=crop",title:"Boulangerie Tour Paris",type:"vip",format:"video",duration:845,metrics:{likes:3200,comments:278,views:15600}},{id:"trend5",imageUrl:"https://images.unsplash.com/photo-1501196354995-cbb51c65aaea?w=800&auto=format&fit=crop",title:"Backstage Fashion Week",type:"premium",format:"video",duration:652,metrics:{likes:4100,comments:215,views:18900}},{id:"trend6",imageUrl:"https://images.unsplash.com/photo-1605812276723-c31bb1a68285?w=800&auto=format&fit=crop",title:"Exclusive Interview",type:"vip",format:"video",duration:1245,metrics:{likes:5800,comments:420,views:23500}}],F5=[{id:"creator1_uid",userId:"creator1_uid",name:"Sarah K.",username:"sarahk.creative",imageUrl:"https://avatars.githubusercontent.com/u/124599?v=4",type:"diamond",metrics:{followers:21500,content:156}},{id:"creator2_uid",userId:"creator2_uid",name:"Thomas R.",username:"thomas.photo",imageUrl:"https://i.pravatar.cc/150?img=11",type:"gold",metrics:{followers:14200,content:87}}],z5=()=>{cK();const{config:t,updateConfig:e,triggerMicroReward:n}=gn(),{trackInteraction:r,trackContentPreference:i}=rp(),[s,a]=b.useState(!1),[o,l]=b.useState(!1),{user:u,profile:d,isCreator:f}=Ut(),h=Xi(),[p,g]=b.useState({}),[m,v]=b.useState({});b.useEffect(()=>{r("view",{page:"index"}),(async()=>{if(!(!u||!u.uid))try{const E=await N_e(u.uid),S={};F5.forEach(j=>{S[j.userId]=E.includes(j.userId)}),g(S)}catch(E){console.error("Error loading initial follow statuses:",E)}})()},[r,u]);const y=(_,E)=>{n("click"),r("click",{contentId:_,contentType:E}),i(E)},x=async _=>{if(!u||!u.uid){h("/auth"),r("navigate",{to:"auth",reason:"follow"});return}if(u.uid===_.userId){me.info("Vous ne pouvez pas vous suivre vous-même.");return}v(E=>({...E,[_.userId]:!0}));try{const E=p[_.userId];let S=!1;E?(S=await rO(u.uid,_.userId),S&&(g(j=>({...j,[_.userId]:!1})),me.success(`Vous ne suivez plus ${_.name}`))):(S=await nO(u.uid,_.userId),S&&(g(j=>({...j,[_.userId]:!0})),me.success(`Vous suivez maintenant ${_.name}`,{description:"Découvrez son contenu exclusif"}),n("like"))),S?r("follow",{creatorId:_.userId,state:!E}):me.error("L'opération de suivi/désabonnement a échoué.")}catch(E){console.error("Error toggling follow state:",E),me.error("Une erreur est survenue",{description:"Veuillez réessayer plus tard"})}finally{v(E=>({...E,[_.userId]:!1}))}};return c.jsxs("div",{className:"relative z-10",children:[c.jsx(X2,{visible:t.goldenRatioVisible||!1,opacity:.05}),c.jsx(Y2,{currentMood:t.adaptiveMood,intensity:t.moodIntensity}),c.jsx(TK,{enable:t.microRewardsEnabled,rewardIntensity:t.microRewardsIntensity,adaptToContext:!0,reducedMotion:t.animationSpeed==="reduced"}),c.jsx(A1e,{enabled:t.focusModeEnabled,onToggle:_=>{e({focusModeEnabled:_}),r("toggle",{feature:"focusMode",state:_})},ambientSoundsEnabled:t.ambientSoundsEnabled||!1,onAmbientSoundsToggle:_=>{e({ambientSoundsEnabled:_}),r("toggle",{feature:"ambientSounds",state:_})}}),c.jsx(G1e,{enabled:t.ambientSoundsEnabled||!1,volume:t.ambientVolume||50,onVolumeChange:_=>e({ambientVolume:_})}),c.jsxs("div",{className:"container px-4 mx-auto py-8 space-y-8",children:[c.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-6 max-w-3xl mx-auto mb-6",children:[c.jsx("div",{className:"flex justify-center my-0 rounded-none py-0",children:c.jsx(tG,{size:"xl",animated:!0})}),c.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:u?f?c.jsxs(c.Fragment,{children:[c.jsxs(K,{size:"lg",className:"bg-xvush-pink hover:bg-xvush-pink-dark gap-2",onClick:()=>{h("/dashboard"),r("navigate",{to:"dashboard"})},children:[c.jsx(Kf,{className:"mr-2 h-4 w-4"})," Tableau de bord créateur"]}),c.jsxs(K,{size:"lg",variant:"outline",className:"gap-2",onClick:()=>{h("/videos"),r("navigate",{to:"videos"})},children:[c.jsx(s2,{className:"mr-2 h-4 w-4"})," Publier du contenu"]})]}):c.jsx(K,{size:"lg",className:"bg-xvush-pink hover:bg-xvush-pink-dark",onClick:()=>r("navigate",{to:"creators"}),children:c.jsxs(Wr,{to:"/creators",children:["Explorer les créateurs ",c.jsx(_T,{className:"ml-2 h-4 w-4"})]})}):c.jsxs(c.Fragment,{children:[c.jsx(K,{size:"lg",className:"bg-xvush-pink hover:bg-xvush-pink-dark gap-2",onClick:()=>r("navigate",{to:"login"}),children:c.jsxs(Wr,{to:"/auth",className:"flex items-center",children:[c.jsx(lve,{className:"mr-2 h-4 w-4"})," Se connecter"]})}),c.jsx(K,{size:"lg",variant:"outline",className:"gap-2",onClick:()=>r("navigate",{to:"signup"}),children:c.jsxs(Wr,{to:"/auth?tab=signup",className:"flex items-center",children:[c.jsx(R_,{className:"mr-2 h-4 w-4"})," Créer un compte"]})})]})})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Trending Content"}),c.jsxs(K,{variant:"link",className:"gap-2",onClick:()=>{h("/trending"),r("navigate",{to:"trending"})},children:["Voir tout ",c.jsx(_T,{className:"h-4 w-4"})]})]}),c.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},children:c.jsx(K2,{contents:I_e,layout:"masonry",onItemClick:_=>y(_,"trending")})})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Recommended Creators"}),c.jsx(K,{variant:"link",className:"gap-2",onClick:()=>r("navigate",{to:"creators"}),children:c.jsxs(Wr,{to:"/creators",children:["Voir tout ",c.jsx(_T,{className:"h-4 w-4"})]})})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:F5.map(_=>{var E,S,j;return c.jsxs(Oe.div,{className:"glass-card rounded-xl p-4 hover:shadow-lg transition-shadow",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>y(_.id,"creator"),children:[c.jsxs(Wr,{to:`/creator/${_.username}`,className:"flex items-center gap-3 mb-3",children:[c.jsx("img",{src:_.imageUrl,alt:_.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white/50"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:_.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",_.username]})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(id,{size:14,className:"text-muted-foreground"}),c.jsx("span",{children:((S=(E=_.metrics)==null?void 0:E.followers)==null?void 0:S.toLocaleString())||"N/A"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(er,{size:14,className:"text-muted-foreground"}),c.jsxs("span",{children:[((j=_.metrics)==null?void 0:j.content)||"N/A"," contenus"]})]})]}),u&&u.uid!==_.userId&&c.jsx(K,{className:G("w-full mt-3",p[_.userId]?"bg-gray-600 hover:bg-gray-700":"bg-xvush-pink hover:bg-xvush-pink-dark"),onClick:A=>{A.preventDefault(),A.stopPropagation(),x(_)},disabled:m[_.userId],children:m[_.userId]?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsx("span",{className:"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin mr-2"}),p[_.userId]?"Désabonnement...":"Abonnement..."]}):p[_.userId]?"Ne plus suivre":"Suivre"})]},_.id)})})]}),c.jsxs("section",{className:"bg-muted/30 backdrop-blur-sm p-6 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Neuro-Aesthetic Experience Controls"}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{l(!o),r("toggle",{feature:"cognitivePanel",state:!o})},className:"flex items-center gap-1.5",children:[c.jsx(I_,{className:"h-4 w-4"}),o?"Masquer avancé":"Paramètres avancés"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:"Ambiance visuelle"}),c.jsx("div",{className:"flex gap-2",children:["energetic","calm","creative","focused"].map(_=>c.jsx(K,{variant:t.adaptiveMood===_?"default":"outline",size:"sm",className:"capitalize",onClick:()=>{e({adaptiveMood:_}),r("select",{feature:"mood",value:_}),n("select")},children:_},_))}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Change l'ambiance lumineuse de l'interface"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:"Intensité visuelle"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{e({moodIntensity:Math.max(0,t.moodIntensity-10)}),r("adjust",{feature:"moodIntensity",direction:"decrease"})},children:"-"}),c.jsxs("div",{className:"flex-grow text-center",children:[t.moodIntensity,"%"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{e({moodIntensity:Math.min(100,t.moodIntensity+10)}),r("adjust",{feature:"moodIntensity",direction:"increase"})},children:"+"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ajuste la densité des effets visuels"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:"Micro-récompenses"}),c.jsx(K,{variant:t.microRewardsEnabled?"default":"outline",size:"sm",onClick:()=>{e({microRewardsEnabled:!t.microRewardsEnabled}),r("toggle",{feature:"microRewards",state:!t.microRewardsEnabled}),t.microRewardsEnabled||n("click")},children:t.microRewardsEnabled?"Activées":"Désactivées"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Animations subtiles pour renforcer l'engagement"})]})]}),o&&c.jsx(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 overflow-hidden",children:c.jsx(j_e,{})})]})]})]})};var K_="Tabs",[O_e,Btt]=xr(K_,[sp]),rG=sp(),[R_e,iO]=O_e(K_),iG=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=ad(o),[f,h]=Qs({prop:r,onChange:i,defaultProp:s??"",caller:K_});return c.jsx(R_e,{scope:n,baseId:Bs(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:c.jsx(Me.div,{dir:d,"data-orientation":a,...u,ref:e})})});iG.displayName=K_;var sG="TabsList",aG=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=iO(sG,n),a=rG(n);return c.jsx(Q2,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:c.jsx(Me.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});aG.displayName=sG;var oG="TabsTrigger",lG=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=iO(oG,n),o=rG(n),l=dG(a.baseId,r),u=fG(a.baseId,r),d=r===a.value;return c.jsx(Z2,{asChild:!0,...o,focusable:!i,active:d,children:c.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:be(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});lG.displayName=oG;var cG="TabsContent",uG=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=iO(cG,n),l=dG(o.baseId,r),u=fG(o.baseId,r),d=r===o.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Lr,{present:i||d,children:({present:h})=>c.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});uG.displayName=cG;function dG(t,e){return`${t}-trigger-${e}`}function fG(t,e){return`${t}-content-${e}`}var M_e=iG,hG=aG,pG=lG,mG=uG;const Zr=M_e,Dr=b.forwardRef(({className:t,...e},n)=>c.jsx(hG,{ref:n,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Dr.displayName=hG.displayName;const Je=b.forwardRef(({className:t,...e},n)=>c.jsx(pG,{ref:n,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Je.displayName=pG.displayName;const mt=b.forwardRef(({className:t,...e},n)=>c.jsx(mG,{ref:n,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));mt.displayName=mG.displayName;const D_e=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(""),[i,s]=b.useState(""),[a,o]=b.useState(""),[l,u]=b.useState("fan"),[d,f]=b.useState("login"),h=Xi(),{user:p,signUp:g,signIn:m}=Ut();b.useEffect(()=>{p&&h("/")},[p,h]);const v=async x=>{var _,E,S;if(x.preventDefault(),!n||!i||!a){me.error("Veuillez remplir tous les champs");return}console.log("Starting signup with role:",l),e(!0);try{const{error:j}=await g(n,i,a,l);if(j){let A="Une erreur est survenue lors de l'inscription.";(_=j.message)!=null&&_.includes("email-already-in-use")?A="Cette adresse e-mail est déjà utilisée.":(E=j.message)!=null&&E.includes("weak-password")?A="Le mot de passe est trop faible. Il doit contenir au moins 6 caractères.":((S=j.message)!=null&&S.includes("déjà utilisé")||j.message)&&(A=j.message),me.error(A),e(!1);return}me.success("Inscription réussie ! Vous pouvez maintenant vous connecter."),f("login")}catch(j){console.error("Erreur inattendue lors de l'inscription:",j),me.error(j.message||"Une erreur inattendue est survenue lors de l'inscription.")}finally{e(!1)}},y=async x=>{if(x.preventDefault(),!n||!i){me.error("Veuillez remplir tous les champs");return}e(!0);try{const{error:_}=await m(n,i);if(_){let E="Identifiants incorrects ou erreur de connexion.";_.message&&(E=_.message),me.error(E)}else me.success("Connexion réussie !"),h("/")}catch(_){console.error("Erreur inattendue lors de la connexion:",_),me.error(_.message||"Une erreur inattendue est survenue lors de la connexion.")}finally{e(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[c.jsx(X2,{visible:!0,opacity:.05}),c.jsx(Y2,{currentMood:"calm",intensity:50}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-xvush-purple/20 to-xvush-pink/20 z-0"}),c.jsx("div",{className:"absolute inset-0 backdrop-blur-3xl z-0"}),c.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md z-10",children:c.jsxs(Fe,{className:"backdrop-blur-md bg-background/80 border-muted/30",children:[c.jsxs(st,{className:"text-center",children:[c.jsx(dt,{className:"text-2xl font-bold",children:c.jsx("span",{className:"text-gradient-primary",children:"XDose"})}),c.jsx(Tn,{children:"Rejoignez la communauté créative ou découvrez du contenu exclusif"})]}),c.jsx(Ue,{children:c.jsxs(Zr,{defaultValue:d,value:d,onValueChange:x=>f(x),children:[c.jsxs(Dr,{className:"w-full mb-6",children:[c.jsx(Je,{value:"login",className:"flex-1",children:"Connexion"}),c.jsx(Je,{value:"signup",className:"flex-1",children:"Inscription"})]}),c.jsx(mt,{value:"login",children:c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"email-login",children:"Email"}),c.jsx(en,{id:"email-login",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"votre@email.com",required:!0,autoComplete:"email"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"password-login",children:"Mot de passe"}),c.jsx(en,{id:"password-login",type:"password",value:i,onChange:x=>s(x.target.value),placeholder:"••••••••",required:!0,autoComplete:"current-password"})]}),c.jsx(K,{type:"submit",className:"w-full bg-xvush-pink hover:bg-xvush-pink-dark",disabled:t,children:t?"Connexion en cours...":"Se connecter"})]})}),c.jsx(mt,{value:"signup",children:c.jsxs("form",{onSubmit:v,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"email-signup",children:"Email"}),c.jsx(en,{id:"email-signup",type:"email",value:n,onChange:x=>r(x.target.value),placeholder:"votre@email.com",required:!0,autoComplete:"email"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"username",children:"Nom d'utilisateur"}),c.jsx(en,{id:"username",type:"text",value:a,onChange:x=>o(x.target.value),placeholder:"votrepseudo",required:!0,autoComplete:"username"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"password-signup",children:"Mot de passe"}),c.jsx(en,{id:"password-signup",type:"password",value:i,onChange:x=>s(x.target.value),placeholder:"••••••••",required:!0,autoComplete:"new-password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{children:"Choisissez votre rôle"}),c.jsxs(wf,{defaultValue:"fan",value:l,onValueChange:x=>u(x),className:"flex gap-4 mt-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(si,{value:"fan",id:"fan"}),c.jsx(ct,{htmlFor:"fan",className:"cursor-pointer",children:"Fan / Spectateur"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(si,{value:"creator",id:"creator"}),c.jsx(ct,{htmlFor:"creator",className:"cursor-pointer",children:"Créateur"})]})]})]}),c.jsx(K,{type:"submit",className:"w-full bg-xvush-pink hover:bg-xvush-pink-dark",disabled:t,children:t?"Inscription en cours...":"S'inscrire"})]})})]})}),c.jsx(Lu,{className:"flex justify-center text-sm text-muted-foreground",children:c.jsxs("span",{children:[d==="login"?"Pas encore de compte ? ":"Déjà inscrit ? ",c.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>f(d==="login"?"signup":"login"),children:d==="login"?"S'inscrire":"Se connecter"})]})})]})})]})};function L_e(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var $_e="DismissableLayer",VC="dismissableLayer.update",V_e="dismissableLayer.pointerDownOutside",F_e="dismissableLayer.focusOutside",U5,gG=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ey=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,u=b.useContext(gG),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),g=Ye(e,A=>f(A)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),x=d?m.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=y,S=B_e(A=>{const T=A.target,C=[...u.branches].some(k=>k.contains(T));!E||C||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},h),j=W_e(A=>{const T=A.target;[...u.branches].some(k=>k.contains(T))||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},h);return L_e(A=>{x===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(U5=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),B5(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=U5)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),B5())},[d,u]),b.useEffect(()=>{const A=()=>p({});return document.addEventListener(VC,A),()=>document.removeEventListener(VC,A)},[]),c.jsx(Me.div,{...l,ref:g,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,j.onFocusCapture),onBlurCapture:be(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,S.onPointerDownCapture)})});Ey.displayName=$_e;var z_e="DismissableLayerBranch",U_e=b.forwardRef((t,e)=>{const n=b.useContext(gG),r=b.useRef(null),i=Ye(e,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(Me.div,{...t,ref:i})});U_e.displayName=z_e;function B_e(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){vG(V_e,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function W_e(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&vG(F_e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B5(){const t=new CustomEvent(VC);document.dispatchEvent(t)}function vG(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?tH(i,s):i.dispatchEvent(s)}const H_e=["top","right","bottom","left"],mc=Math.min,Ri=Math.max,Zb=Math.round,$0=Math.floor,ka=t=>({x:t,y:t}),q_e={left:"right",right:"left",bottom:"top",top:"bottom"},K_e={start:"end",end:"start"};function FC(t,e,n){return Ri(t,mc(e,n))}function Mo(t,e){return typeof t=="function"?t(e):t}function Do(t){return t.split("-")[0]}function ap(t){return t.split("-")[1]}function sO(t){return t==="x"?"y":"x"}function aO(t){return t==="y"?"height":"width"}function xo(t){return["top","bottom"].includes(Do(t))?"y":"x"}function oO(t){return sO(xo(t))}function G_e(t,e,n){n===void 0&&(n=!1);const r=ap(t),i=oO(t),s=aO(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Jb(a)),[a,Jb(a)]}function Y_e(t){const e=Jb(t);return[zC(t),e,zC(e)]}function zC(t){return t.replace(/start|end/g,e=>K_e[e])}function X_e(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function Q_e(t,e,n,r){const i=ap(t);let s=X_e(Do(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(zC)))),s}function Jb(t){return t.replace(/left|right|bottom|top/g,e=>q_e[e])}function Z_e(t){return{top:0,right:0,bottom:0,left:0,...t}}function yG(t){return typeof t!="number"?Z_e(t):{top:t,right:t,bottom:t,left:t}}function ew(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function W5(t,e,n){let{reference:r,floating:i}=t;const s=xo(e),a=oO(e),o=aO(a),l=Do(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ap(e)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const J_e=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=W5(u,r,l),h=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:y}=o[m],{x,y:_,data:E,reset:S}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=x??d,f=_??f,p={...p,[v]:{...p[v],...E}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:f}=W5(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Zg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Mo(e,t),g=yG(p),v=o[h?f==="floating"?"reference":"floating":f],y=ew(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=ew(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:_,strategy:l}):x);return{top:(y.top-S.top+g.top)/E.y,bottom:(S.bottom-y.bottom+g.bottom)/E.y,left:(y.left-S.left+g.left)/E.x,right:(S.right-y.right+g.right)/E.x}}const eSe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=Mo(t,e)||{};if(u==null)return{};const f=yG(d),h={x:n,y:r},p=oO(i),g=aO(p),m=await a.getDimensions(u),v=p==="y",y=v?"top":"left",x=v?"bottom":"right",_=v?"clientHeight":"clientWidth",E=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let A=j?j[_]:0;(!A||!await(a.isElement==null?void 0:a.isElement(j)))&&(A=o.floating[_]||s.floating[g]);const T=E/2-S/2,C=A/2-m[g]/2-1,k=mc(f[y],C),I=mc(f[x],C),N=k,O=A-m[g]-I,D=A/2-m[g]/2+T,V=FC(N,D,O),U=!l.arrow&&ap(i)!=null&&D!==V&&s.reference[g]/2-(D<N?k:I)-m[g]/2<0,z=U?D<N?D-N:D-O:0;return{[p]:h[p]+z,data:{[p]:V,centerOffset:D-V-z,...U&&{alignmentOffset:z}},reset:U}}}),tSe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Mo(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Do(i),x=xo(o),_=Do(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=h||(_||!m?[Jb(o)]:Y_e(o)),j=g!=="none";!h&&j&&S.push(...Q_e(o,m,g,E));const A=[o,...S],T=await Zg(e,v),C=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(T[y]),f){const V=G_e(i,a,E);C.push(T[V[0]],T[V[1]])}if(k=[...k,{placement:i,overflows:C}],!C.every(V=>V<=0)){var I,N;const V=(((I=s.flip)==null?void 0:I.index)||0)+1,U=A[V];if(U){var O;const L=f==="alignment"?x!==xo(U):!1,F=((O=k[0])==null?void 0:O.overflows[0])>0;if(!L||F)return{data:{index:V,overflows:k},reset:{placement:U}}}let z=(N=k.filter(L=>L.overflows[0]<=0).sort((L,F)=>L.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!z)switch(p){case"bestFit":{var D;const L=(D=k.filter(F=>{if(j){const W=xo(F.placement);return W===x||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,ne)=>W+ne,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:D[0];L&&(z=L);break}case"initialPlacement":z=o;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function H5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function q5(t){return H_e.some(e=>t[e]>=0)}const nSe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Mo(t,e);switch(r){case"referenceHidden":{const s=await Zg(e,{...i,elementContext:"reference"}),a=H5(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:q5(a)}}}case"escaped":{const s=await Zg(e,{...i,altBoundary:!0}),a=H5(s,n.floating);return{data:{escapedOffsets:a,escaped:q5(a)}}}default:return{}}}}};async function rSe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Do(n),o=ap(n),l=xo(n)==="y",u=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,f=Mo(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const iSe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await rSe(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},sSe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...l}=Mo(t,e),u={x:n,y:r},d=await Zg(e,l),f=xo(Do(i)),h=sO(f);let p=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+d[v],_=p-d[y];p=FC(x,p,_)}if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=g+d[v],_=g-d[y];g=FC(x,g,_)}const m=o.fn({...e,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[f]:a}}}}}},aSe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Mo(t,e),d={x:n,y:r},f=xo(i),h=sO(f);let p=d[h],g=d[f];const m=Mo(o,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=h==="y"?"height":"width",E=s.reference[h]-s.floating[_]+v.mainAxis,S=s.reference[h]+s.reference[_]-v.mainAxis;p<E?p=E:p>S&&(p=S)}if(u){var y,x;const _=h==="y"?"width":"height",E=["top","left"].includes(Do(i)),S=s.reference[f]-s.floating[_]+(E&&((y=a.offset)==null?void 0:y[f])||0)+(E?0:v.crossAxis),j=s.reference[f]+s.reference[_]+(E?0:((x=a.offset)==null?void 0:x[f])||0)-(E?v.crossAxis:0);g<S?g=S:g>j&&(g=j)}return{[h]:p,[f]:g}}}},oSe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=Mo(t,e),d=await Zg(e,u),f=Do(i),h=ap(i),p=xo(i)==="y",{width:g,height:m}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,_=g-d.left-d.right,E=mc(m-d[v],x),S=mc(g-d[y],_),j=!e.middlewareData.shift;let A=E,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=x),j&&!h){const k=Ri(d.left,0),I=Ri(d.right,0),N=Ri(d.top,0),O=Ri(d.bottom,0);p?T=g-2*(k!==0||I!==0?k+I:Ri(d.left,d.right)):A=m-2*(N!==0||O!==0?N+O:Ri(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:A});const C=await a.getDimensions(o.floating);return g!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function G_(){return typeof window<"u"}function op(t){return xG(t)?(t.nodeName||"").toLowerCase():"#document"}function Wi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qa(t){var e;return(e=(xG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xG(t){return G_()?t instanceof Node||t instanceof Wi(t).Node:!1}function Zs(t){return G_()?t instanceof Element||t instanceof Wi(t).Element:!1}function La(t){return G_()?t instanceof HTMLElement||t instanceof Wi(t).HTMLElement:!1}function K5(t){return!G_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wi(t).ShadowRoot}function Ty(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Js(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function lSe(t){return["table","td","th"].includes(op(t))}function Y_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function lO(t){const e=cO(),n=Zs(t)?Js(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cSe(t){let e=gc(t);for(;La(e)&&!Jf(e);){if(lO(e))return e;if(Y_(e))return null;e=gc(e)}return null}function cO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jf(t){return["html","body","#document"].includes(op(t))}function Js(t){return Wi(t).getComputedStyle(t)}function X_(t){return Zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gc(t){if(op(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K5(t)&&t.host||qa(t);return K5(e)?e.host:e}function bG(t){const e=gc(t);return Jf(e)?t.ownerDocument?t.ownerDocument.body:t.body:La(e)&&Ty(e)?e:bG(e)}function Jg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=bG(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Wi(i);if(s){const o=UC(a);return e.concat(a,a.visualViewport||[],Ty(i)?i:[],o&&n?Jg(o):[])}return e.concat(i,Jg(i,[],n))}function UC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wG(t){const e=Js(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=La(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=Zb(n)!==s||Zb(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function uO(t){return Zs(t)?t:t.contextElement}function _f(t){const e=uO(t);if(!La(e))return ka(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=wG(e);let a=(s?Zb(n.width):n.width)/r,o=(s?Zb(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const uSe=ka(0);function _G(t){const e=Wi(t);return!cO()||!e.visualViewport?uSe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dSe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wi(t)?!1:e}function $u(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=uO(t);let a=ka(1);e&&(r?Zs(r)&&(a=_f(r)):a=_f(t));const o=dSe(s,n,r)?_G(s):ka(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=Wi(s),p=r&&Zs(r)?Wi(r):r;let g=h,m=UC(g);for(;m&&r&&p!==g;){const v=_f(m),y=m.getBoundingClientRect(),x=Js(m),_=y.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,E=y.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=_,u+=E,g=Wi(m),m=UC(g)}}return ew({width:d,height:f,x:l,y:u})}function dO(t,e){const n=X_(t).scrollLeft;return e?e.left+n:$u(qa(t)).left+n}function SG(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:dO(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function fSe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=qa(r),o=e?Y_(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ka(1);const d=ka(0),f=La(r);if((f||!f&&!s)&&((op(r)!=="body"||Ty(a))&&(l=X_(r)),La(r))){const p=$u(r);u=_f(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=a&&!f&&!s?SG(a,l,!0):ka(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function hSe(t){return Array.from(t.getClientRects())}function pSe(t){const e=qa(t),n=X_(t),r=t.ownerDocument.body,i=Ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+dO(t);const o=-n.scrollTop;return Js(r).direction==="rtl"&&(a+=Ri(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function mSe(t,e){const n=Wi(t),r=qa(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=cO();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function gSe(t,e){const n=$u(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=La(t)?_f(t):ka(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function G5(t,e,n){let r;if(e==="viewport")r=mSe(t,n);else if(e==="document")r=pSe(qa(t));else if(Zs(e))r=gSe(e,n);else{const i=_G(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ew(r)}function EG(t,e){const n=gc(t);return n===e||!Zs(n)||Jf(n)?!1:Js(n).position==="fixed"||EG(n,e)}function vSe(t,e){const n=e.get(t);if(n)return n;let r=Jg(t,[],!1).filter(o=>Zs(o)&&op(o)!=="body"),i=null;const s=Js(t).position==="fixed";let a=s?gc(t):t;for(;Zs(a)&&!Jf(a);){const o=Js(a),l=lO(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ty(a)&&!l&&EG(t,a))?r=r.filter(d=>d!==a):i=o,a=gc(a)}return e.set(t,r),r}function ySe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Y_(e)?[]:vSe(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const f=G5(e,d,i);return u.top=Ri(f.top,u.top),u.right=mc(f.right,u.right),u.bottom=mc(f.bottom,u.bottom),u.left=Ri(f.left,u.left),u},G5(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xSe(t){const{width:e,height:n}=wG(t);return{width:e,height:n}}function bSe(t,e,n){const r=La(e),i=qa(e),s=n==="fixed",a=$u(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=ka(0);function u(){l.x=dO(i)}if(r||!r&&!s)if((op(e)!=="body"||Ty(i))&&(o=X_(e)),r){const p=$u(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?SG(i,o):ka(0),f=a.left+o.scrollLeft-l.x-d.x,h=a.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function zT(t){return Js(t).position==="static"}function Y5(t,e){if(!La(t)||Js(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qa(t)===n&&(n=n.ownerDocument.body),n}function TG(t,e){const n=Wi(t);if(Y_(t))return n;if(!La(t)){let i=gc(t);for(;i&&!Jf(i);){if(Zs(i)&&!zT(i))return i;i=gc(i)}return n}let r=Y5(t,e);for(;r&&lSe(r)&&zT(r);)r=Y5(r,e);return r&&Jf(r)&&zT(r)&&!lO(r)?n:r||cSe(t)||n}const wSe=async function(t){const e=this.getOffsetParent||TG,n=this.getDimensions,r=await n(t.floating);return{reference:bSe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _Se(t){return Js(t).direction==="rtl"}const SSe={convertOffsetParentRelativeRectToViewportRelativeRect:fSe,getDocumentElement:qa,getClippingRect:ySe,getOffsetParent:TG,getElementRects:wSe,getClientRects:hSe,getDimensions:xSe,getScale:_f,isElement:Zs,isRTL:_Se};function AG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ESe(t,e){let n=null,r;const i=qa(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||e(),!h||!p)return;const g=$0(f),m=$0(i.clientWidth-(d+h)),v=$0(i.clientHeight-(f+p)),y=$0(d),_={rootMargin:-g+"px "+-m+"px "+-v+"px "+-y+"px",threshold:Ri(0,mc(1,l))||1};let E=!0;function S(j){const A=j[0].intersectionRatio;if(A!==l){if(!E)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!AG(u,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return a(!0),s}function TSe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=uO(t),d=i||s?[...u?Jg(u):[],...Jg(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&o?ESe(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?$u(t):null;l&&v();function v(){const y=$u(t);m&&!AG(m,y)&&n(),m=y,g=requestAnimationFrame(v)}return n(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const ASe=iSe,jSe=sSe,CSe=tSe,PSe=oSe,kSe=nSe,X5=eSe,NSe=aSe,ISe=(t,e,n)=>{const r=new Map,i={platform:SSe,...n},s={...i.platform,_c:r};return J_e(t,e,{...i,platform:s})};var Dx=typeof document<"u"?b.useLayoutEffect:b.useEffect;function tw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tw(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!tw(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q5(t,e){const n=jG(t);return Math.round(e*n)/n}function UT(t){const e=b.useRef(t);return Dx(()=>{e.current=t}),e}function OSe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);tw(h,r)||p(r);const[g,m]=b.useState(null),[v,y]=b.useState(null),x=b.useCallback(L=>{L!==j.current&&(j.current=L,m(L))},[]),_=b.useCallback(L=>{L!==A.current&&(A.current=L,y(L))},[]),E=s||g,S=a||v,j=b.useRef(null),A=b.useRef(null),T=b.useRef(d),C=l!=null,k=UT(l),I=UT(i),N=UT(u),O=b.useCallback(()=>{if(!j.current||!A.current)return;const L={placement:e,strategy:n,middleware:h};I.current&&(L.platform=I.current),ISe(j.current,A.current,L).then(F=>{const W={...F,isPositioned:N.current!==!1};D.current&&!tw(T.current,W)&&(T.current=W,Fh.flushSync(()=>{f(W)}))})},[h,e,n,I,N]);Dx(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const D=b.useRef(!1);Dx(()=>(D.current=!0,()=>{D.current=!1}),[]),Dx(()=>{if(E&&(j.current=E),S&&(A.current=S),E&&S){if(k.current)return k.current(E,S,O);O()}},[E,S,O,k,C]);const V=b.useMemo(()=>({reference:j,floating:A,setReference:x,setFloating:_}),[x,_]),U=b.useMemo(()=>({reference:E,floating:S}),[E,S]),z=b.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const F=Q5(U.floating,d.x),W=Q5(U.floating,d.y);return o?{...L,transform:"translate("+F+"px, "+W+"px)",...jG(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,o,U.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:O,refs:V,elements:U,floatingStyles:z}),[d,O,V,U,z])}const RSe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?X5({element:r.current,padding:i}).fn(n):{}:r?X5({element:r,padding:i}).fn(n):{}}}},MSe=(t,e)=>({...ASe(t),options:[t,e]}),DSe=(t,e)=>({...jSe(t),options:[t,e]}),LSe=(t,e)=>({...NSe(t),options:[t,e]}),$Se=(t,e)=>({...CSe(t),options:[t,e]}),VSe=(t,e)=>({...PSe(t),options:[t,e]}),FSe=(t,e)=>({...kSe(t),options:[t,e]}),zSe=(t,e)=>({...RSe(t),options:[t,e]});var USe="Arrow",CG=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return c.jsx(Me.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});CG.displayName=USe;var BSe=CG,fO="Popper",[PG,lp]=xr(fO),[WSe,kG]=PG(fO),NG=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return c.jsx(WSe,{scope:e,anchor:r,onAnchorChange:i,children:n})};NG.displayName=fO;var IG="PopperAnchor",OG=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=kG(IG,n),a=b.useRef(null),o=Ye(e,a);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx(Me.div,{...i,ref:o})});OG.displayName=IG;var hO="PopperContent",[HSe,qSe]=PG(hO),RG=b.forwardRef((t,e)=>{var q,oe,Z,J,ee,H;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,v=kG(hO,n),[y,x]=b.useState(null),_=Ye(e,Ae=>x(Ae)),[E,S]=b.useState(null),j=_y(E),A=(j==null?void 0:j.width)??0,T=(j==null?void 0:j.height)??0,C=r+(s!=="center"?"-"+s:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],N=I.length>0,O={padding:k,boundary:I.filter(GSe),altBoundary:N},{refs:D,floatingStyles:V,placement:U,isPositioned:z,middlewareData:L}=OSe({strategy:"fixed",placement:C,whileElementsMounted:(...Ae)=>TSe(...Ae,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[MSe({mainAxis:i+T,alignmentAxis:a}),l&&DSe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?LSe():void 0,...O}),l&&$Se({...O}),VSe({...O,apply:({elements:Ae,rects:je,availableWidth:$e,availableHeight:de})=>{const{width:Ve,height:bt}=je.reference,pe=Ae.floating.style;pe.setProperty("--radix-popper-available-width",`${$e}px`),pe.setProperty("--radix-popper-available-height",`${de}px`),pe.setProperty("--radix-popper-anchor-width",`${Ve}px`),pe.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),E&&zSe({element:E,padding:o}),YSe({arrowWidth:A,arrowHeight:T}),h&&FSe({strategy:"referenceHidden",...O})]}),[F,W]=LG(U),ne=tr(g);Fn(()=>{z&&(ne==null||ne())},[z,ne]);const Q=(q=L.arrow)==null?void 0:q.x,ie=(oe=L.arrow)==null?void 0:oe.y,xe=((Z=L.arrow)==null?void 0:Z.centerOffset)!==0,[Pe,he]=b.useState();return Fn(()=>{y&&he(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:z?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(J=L.transformOrigin)==null?void 0:J.x,(ee=L.transformOrigin)==null?void 0:ee.y].join(" "),...((H=L.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(HSe,{scope:n,placedSide:F,onArrowChange:S,arrowX:Q,arrowY:ie,shouldHideArrow:xe,children:c.jsx(Me.div,{"data-side":F,"data-align":W,...m,ref:_,style:{...m.style,animation:z?void 0:"none"}})})})});RG.displayName=hO;var MG="PopperArrow",KSe={top:"bottom",right:"left",bottom:"top",left:"right"},DG=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=qSe(MG,r),a=KSe[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(BSe,{...i,ref:n,style:{...i.style,display:"block"}})})});DG.displayName=MG;function GSe(t){return t!==null}var YSe=t=>({name:"transformOrigin",options:t,fn(e){var v,y,x;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=LG(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-l}px`):u==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+l}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function LG(t){const[e,n="center"]=t.split("-");return[e,n]}var pO=NG,mO=OG,gO=RG,vO=DG,XSe="Portal",Q_=b.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=b.useState(!1);Fn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?p9.createPortal(c.jsx(Me.div,{...r,ref:e}),a):null});Q_.displayName=XSe;var $G=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QSe="VisuallyHidden",VG=b.forwardRef((t,e)=>c.jsx(Me.span,{...t,ref:e,style:{...$G,...t.style}}));VG.displayName=QSe;var ZSe=VG,[Z_,Wtt]=xr("Tooltip",[lp]),J_=lp(),FG="TooltipProvider",JSe=700,BC="tooltip.open",[eEe,yO]=Z_(FG),zG=t=>{const{__scopeTooltip:e,delayDuration:n=JSe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=b.useRef(!0),o=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(eEe,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};zG.displayName=FG;var ev="Tooltip",[tEe,eS]=Z_(ev),UG=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=t,l=yO(ev,t.__scopeTooltip),u=J_(e),[d,f]=b.useState(null),h=Bs(),p=b.useRef(0),g=a??l.disableHoverableContent,m=o??l.delayDuration,v=b.useRef(!1),[y,x]=Qs({prop:r,defaultProp:i??!1,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(BC))):l.onClose(),s==null||s(A)},caller:ev}),_=b.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),E=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,x(!0)},[x]),S=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),j=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,x(!0),p.current=0},m)},[m,x]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(pO,{...u,children:c.jsx(tEe,{scope:e,contentId:h,open:y,stateAttribute:_,trigger:d,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{l.isOpenDelayedRef.current?j():E()},[l.isOpenDelayedRef,j,E]),onTriggerLeave:b.useCallback(()=>{g?S():(window.clearTimeout(p.current),p.current=0)},[S,g]),onOpen:E,onClose:S,disableHoverableContent:g,children:n})})};UG.displayName=ev;var WC="TooltipTrigger",BG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=eS(WC,n),s=yO(WC,n),a=J_(n),o=b.useRef(null),l=Ye(e,o,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(mO,{asChild:!0,...a,children:c.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:be(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:be(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:be(t.onBlur,i.onClose),onClick:be(t.onClick,i.onClose)})})});BG.displayName=WC;var nEe="TooltipPortal",[Htt,rEe]=Z_(nEe,{forceMount:void 0}),eh="TooltipContent",WG=b.forwardRef((t,e)=>{const n=rEe(eh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=eS(eh,t.__scopeTooltip);return c.jsx(Lr,{present:r||a.open,children:a.disableHoverableContent?c.jsx(HG,{side:i,...s,ref:e}):c.jsx(iEe,{side:i,...s,ref:e})})}),iEe=b.forwardRef((t,e)=>{const n=eS(eh,t.__scopeTooltip),r=yO(eh,t.__scopeTooltip),i=b.useRef(null),s=Ye(e,i),[a,o]=b.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=b.useCallback(()=>{o(null),f(!1)},[f]),p=b.useCallback((g,m)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},x=cEe(y,v.getBoundingClientRect()),_=uEe(y,x),E=dEe(m.getBoundingClientRect()),S=hEe([..._,...E]);o(S),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const g=v=>p(v,d),m=v=>p(v,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),b.useEffect(()=>{if(a){const g=m=>{const v=m.target,y={x:m.clientX,y:m.clientY},x=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),_=!fEe(y,a);x?h():_&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,u,h]),c.jsx(HG,{...t,ref:s})}),[sEe,aEe]=Z_(ev,{isInside:!1}),oEe=Tve("TooltipContent"),HG=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=eS(eh,n),u=J_(n),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(BC,d),()=>document.removeEventListener(BC,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(Ey,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(gO,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(oEe,{children:r}),c.jsx(sEe,{scope:n,isInside:!0,children:c.jsx(ZSe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});WG.displayName=eh;var qG="TooltipArrow",lEe=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=J_(n);return aEe(qG,n).isInside?null:c.jsx(vO,{...i,...r,ref:e})});lEe.displayName=qG;function cEe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uEe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function dEe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function fEe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,d=o.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function hEe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),pEe(e)}function pEe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var mEe=zG,gEe=UG,vEe=BG,KG=WG;const yEe=mEe,xEe=gEe,bEe=vEe,GG=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(KG,{ref:r,sideOffset:e,className:G("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));GG.displayName=KG.displayName;const wEe=({status:t,scheduledTime:e,className:n})=>{const r=()=>{switch(t){case"online":return{color:"bg-green-500",icon:c.jsx(qge,{size:14,className:"text-green-500"}),label:"En ligne",description:"Disponible maintenant"};case"creating":return{color:"bg-amber-500",icon:c.jsx(Cx,{size:14,className:"text-amber-500"}),label:"En création",description:"Nouveau contenu en préparation"};case"scheduled":return{color:"bg-blue-500",icon:c.jsx(L7,{size:14,className:"text-blue-500"}),label:"Programmé",description:e?`Prochain live à ${e}`:"Événement à venir"};case"offline":default:return{color:"bg-gray-400",icon:c.jsx(Kge,{size:14,className:"text-gray-400"}),label:"Hors ligne",description:"Reviendra bientôt"}}},{color:i,icon:s,label:a,description:o}=r();return c.jsxs(xEe,{children:[c.jsx(bEe,{asChild:!0,children:c.jsxs("div",{className:G("flex items-center gap-1.5 group",n),children:[c.jsx("span",{className:G("relative flex h-2.5 w-2.5 rounded-full",t==="online"&&"animate-pulse"),children:c.jsx("span",{className:G("absolute inline-flex h-full w-full rounded-full",i)})}),c.jsx("span",{className:"text-xs font-medium text-muted-foreground group-hover:text-foreground transition-colors",children:a}),s]})}),c.jsx(GG,{side:"bottom",children:c.jsx("p",{className:"text-xs",children:o})})]})},_Ee=({avatar:t,isOnline:e=!1,pulseStatus:n="offline",scheduledTime:r,className:i})=>{const{triggerMicroReward:s}=gn();return c.jsx("div",{className:G("flex flex-col items-center gap-2",i),onClick:()=>s("like"),children:c.jsxs("div",{className:"relative",children:[c.jsx(Yg,{src:t,size:"xl",hasStory:!0,status:e?"online":"offline"}),c.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/30 to-xvush-purple/30 rounded-full blur-md -z-10 animate-pulse"}),c.jsx("div",{className:"mt-2",children:c.jsx(wEe,{status:n,scheduledTime:r})})]})})},SEe=({tier:t,className:e})=>{const n={bronze:{color:"bg-gradient-to-r from-amber-700 to-amber-500",text:"Bronze",textColor:"text-white"},silver:{color:"bg-gradient-to-r from-gray-400 to-gray-300",text:"Silver",textColor:"text-gray-800"},gold:{color:"bg-gradient-to-r from-yellow-500 to-amber-300",text:"Gold",textColor:"text-gray-800"},platinum:{color:"bg-gradient-to-r from-gray-300 to-gray-100",text:"Platinum",textColor:"text-gray-800"},diamond:{color:"bg-gradient-to-r from-blue-400 to-purple-500",text:"Diamond",textColor:"text-white"}},{color:r,text:i,textColor:s}=n[t];return c.jsx("span",{className:G("px-2 py-0.5 text-xs font-semibold rounded-full",r,s,e),children:i})},EEe=({name:t,username:e,bio:n,tier:r,className:i})=>c.jsxs("div",{className:G("space-y-2",i),children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h1",{className:"text-2xl font-bold",children:t}),c.jsx(SEe,{tier:r})]}),c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx(K,{variant:"outline",size:"icon",children:c.jsx(D7,{size:16,className:"text-muted-foreground"})}),c.jsx(K,{variant:"outline",size:"icon",children:c.jsx(W7,{size:16,className:"text-muted-foreground"})}),c.jsx(K,{variant:"outline",size:"icon",children:c.jsx(Q7,{size:16,className:"text-muted-foreground"})}),c.jsx(K,{variant:"outline",size:"icon",children:c.jsx(rve,{size:16,className:"text-muted-foreground"})})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",e]}),c.jsx(Oe.div,{className:"mt-3 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},children:n})]})]}),TEe=({metrics:t,className:e})=>{const n={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{opacity:0,y:10},show:{opacity:1,y:0}},i=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString();return c.jsxs(Oe.div,{className:G("flex flex-wrap gap-5",e),variants:n,initial:"hidden",animate:"show",children:[c.jsxs(Oe.div,{variants:r,className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:c.jsx(pr,{size:16,className:"text-primary"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold",children:i(t.followers)}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Abonnés"})]})]}),t.following!==void 0&&c.jsxs(Oe.div,{variants:r,className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-xvush-blue/10 rounded-full p-2",children:c.jsx(Fg,{size:16,className:"text-xvush-blue"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold",children:i(t.following)}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Abonnements"})]})]}),t.retentionRate!==void 0&&c.jsxs(Oe.div,{variants:r,className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-green-500/10 rounded-full p-2",children:c.jsx(Zh,{size:16,className:"text-green-500"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-lg font-semibold",children:[t.retentionRate,"%"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Rétention"})]})]}),t.superfans!==void 0&&c.jsxs(Oe.div,{variants:r,className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-xvush-orange/10 rounded-full p-2",children:c.jsx(Fg,{size:16,className:"text-xvush-orange"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold",children:t.superfans}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Super-fans"})]})]}),t.watchMinutes!==void 0&&c.jsxs(Oe.div,{variants:r,className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-xvush-teal/10 rounded-full p-2",children:c.jsx(Ru,{size:16,className:"text-xvush-teal"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-lg font-semibold",children:[i(t.watchMinutes),"min"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Visionnage"})]})]})]})},AEe=({value:t,max:e,color:n="bg-xvush-pink",height:r="h-1.5",className:i,showPercentage:s=!1})=>{const a=Math.min(100,Math.max(0,t/e*100));return c.jsxs("div",{className:i,children:[c.jsx("div",{className:G("progress-bar",r),children:c.jsx("div",{className:G("progress-fill",n),style:{width:`${a}%`}})}),s&&c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(a),"%"]})]})},jEe=({tier:t,progress:e,className:n})=>{const r=()=>{switch(t){case"bronze":return"silver";case"silver":return"gold";case"gold":return"platinum";case"platinum":return"diamond";case"diamond":return"diamond"}},i=()=>{switch(t){case"bronze":return"bg-gradient-to-r from-amber-700 to-amber-500";case"silver":return"bg-gradient-to-r from-gray-400 to-gray-300";case"gold":return"bg-gradient-to-r from-yellow-500 to-amber-300";case"platinum":return"bg-gradient-to-r from-gray-300 to-white";case"diamond":return"bg-gradient-to-r from-blue-400 to-purple-500"}};return c.jsxs("div",{className:G("space-y-1",n),children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs capitalize font-medium",children:t}),c.jsx("span",{className:"text-xs capitalize text-muted-foreground",children:r()})]}),c.jsx(AEe,{value:e,max:100,color:i(),height:"h-1.5",showPercentage:!1}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[e,"%"]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:t!=="diamond"?"Prochain niveau":"Niveau maximum atteint"})]})]})};var CEe=Array.isArray,Ei=CEe,PEe=typeof o0=="object"&&o0&&o0.Object===Object&&o0,YG=PEe,kEe=YG,NEe=typeof self=="object"&&self&&self.Object===Object&&self,IEe=kEe||NEe||Function("return this")(),Ka=IEe,OEe=Ka,REe=OEe.Symbol,Ay=REe,Z5=Ay,XG=Object.prototype,MEe=XG.hasOwnProperty,DEe=XG.toString,Gp=Z5?Z5.toStringTag:void 0;function LEe(t){var e=MEe.call(t,Gp),n=t[Gp];try{t[Gp]=void 0;var r=!0}catch{}var i=DEe.call(t);return r&&(e?t[Gp]=n:delete t[Gp]),i}var $Ee=LEe,VEe=Object.prototype,FEe=VEe.toString;function zEe(t){return FEe.call(t)}var UEe=zEe,J5=Ay,BEe=$Ee,WEe=UEe,HEe="[object Null]",qEe="[object Undefined]",eV=J5?J5.toStringTag:void 0;function KEe(t){return t==null?t===void 0?qEe:HEe:eV&&eV in Object(t)?BEe(t):WEe(t)}var Ko=KEe;function GEe(t){return t!=null&&typeof t=="object"}var Go=GEe,YEe=Ko,XEe=Go,QEe="[object Symbol]";function ZEe(t){return typeof t=="symbol"||XEe(t)&&YEe(t)==QEe}var cp=ZEe,JEe=Ei,eTe=cp,tTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nTe=/^\w*$/;function rTe(t,e){if(JEe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||eTe(t)?!0:nTe.test(t)||!tTe.test(t)||e!=null&&t in Object(e)}var xO=rTe;function iTe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Cc=iTe;const up=Nt(Cc);var sTe=Ko,aTe=Cc,oTe="[object AsyncFunction]",lTe="[object Function]",cTe="[object GeneratorFunction]",uTe="[object Proxy]";function dTe(t){if(!aTe(t))return!1;var e=sTe(t);return e==lTe||e==cTe||e==oTe||e==uTe}var bO=dTe;const Be=Nt(bO);var fTe=Ka,hTe=fTe["__core-js_shared__"],pTe=hTe,BT=pTe,tV=function(){var t=/[^.]+$/.exec(BT&&BT.keys&&BT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mTe(t){return!!tV&&tV in t}var gTe=mTe,vTe=Function.prototype,yTe=vTe.toString;function xTe(t){if(t!=null){try{return yTe.call(t)}catch{}try{return t+""}catch{}}return""}var QG=xTe,bTe=bO,wTe=gTe,_Te=Cc,STe=QG,ETe=/[\\^$.*+?()[\]{}|]/g,TTe=/^\[object .+?Constructor\]$/,ATe=Function.prototype,jTe=Object.prototype,CTe=ATe.toString,PTe=jTe.hasOwnProperty,kTe=RegExp("^"+CTe.call(PTe).replace(ETe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NTe(t){if(!_Te(t)||wTe(t))return!1;var e=bTe(t)?kTe:TTe;return e.test(STe(t))}var ITe=NTe;function OTe(t,e){return t==null?void 0:t[e]}var RTe=OTe,MTe=ITe,DTe=RTe;function LTe(t,e){var n=DTe(t,e);return MTe(n)?n:void 0}var cd=LTe,$Te=cd,VTe=$Te(Object,"create"),tS=VTe,nV=tS;function FTe(){this.__data__=nV?nV(null):{},this.size=0}var zTe=FTe;function UTe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var BTe=UTe,WTe=tS,HTe="__lodash_hash_undefined__",qTe=Object.prototype,KTe=qTe.hasOwnProperty;function GTe(t){var e=this.__data__;if(WTe){var n=e[t];return n===HTe?void 0:n}return KTe.call(e,t)?e[t]:void 0}var YTe=GTe,XTe=tS,QTe=Object.prototype,ZTe=QTe.hasOwnProperty;function JTe(t){var e=this.__data__;return XTe?e[t]!==void 0:ZTe.call(e,t)}var eAe=JTe,tAe=tS,nAe="__lodash_hash_undefined__";function rAe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tAe&&e===void 0?nAe:e,this}var iAe=rAe,sAe=zTe,aAe=BTe,oAe=YTe,lAe=eAe,cAe=iAe;function dp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dp.prototype.clear=sAe;dp.prototype.delete=aAe;dp.prototype.get=oAe;dp.prototype.has=lAe;dp.prototype.set=cAe;var uAe=dp;function dAe(){this.__data__=[],this.size=0}var fAe=dAe;function hAe(t,e){return t===e||t!==t&&e!==e}var wO=hAe,pAe=wO;function mAe(t,e){for(var n=t.length;n--;)if(pAe(t[n][0],e))return n;return-1}var nS=mAe,gAe=nS,vAe=Array.prototype,yAe=vAe.splice;function xAe(t){var e=this.__data__,n=gAe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yAe.call(e,n,1),--this.size,!0}var bAe=xAe,wAe=nS;function _Ae(t){var e=this.__data__,n=wAe(e,t);return n<0?void 0:e[n][1]}var SAe=_Ae,EAe=nS;function TAe(t){return EAe(this.__data__,t)>-1}var AAe=TAe,jAe=nS;function CAe(t,e){var n=this.__data__,r=jAe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var PAe=CAe,kAe=fAe,NAe=bAe,IAe=SAe,OAe=AAe,RAe=PAe;function fp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fp.prototype.clear=kAe;fp.prototype.delete=NAe;fp.prototype.get=IAe;fp.prototype.has=OAe;fp.prototype.set=RAe;var rS=fp,MAe=cd,DAe=Ka,LAe=MAe(DAe,"Map"),_O=LAe,rV=uAe,$Ae=rS,VAe=_O;function FAe(){this.size=0,this.__data__={hash:new rV,map:new(VAe||$Ae),string:new rV}}var zAe=FAe;function UAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var BAe=UAe,WAe=BAe;function HAe(t,e){var n=t.__data__;return WAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var iS=HAe,qAe=iS;function KAe(t){var e=qAe(this,t).delete(t);return this.size-=e?1:0,e}var GAe=KAe,YAe=iS;function XAe(t){return YAe(this,t).get(t)}var QAe=XAe,ZAe=iS;function JAe(t){return ZAe(this,t).has(t)}var eje=JAe,tje=iS;function nje(t,e){var n=tje(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var rje=nje,ije=zAe,sje=GAe,aje=QAe,oje=eje,lje=rje;function hp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hp.prototype.clear=ije;hp.prototype.delete=sje;hp.prototype.get=aje;hp.prototype.has=oje;hp.prototype.set=lje;var SO=hp,ZG=SO,cje="Expected a function";function EO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cje);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(EO.Cache||ZG),n}EO.Cache=ZG;var JG=EO;const uje=Nt(JG);var dje=JG,fje=500;function hje(t){var e=dje(t,function(r){return n.size===fje&&n.clear(),r}),n=e.cache;return e}var pje=hje,mje=pje,gje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vje=/\\(\\)?/g,yje=mje(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(gje,function(n,r,i,s){e.push(i?s.replace(vje,"$1"):r||n)}),e}),xje=yje;function bje(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var TO=bje,iV=Ay,wje=TO,_je=Ei,Sje=cp,sV=iV?iV.prototype:void 0,aV=sV?sV.toString:void 0;function eY(t){if(typeof t=="string")return t;if(_je(t))return wje(t,eY)+"";if(Sje(t))return aV?aV.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Eje=eY,Tje=Eje;function Aje(t){return t==null?"":Tje(t)}var tY=Aje,jje=Ei,Cje=xO,Pje=xje,kje=tY;function Nje(t,e){return jje(t)?t:Cje(t,e)?[t]:Pje(kje(t))}var nY=Nje,Ije=cp;function Oje(t){if(typeof t=="string"||Ije(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sS=Oje,Rje=nY,Mje=sS;function Dje(t,e){e=Rje(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Mje(e[n++])];return n&&n==r?t:void 0}var AO=Dje,Lje=AO;function $je(t,e,n){var r=t==null?void 0:Lje(t,e);return r===void 0?n:r}var rY=$je;const Hi=Nt(rY);function Vje(t){return t==null}var Fje=Vje;const We=Nt(Fje);var zje=Ko,Uje=Ei,Bje=Go,Wje="[object String]";function Hje(t){return typeof t=="string"||!Uje(t)&&Bje(t)&&zje(t)==Wje}var qje=Hje;const Vu=Nt(qje);var iY={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=Symbol.for("react.element"),CO=Symbol.for("react.portal"),aS=Symbol.for("react.fragment"),oS=Symbol.for("react.strict_mode"),lS=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),Kje=Symbol.for("react.server_context"),dS=Symbol.for("react.forward_ref"),fS=Symbol.for("react.suspense"),hS=Symbol.for("react.suspense_list"),pS=Symbol.for("react.memo"),mS=Symbol.for("react.lazy"),Gje=Symbol.for("react.offscreen"),sY;sY=Symbol.for("react.module.reference");function bs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jO:switch(t=t.type,t){case aS:case lS:case oS:case fS:case hS:return t;default:switch(t=t&&t.$$typeof,t){case Kje:case uS:case dS:case mS:case pS:case cS:return t;default:return e}}case CO:return e}}}Rt.ContextConsumer=uS;Rt.ContextProvider=cS;Rt.Element=jO;Rt.ForwardRef=dS;Rt.Fragment=aS;Rt.Lazy=mS;Rt.Memo=pS;Rt.Portal=CO;Rt.Profiler=lS;Rt.StrictMode=oS;Rt.Suspense=fS;Rt.SuspenseList=hS;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(t){return bs(t)===uS};Rt.isContextProvider=function(t){return bs(t)===cS};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jO};Rt.isForwardRef=function(t){return bs(t)===dS};Rt.isFragment=function(t){return bs(t)===aS};Rt.isLazy=function(t){return bs(t)===mS};Rt.isMemo=function(t){return bs(t)===pS};Rt.isPortal=function(t){return bs(t)===CO};Rt.isProfiler=function(t){return bs(t)===lS};Rt.isStrictMode=function(t){return bs(t)===oS};Rt.isSuspense=function(t){return bs(t)===fS};Rt.isSuspenseList=function(t){return bs(t)===hS};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aS||t===lS||t===oS||t===fS||t===hS||t===Gje||typeof t=="object"&&t!==null&&(t.$$typeof===mS||t.$$typeof===pS||t.$$typeof===cS||t.$$typeof===uS||t.$$typeof===dS||t.$$typeof===sY||t.getModuleId!==void 0)};Rt.typeOf=bs;iY.exports=Rt;var Yje=iY.exports,Xje=Ko,Qje=Go,Zje="[object Number]";function Jje(t){return typeof t=="number"||Qje(t)&&Xje(t)==Zje}var aY=Jje;const eCe=Nt(aY);var tCe=aY;function nCe(t){return tCe(t)&&t!=+t}var rCe=nCe;const pp=Nt(rCe);var qr=function(e){return e===0?0:e>0?1:-1},cu=function(e){return Vu(e)&&e.indexOf("%")===e.length-1},ye=function(e){return eCe(e)&&!pp(e)},qn=function(e){return ye(e)||Vu(e)},iCe=0,Pc=function(e){var n=++iCe;return"".concat(e||"").concat(n)},Kr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(e)&&!Vu(e))return r;var s;if(cu(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return pp(s)&&(s=r),i&&s>n&&(s=n),s},jl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},sCe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},un=function(e,n){return ye(e)&&ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function nw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Hi(r,e))===n})}var aCe=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,s=0,a=0,o=1/0,l=-1/0,u=0,d=0,f=0;f<n;f++)u=e[f].cx||0,d=e[f].cy||0,r+=u,i+=d,s+=u*d,a+=u*u,o=Math.min(o,u),l=Math.max(l,u);var h=n*a!==r*r?(n*s-r*i)/(n*a-r*r):0;return{xmin:o,xmax:l,a:h,b:(i-h*r)/n}},oCe=function(e,n){return ye(e)&&ye(n)?e-n:Vu(e)&&Vu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Sf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function HC(t){"@babel/helpers - typeof";return HC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HC(t)}var lCe=["viewBox","children"],cCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oV=["points","pathLength"],WT={svg:lCe,polygon:oV,polyline:oV},PO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rw=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),!up(r))return null;var i={};return Object.keys(r).forEach(function(s){PO.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},uCe=function(e,n,r){return function(i){return e(n,r,i),null}},vc=function(e,n,r){if(!up(e)||HC(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];PO.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=uCe(a,n,r))}),i},dCe=["children"],fCe=["children"];function lV(t,e){if(t==null)return{};var n=hCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qC(t){"@babel/helpers - typeof";return qC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qC(t)}var cV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uV=null,HT=null,kO=function t(e){if(e===uV&&Array.isArray(HT))return HT;var n=[];return b.Children.forEach(e,function(r){We(r)||(Yje.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),HT=n,uV=e,n};function Qr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return bo(i)}):r=[bo(e)],kO(t).forEach(function(i){var s=Hi(i,"type.displayName")||Hi(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Ni(t,e){var n=Qr(t,e);return n&&n[0]}var dV=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ye(r)||r<=0||!ye(i)||i<=0)},pCe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mCe=function(e){return e&&e.type&&Vu(e.type)&&pCe.indexOf(e.type)>=0},oY=function(e){return e&&qC(e)==="object"&&"clipDot"in e},gCe=function(e,n,r,i){var s,a=(s=WT==null?void 0:WT[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Be(e)&&(i&&a.includes(n)||cCe.includes(n))||r&&PO.includes(n)},De=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!up(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;gCe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},KC=function t(e,n){if(e===n)return!0;var r=b.Children.count(e);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fV(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!fV(s,a))return!1}return!0},fV=function(e,n){if(We(e)&&We(n))return!0;if(!We(e)&&!We(n)){var r=e.props||{},i=r.children,s=lV(r,dCe),a=n.props||{},o=a.children,l=lV(a,fCe);return i&&o?Sf(s,l)&&KC(i,o):!i&&!o?Sf(s,l):!1}return!1},hV=function(e,n){var r=[],i={};return kO(e).forEach(function(s,a){if(mCe(s))r.push(s);else if(s){var o=bo(s.type),l=n[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var f=u(s,o,a);r.push(f),i[o]=!0}}}),r},vCe=function(e){var n=e&&e.type;return n&&cV[n]?cV[n]:null},yCe=function(e,n){return kO(n).indexOf(e)},xCe=["children","width","height","viewBox","className","style","title","desc"];function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GC.apply(this,arguments)}function bCe(t,e){if(t==null)return{};var n=wCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,u=bCe(t,xCe),d=i||{width:n,height:r,x:0,y:0},f=it("recharts-surface",s);return M.createElement("svg",GC({},De(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,o),M.createElement("desc",null,l),e)}var _Ce=["children","className"];function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function SCe(t,e){if(t==null)return{};var n=ECe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ECe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var at=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=SCe(t,_Ce),s=it("recharts-layer",r);return M.createElement("g",XC({className:s},De(i,!0),{ref:e}),n)}),Ws=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function TCe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var ACe=TCe,jCe=ACe;function CCe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:jCe(t,e,n)}var PCe=CCe,kCe="\\ud800-\\udfff",NCe="\\u0300-\\u036f",ICe="\\ufe20-\\ufe2f",OCe="\\u20d0-\\u20ff",RCe=NCe+ICe+OCe,MCe="\\ufe0e\\ufe0f",DCe="\\u200d",LCe=RegExp("["+DCe+kCe+RCe+MCe+"]");function $Ce(t){return LCe.test(t)}var lY=$Ce;function VCe(t){return t.split("")}var FCe=VCe,cY="\\ud800-\\udfff",zCe="\\u0300-\\u036f",UCe="\\ufe20-\\ufe2f",BCe="\\u20d0-\\u20ff",WCe=zCe+UCe+BCe,HCe="\\ufe0e\\ufe0f",qCe="["+cY+"]",QC="["+WCe+"]",ZC="\\ud83c[\\udffb-\\udfff]",KCe="(?:"+QC+"|"+ZC+")",uY="[^"+cY+"]",dY="(?:\\ud83c[\\udde6-\\uddff]){2}",fY="[\\ud800-\\udbff][\\udc00-\\udfff]",GCe="\\u200d",hY=KCe+"?",pY="["+HCe+"]?",YCe="(?:"+GCe+"(?:"+[uY,dY,fY].join("|")+")"+pY+hY+")*",XCe=pY+hY+YCe,QCe="(?:"+[uY+QC+"?",QC,dY,fY,qCe].join("|")+")",ZCe=RegExp(ZC+"(?="+ZC+")|"+QCe+XCe,"g");function JCe(t){return t.match(ZCe)||[]}var ePe=JCe,tPe=FCe,nPe=lY,rPe=ePe;function iPe(t){return nPe(t)?rPe(t):tPe(t)}var sPe=iPe,aPe=PCe,oPe=lY,lPe=sPe,cPe=tY;function uPe(t){return function(e){e=cPe(e);var n=oPe(e)?lPe(e):void 0,r=n?n[0]:e.charAt(0),i=n?aPe(n,1).join(""):e.slice(1);return r[t]()+i}}var dPe=uPe,fPe=dPe,hPe=fPe("toUpperCase"),pPe=hPe;const gS=Nt(pPe);function Wt(t){return function(){return t}}const mY=Math.cos,iw=Math.sin,na=Math.sqrt,sw=Math.PI,vS=2*sw,JC=Math.PI,eP=2*JC,Zc=1e-6,mPe=eP-Zc;function gY(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gPe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gY;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vPe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gY:gPe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,u=i-n,d=a-e,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Zc)if(!(Math.abs(f*l-u*d)>Zc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-o,m=l*l+u*u,v=p*p+g*g,y=Math.sqrt(m),x=Math.sqrt(h),_=s*Math.tan((JC-Math.acos((m+h-v)/(2*y*x)))/2),E=_/x,S=_/y;Math.abs(E-1)>Zc&&this._append`L${e+E*d},${n+E*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,d=n+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Zc||Math.abs(this._y1-d)>Zc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%eP+eP),h>mPe?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Zc&&this._append`A${r},${r},0,${+(h>=JC)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function NO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vPe(e)}function IO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vY(t){this._context=t}vY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yS(t){return new vY(t)}function yY(t){return t[0]}function xY(t){return t[1]}function bY(t,e){var n=Wt(!0),r=null,i=yS,s=null,a=NO(o);t=typeof t=="function"?t:t===void 0?yY:Wt(t),e=typeof e=="function"?e:e===void 0?xY:Wt(e);function o(l){var u,d=(l=IO(l)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,l),+e(f,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function V0(t,e,n){var r=null,i=Wt(!0),s=null,a=yS,o=null,l=NO(u);t=typeof t=="function"?t:t===void 0?yY:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xY:Wt(+n);function u(f){var h,p,g,m=(f=IO(f)).length,v,y=!1,x,_=new Array(m),E=new Array(m);for(s==null&&(o=a(x=l())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(_[g],E[g]);o.lineEnd(),o.areaEnd()}y&&(_[h]=+t(v,h,f),E[h]=+e(v,h,f),o.point(r?+r(v,h,f):_[h],n?+n(v,h,f):E[h]))}if(x)return o=null,x+""||null}function d(){return bY().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Wt(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class wY{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yPe(t){return new wY(t,!0)}function xPe(t){return new wY(t,!1)}const OO={draw(t,e){const n=na(e/sw);t.moveTo(n,0),t.arc(0,0,n,0,vS)}},bPe={draw(t,e){const n=na(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_Y=na(1/3),wPe=_Y*2,_Pe={draw(t,e){const n=na(e/wPe),r=n*_Y;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},SPe={draw(t,e){const n=na(e),r=-n/2;t.rect(r,r,n,n)}},EPe=.8908130915292852,SY=iw(sw/10)/iw(7*sw/10),TPe=iw(vS/10)*SY,APe=-mY(vS/10)*SY,jPe={draw(t,e){const n=na(e*EPe),r=TPe*n,i=APe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=vS*s/5,o=mY(a),l=iw(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},qT=na(3),CPe={draw(t,e){const n=-na(e/(qT*3));t.moveTo(0,n*2),t.lineTo(-qT*n,-n),t.lineTo(qT*n,-n),t.closePath()}},Ji=-.5,es=na(3)/2,tP=1/na(12),PPe=(tP/2+1)*3,kPe={draw(t,e){const n=na(e/PPe),r=n/2,i=n*tP,s=r,a=n*tP+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Ji*r-es*i,es*r+Ji*i),t.lineTo(Ji*s-es*a,es*s+Ji*a),t.lineTo(Ji*o-es*l,es*o+Ji*l),t.lineTo(Ji*r+es*i,Ji*i-es*r),t.lineTo(Ji*s+es*a,Ji*a-es*s),t.lineTo(Ji*o+es*l,Ji*l-es*o),t.closePath()}};function NPe(t,e){let n=null,r=NO(i);t=typeof t=="function"?t:Wt(t||OO),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function aw(){}function ow(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function EY(t){this._context=t}EY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ow(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ow(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IPe(t){return new EY(t)}function TY(t){this._context=t}TY.prototype={areaStart:aw,areaEnd:aw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ow(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OPe(t){return new TY(t)}function AY(t){this._context=t}AY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ow(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RPe(t){return new AY(t)}function jY(t){this._context=t}jY.prototype={areaStart:aw,areaEnd:aw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MPe(t){return new jY(t)}function pV(t){return t<0?-1:1}function mV(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(pV(s)+pV(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function gV(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function KT(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function lw(t){this._context=t}lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:KT(this,this._t0,gV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,KT(this,gV(this,n=mV(this,t,e)),n);break;default:KT(this,this._t0,n=mV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function CY(t){this._context=new PY(t)}(CY.prototype=Object.create(lw.prototype)).point=function(t,e){lw.prototype.point.call(this,e,t)};function PY(t){this._context=t}PY.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function DPe(t){return new lw(t)}function LPe(t){return new CY(t)}function kY(t){this._context=t}kY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=vV(t),i=vV(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function vV(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function $Pe(t){return new kY(t)}function xS(t,e){this._context=t,this._t=e}xS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function VPe(t){return new xS(t,.5)}function FPe(t){return new xS(t,0)}function zPe(t){return new xS(t,1)}function th(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function nP(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function UPe(t,e){return t[e]}function BPe(t){const e=[];return e.key=t,e}function WPe(){var t=Wt([]),e=nP,n=th,r=UPe;function i(s){var a=Array.from(t.apply(this,arguments),BPe),o,l=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(f,a[o].key,u,s)]).data=f;for(o=0,d=IO(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Wt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?nP:typeof s=="function"?s:Wt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??th,i):n},i}function HPe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}th(t,e)}}function qPe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}th(t,e)}}function KPe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=t[e[g]],v=m[r][1]||0,y=m[r-1][1]||0;p+=v-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,th(t,e)}}function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}var GPe=["type","size","sizeType"];function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(this,arguments)}function yV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(r){YPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YPe(t,e,n){return e=XPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XPe(t){var e=QPe(t,"string");return tv(e)=="symbol"?e:e+""}function QPe(t,e){if(tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZPe(t,e){if(t==null)return{};var n=JPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var NY={symbolCircle:OO,symbolCross:bPe,symbolDiamond:_Pe,symbolSquare:SPe,symbolStar:jPe,symbolTriangle:CPe,symbolWye:kPe},eke=Math.PI/180,tke=function(e){var n="symbol".concat(gS(e));return NY[n]||OO},nke=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eke;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rke=function(e,n){NY["symbol".concat(gS(e))]=n},bS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=ZPe(e,GPe),u=xV(xV({},l),{},{type:r,size:s,sizeType:o}),d=function(){var v=tke(r),y=NPe().type(v).size(nke(s,o,r));return y()},f=u.className,h=u.cx,p=u.cy,g=De(u,!0);return h===+h&&p===+p&&s===+s?M.createElement("path",rP({},g,{className:it("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};bS.registerSymbol=rke;function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ike(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ake(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OY(r.key),r)}}function oke(t,e,n){return e&&ake(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lke(t,e,n){return e=cw(e),cke(t,IY()?Reflect.construct(e,n||[],cw(t).constructor):e.apply(t,n))}function cke(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uke(t)}function uke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IY=function(){return!!t})()}function cw(t){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cw(t)}function dke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sP(t,e)}function sP(t,e){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sP(t,e)}function nv(t,e,n){return e=OY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=fke(t,"string");return nh(e)=="symbol"?e:e+""}function fke(t,e){if(nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var As=32,RO=function(t){function e(){return ske(this,e),lke(this,e,arguments)}return dke(e,t),oke(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=As/2,a=As/6,o=As/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:As,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(As,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(As/8,"h").concat(As,"v").concat(As*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=ike({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(bS,{fill:l,cx:s,cy:s,size:As,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:As,height:As},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||l,v=it(nv(nv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Be(p.value)?null:p.value;Ws(!Be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return M.createElement("li",iP({className:v,style:f,key:"legend-item-".concat(g)},vc(r.props,p,g)),M.createElement(YC,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(b.PureComponent);nv(RO,"displayName","Legend");nv(RO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hke=rS;function pke(){this.__data__=new hke,this.size=0}var mke=pke;function gke(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vke=gke;function yke(t){return this.__data__.get(t)}var xke=yke;function bke(t){return this.__data__.has(t)}var wke=bke,_ke=rS,Ske=_O,Eke=SO,Tke=200;function Ake(t,e){var n=this.__data__;if(n instanceof _ke){var r=n.__data__;if(!Ske||r.length<Tke-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Eke(r)}return n.set(t,e),this.size=n.size,this}var jke=Ake,Cke=rS,Pke=mke,kke=vke,Nke=xke,Ike=wke,Oke=jke;function mp(t){var e=this.__data__=new Cke(t);this.size=e.size}mp.prototype.clear=Pke;mp.prototype.delete=kke;mp.prototype.get=Nke;mp.prototype.has=Ike;mp.prototype.set=Oke;var RY=mp,Rke="__lodash_hash_undefined__";function Mke(t){return this.__data__.set(t,Rke),this}var Dke=Mke;function Lke(t){return this.__data__.has(t)}var $ke=Lke,Vke=SO,Fke=Dke,zke=$ke;function uw(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Vke;++e<n;)this.add(t[e])}uw.prototype.add=uw.prototype.push=Fke;uw.prototype.has=zke;var MY=uw;function Uke(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var DY=Uke;function Bke(t,e){return t.has(e)}var LY=Bke,Wke=MY,Hke=DY,qke=LY,Kke=1,Gke=2;function Yke(t,e,n,r,i,s){var a=n&Kke,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&Gke?new Wke:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var g=t[f],m=e[f];if(r)var v=a?r(m,g,f,e,t,s):r(g,m,f,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Hke(e,function(y,x){if(!qke(p,x)&&(g===y||i(g,y,n,r,s)))return p.push(x)})){h=!1;break}}else if(!(g===m||i(g,m,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var $Y=Yke,Xke=Ka,Qke=Xke.Uint8Array,Zke=Qke;function Jke(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var eNe=Jke;function tNe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var MO=tNe,wV=Ay,_V=Zke,nNe=wO,rNe=$Y,iNe=eNe,sNe=MO,aNe=1,oNe=2,lNe="[object Boolean]",cNe="[object Date]",uNe="[object Error]",dNe="[object Map]",fNe="[object Number]",hNe="[object RegExp]",pNe="[object Set]",mNe="[object String]",gNe="[object Symbol]",vNe="[object ArrayBuffer]",yNe="[object DataView]",SV=wV?wV.prototype:void 0,GT=SV?SV.valueOf:void 0;function xNe(t,e,n,r,i,s,a){switch(n){case yNe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vNe:return!(t.byteLength!=e.byteLength||!s(new _V(t),new _V(e)));case lNe:case cNe:case fNe:return nNe(+t,+e);case uNe:return t.name==e.name&&t.message==e.message;case hNe:case mNe:return t==e+"";case dNe:var o=iNe;case pNe:var l=r&aNe;if(o||(o=sNe),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=oNe,a.set(t,e);var d=rNe(o(t),o(e),r,i,s,a);return a.delete(t),d;case gNe:if(GT)return GT.call(t)==GT.call(e)}return!1}var bNe=xNe;function wNe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VY=wNe,_Ne=VY,SNe=Ei;function ENe(t,e,n){var r=e(t);return SNe(t)?r:_Ne(r,n(t))}var TNe=ENe;function ANe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var jNe=ANe;function CNe(){return[]}var PNe=CNe,kNe=jNe,NNe=PNe,INe=Object.prototype,ONe=INe.propertyIsEnumerable,EV=Object.getOwnPropertySymbols,RNe=EV?function(t){return t==null?[]:(t=Object(t),kNe(EV(t),function(e){return ONe.call(t,e)}))}:NNe,MNe=RNe;function DNe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var LNe=DNe,$Ne=Ko,VNe=Go,FNe="[object Arguments]";function zNe(t){return VNe(t)&&$Ne(t)==FNe}var UNe=zNe,TV=UNe,BNe=Go,FY=Object.prototype,WNe=FY.hasOwnProperty,HNe=FY.propertyIsEnumerable,qNe=TV(function(){return arguments}())?TV:function(t){return BNe(t)&&WNe.call(t,"callee")&&!HNe.call(t,"callee")},DO=qNe,dw={exports:{}};function KNe(){return!1}var GNe=KNe;dw.exports;(function(t,e){var n=Ka,r=GNe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(dw,dw.exports);var zY=dw.exports,YNe=9007199254740991,XNe=/^(?:0|[1-9]\d*)$/;function QNe(t,e){var n=typeof t;return e=e??YNe,!!e&&(n=="number"||n!="symbol"&&XNe.test(t))&&t>-1&&t%1==0&&t<e}var LO=QNe,ZNe=9007199254740991;function JNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ZNe}var $O=JNe,eIe=Ko,tIe=$O,nIe=Go,rIe="[object Arguments]",iIe="[object Array]",sIe="[object Boolean]",aIe="[object Date]",oIe="[object Error]",lIe="[object Function]",cIe="[object Map]",uIe="[object Number]",dIe="[object Object]",fIe="[object RegExp]",hIe="[object Set]",pIe="[object String]",mIe="[object WeakMap]",gIe="[object ArrayBuffer]",vIe="[object DataView]",yIe="[object Float32Array]",xIe="[object Float64Array]",bIe="[object Int8Array]",wIe="[object Int16Array]",_Ie="[object Int32Array]",SIe="[object Uint8Array]",EIe="[object Uint8ClampedArray]",TIe="[object Uint16Array]",AIe="[object Uint32Array]",Zt={};Zt[yIe]=Zt[xIe]=Zt[bIe]=Zt[wIe]=Zt[_Ie]=Zt[SIe]=Zt[EIe]=Zt[TIe]=Zt[AIe]=!0;Zt[rIe]=Zt[iIe]=Zt[gIe]=Zt[sIe]=Zt[vIe]=Zt[aIe]=Zt[oIe]=Zt[lIe]=Zt[cIe]=Zt[uIe]=Zt[dIe]=Zt[fIe]=Zt[hIe]=Zt[pIe]=Zt[mIe]=!1;function jIe(t){return nIe(t)&&tIe(t.length)&&!!Zt[eIe(t)]}var CIe=jIe;function PIe(t){return function(e){return t(e)}}var UY=PIe,fw={exports:{}};fw.exports;(function(t,e){var n=YG,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(fw,fw.exports);var kIe=fw.exports,NIe=CIe,IIe=UY,AV=kIe,jV=AV&&AV.isTypedArray,OIe=jV?IIe(jV):NIe,BY=OIe,RIe=LNe,MIe=DO,DIe=Ei,LIe=zY,$Ie=LO,VIe=BY,FIe=Object.prototype,zIe=FIe.hasOwnProperty;function UIe(t,e){var n=DIe(t),r=!n&&MIe(t),i=!n&&!r&&LIe(t),s=!n&&!r&&!i&&VIe(t),a=n||r||i||s,o=a?RIe(t.length,String):[],l=o.length;for(var u in t)(e||zIe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$Ie(u,l)))&&o.push(u);return o}var BIe=UIe,WIe=Object.prototype;function HIe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||WIe;return t===n}var qIe=HIe;function KIe(t,e){return function(n){return t(e(n))}}var WY=KIe,GIe=WY,YIe=GIe(Object.keys,Object),XIe=YIe,QIe=qIe,ZIe=XIe,JIe=Object.prototype,e2e=JIe.hasOwnProperty;function t2e(t){if(!QIe(t))return ZIe(t);var e=[];for(var n in Object(t))e2e.call(t,n)&&n!="constructor"&&e.push(n);return e}var n2e=t2e,r2e=bO,i2e=$O;function s2e(t){return t!=null&&i2e(t.length)&&!r2e(t)}var jy=s2e,a2e=BIe,o2e=n2e,l2e=jy;function c2e(t){return l2e(t)?a2e(t):o2e(t)}var wS=c2e,u2e=TNe,d2e=MNe,f2e=wS;function h2e(t){return u2e(t,f2e,d2e)}var p2e=h2e,CV=p2e,m2e=1,g2e=Object.prototype,v2e=g2e.hasOwnProperty;function y2e(t,e,n,r,i,s){var a=n&m2e,o=CV(t),l=o.length,u=CV(e),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=o[f];if(!(a?h in e:v2e.call(e,h)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=a;++f<l;){h=o[f];var y=t[h],x=e[h];if(r)var _=a?r(x,y,h,e,t,s):r(y,x,h,t,e,s);if(!(_===void 0?y===x||i(y,x,n,r,s):_)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var E=t.constructor,S=e.constructor;E!=S&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var x2e=y2e,b2e=cd,w2e=Ka,_2e=b2e(w2e,"DataView"),S2e=_2e,E2e=cd,T2e=Ka,A2e=E2e(T2e,"Promise"),j2e=A2e,C2e=cd,P2e=Ka,k2e=C2e(P2e,"Set"),HY=k2e,N2e=cd,I2e=Ka,O2e=N2e(I2e,"WeakMap"),R2e=O2e,aP=S2e,oP=_O,lP=j2e,cP=HY,uP=R2e,qY=Ko,gp=QG,PV="[object Map]",M2e="[object Object]",kV="[object Promise]",NV="[object Set]",IV="[object WeakMap]",OV="[object DataView]",D2e=gp(aP),L2e=gp(oP),$2e=gp(lP),V2e=gp(cP),F2e=gp(uP),Jc=qY;(aP&&Jc(new aP(new ArrayBuffer(1)))!=OV||oP&&Jc(new oP)!=PV||lP&&Jc(lP.resolve())!=kV||cP&&Jc(new cP)!=NV||uP&&Jc(new uP)!=IV)&&(Jc=function(t){var e=qY(t),n=e==M2e?t.constructor:void 0,r=n?gp(n):"";if(r)switch(r){case D2e:return OV;case L2e:return PV;case $2e:return kV;case V2e:return NV;case F2e:return IV}return e});var z2e=Jc,YT=RY,U2e=$Y,B2e=bNe,W2e=x2e,RV=z2e,MV=Ei,DV=zY,H2e=BY,q2e=1,LV="[object Arguments]",$V="[object Array]",F0="[object Object]",K2e=Object.prototype,VV=K2e.hasOwnProperty;function G2e(t,e,n,r,i,s){var a=MV(t),o=MV(e),l=a?$V:RV(t),u=o?$V:RV(e);l=l==LV?F0:l,u=u==LV?F0:u;var d=l==F0,f=u==F0,h=l==u;if(h&&DV(t)){if(!DV(e))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new YT),a||H2e(t)?U2e(t,e,n,r,i,s):B2e(t,e,l,n,r,i,s);if(!(n&q2e)){var p=d&&VV.call(t,"__wrapped__"),g=f&&VV.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return s||(s=new YT),i(m,v,n,r,s)}}return h?(s||(s=new YT),W2e(t,e,n,r,i,s)):!1}var Y2e=G2e,X2e=Y2e,FV=Go;function KY(t,e,n,r,i){return t===e?!0:t==null||e==null||!FV(t)&&!FV(e)?t!==t&&e!==e:X2e(t,e,n,r,KY,i)}var VO=KY,Q2e=RY,Z2e=VO,J2e=1,eOe=2;function tOe(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],u=t[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Q2e;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?Z2e(d,u,J2e|eOe,r,f):h))return!1}}return!0}var nOe=tOe,rOe=Cc;function iOe(t){return t===t&&!rOe(t)}var GY=iOe,sOe=GY,aOe=wS;function oOe(t){for(var e=aOe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sOe(i)]}return e}var lOe=oOe;function cOe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var YY=cOe,uOe=nOe,dOe=lOe,fOe=YY;function hOe(t){var e=dOe(t);return e.length==1&&e[0][2]?fOe(e[0][0],e[0][1]):function(n){return n===t||uOe(n,t,e)}}var pOe=hOe;function mOe(t,e){return t!=null&&e in Object(t)}var gOe=mOe,vOe=nY,yOe=DO,xOe=Ei,bOe=LO,wOe=$O,_Oe=sS;function SOe(t,e,n){e=vOe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=_Oe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&wOe(i)&&bOe(a,i)&&(xOe(t)||yOe(t)))}var EOe=SOe,TOe=gOe,AOe=EOe;function jOe(t,e){return t!=null&&AOe(t,e,TOe)}var COe=jOe,POe=VO,kOe=rY,NOe=COe,IOe=xO,OOe=GY,ROe=YY,MOe=sS,DOe=1,LOe=2;function $Oe(t,e){return IOe(t)&&OOe(e)?ROe(MOe(t),e):function(n){var r=kOe(n,t);return r===void 0&&r===e?NOe(n,t):POe(e,r,DOe|LOe)}}var VOe=$Oe;function FOe(t){return t}var vp=FOe;function zOe(t){return function(e){return e==null?void 0:e[t]}}var UOe=zOe,BOe=AO;function WOe(t){return function(e){return BOe(e,t)}}var HOe=WOe,qOe=UOe,KOe=HOe,GOe=xO,YOe=sS;function XOe(t){return GOe(t)?qOe(YOe(t)):KOe(t)}var QOe=XOe,ZOe=pOe,JOe=VOe,eRe=vp,tRe=Ei,nRe=QOe;function rRe(t){return typeof t=="function"?t:t==null?eRe:typeof t=="object"?tRe(t)?JOe(t[0],t[1]):ZOe(t):nRe(t)}var Ga=rRe;function iRe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var XY=iRe;function sRe(t){return t!==t}var aRe=sRe;function oRe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var lRe=oRe,cRe=XY,uRe=aRe,dRe=lRe;function fRe(t,e,n){return e===e?dRe(t,e,n):cRe(t,uRe,n)}var hRe=fRe,pRe=hRe;function mRe(t,e){var n=t==null?0:t.length;return!!n&&pRe(t,e,0)>-1}var gRe=mRe;function vRe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yRe=vRe;function xRe(){}var bRe=xRe,XT=HY,wRe=bRe,_Re=MO,SRe=1/0,ERe=XT&&1/_Re(new XT([,-0]))[1]==SRe?function(t){return new XT(t)}:wRe,TRe=ERe,ARe=MY,jRe=gRe,CRe=yRe,PRe=LY,kRe=TRe,NRe=MO,IRe=200;function ORe(t,e,n){var r=-1,i=jRe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=CRe;else if(s>=IRe){var u=e?null:kRe(t);if(u)return NRe(u);a=!1,i=PRe,l=new ARe}else l=e?[]:o;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),o.push(d)}else i(l,f,n)||(l!==o&&l.push(f),o.push(d))}return o}var RRe=ORe,MRe=Ga,DRe=RRe;function LRe(t,e){return t&&t.length?DRe(t,MRe(e)):[]}var $Re=LRe;const zV=Nt($Re);function QY(t,e,n){return e===!0?zV(t,n):Be(e)?zV(t,e):t}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}var VRe=["ref"];function UV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(n),!0).forEach(function(r){_S(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JY(r.key),r)}}function zRe(t,e,n){return e&&BV(t.prototype,e),n&&BV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function URe(t,e,n){return e=hw(e),BRe(t,ZY()?Reflect.construct(e,n||[],hw(t).constructor):e.apply(t,n))}function BRe(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(t)}function WRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZY(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZY=function(){return!!t})()}function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(t)}function HRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dP(t,e)}function _S(t,e,n){return e=JY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=qRe(t,"string");return rh(e)=="symbol"?e:e+""}function qRe(t,e){if(rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KRe(t,e){if(t==null)return{};var n=GRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YRe(t){return t.value}function XRe(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=KRe(e,VRe);return M.createElement(RO,n)}var WV=1,ec=function(t){function e(){var n;FRe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=URe(this,e,[].concat(i)),_S(n,"lastBoundingBox",{width:-1,height:-1}),n}return HRe(e,t),zRe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>WV||Math.abs(i.height-this.lastBoundingBox.height)>WV)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?eo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return eo(eo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=eo(eo({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},XRe(s,eo(eo({},this.props),{},{payload:QY(d,u,YRe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=eo(eo({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ye(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);_S(ec,"displayName","Legend");_S(ec,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var HV=Ay,QRe=DO,ZRe=Ei,qV=HV?HV.isConcatSpreadable:void 0;function JRe(t){return ZRe(t)||QRe(t)||!!(qV&&t&&t[qV])}var eMe=JRe,tMe=VY,nMe=eMe;function eX(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=nMe),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?eX(o,e-1,n,r,i):tMe(i,o):r||(i[i.length]=o)}return i}var tX=eX;function rMe(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var iMe=rMe,sMe=iMe,aMe=sMe(),oMe=aMe,lMe=oMe,cMe=wS;function uMe(t,e){return t&&lMe(t,e,cMe)}var nX=uMe,dMe=jy;function fMe(t,e){return function(n,r){if(n==null)return n;if(!dMe(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var hMe=fMe,pMe=nX,mMe=hMe,gMe=mMe(pMe),FO=gMe,vMe=FO,yMe=jy;function xMe(t,e){var n=-1,r=yMe(t)?Array(t.length):[];return vMe(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var rX=xMe;function bMe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var wMe=bMe,KV=cp;function _Me(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=KV(t),a=e!==void 0,o=e===null,l=e===e,u=KV(e);if(!o&&!u&&!s&&t>e||s&&a&&l&&!o&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var SMe=_Me,EMe=SMe;function TMe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=EMe(i[r],s[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var AMe=TMe,QT=TO,jMe=AO,CMe=Ga,PMe=rX,kMe=wMe,NMe=UY,IMe=AMe,OMe=vp,RMe=Ei;function MMe(t,e,n){e.length?e=QT(e,function(s){return RMe(s)?function(a){return jMe(a,s.length===1?s[0]:s)}:s}):e=[OMe];var r=-1;e=QT(e,NMe(CMe));var i=PMe(t,function(s,a,o){var l=QT(e,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return kMe(i,function(s,a){return IMe(s,a,n)})}var DMe=MMe;function LMe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var $Me=LMe,VMe=$Me,GV=Math.max;function FMe(t,e,n){return e=GV(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=GV(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),VMe(t,this,o)}}var zMe=FMe;function UMe(t){return function(){return t}}var BMe=UMe,WMe=cd,HMe=function(){try{var t=WMe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iX=HMe,qMe=BMe,YV=iX,KMe=vp,GMe=YV?function(t,e){return YV(t,"toString",{configurable:!0,enumerable:!1,value:qMe(e),writable:!0})}:KMe,YMe=GMe,XMe=800,QMe=16,ZMe=Date.now;function JMe(t){var e=0,n=0;return function(){var r=ZMe(),i=QMe-(r-n);if(n=r,i>0){if(++e>=XMe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eDe=JMe,tDe=YMe,nDe=eDe,rDe=nDe(tDe),iDe=rDe,sDe=vp,aDe=zMe,oDe=iDe;function lDe(t,e){return oDe(aDe(t,e,sDe),t+"")}var cDe=lDe,uDe=wO,dDe=jy,fDe=LO,hDe=Cc;function pDe(t,e,n){if(!hDe(n))return!1;var r=typeof e;return(r=="number"?dDe(n)&&fDe(e,n.length):r=="string"&&e in n)?uDe(n[e],t):!1}var SS=pDe,mDe=tX,gDe=DMe,vDe=cDe,XV=SS,yDe=vDe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&XV(t,e[0],e[1])?e=[]:n>2&&XV(e[0],e[1],e[2])&&(e=[e[0]]),gDe(t,mDe(e,1),[])}),xDe=yDe;const zO=Nt(xDe);function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function fP(){return fP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fP.apply(this,arguments)}function bDe(t,e){return EDe(t)||SDe(t,e)||_De(t,e)||wDe()}function wDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _De(t,e){if(t){if(typeof t=="string")return QV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QV(t,e)}}function QV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function EDe(t){if(Array.isArray(t))return t}function ZV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(n),!0).forEach(function(r){TDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TDe(t,e,n){return e=ADe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ADe(t){var e=jDe(t,"string");return rv(e)=="symbol"?e:e+""}function jDe(t,e){if(rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CDe(t){return Array.isArray(t)&&qn(t[0])&&qn(t[1])?t.join(" ~ "):t}var PDe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,_=function(){if(d&&d.length){var N={padding:0,margin:0},O=(h?zO(d,h):d).map(function(D,V){if(D.type==="none")return null;var U=ZT({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},o),z=D.formatter||f||CDe,L=D.value,F=D.name,W=L,ne=F;if(z&&W!=null&&ne!=null){var Q=z(L,F,D,V,d);if(Array.isArray(Q)){var ie=bDe(Q,2);W=ie[0],ne=ie[1]}else W=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:U},qn(ne)?M.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,qn(ne)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},W),M.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:N},O)}return null},E=ZT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=ZT({margin:0},u),j=!We(m),A=j?m:"",T=it("recharts-default-tooltip",p),C=it("recharts-tooltip-label",g);j&&v&&d!==void 0&&d!==null&&(A=v(m,d));var k=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",fP({className:T,style:E},k),M.createElement("p",{className:C,style:S},M.isValidElement(A)?A:"".concat(A)),_())};function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}function z0(t,e,n){return e=kDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kDe(t){var e=NDe(t,"string");return iv(e)=="symbol"?e:e+""}function NDe(t,e){if(iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yp="recharts-tooltip-wrapper",IDe={visibility:"hidden"};function ODe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return it(Yp,z0(z0(z0(z0({},"".concat(Yp,"-right"),ye(n)&&e&&ye(e.x)&&n>=e.x),"".concat(Yp,"-left"),ye(n)&&e&&ye(e.x)&&n<e.x),"".concat(Yp,"-bottom"),ye(r)&&e&&ye(e.y)&&r>=e.y),"".concat(Yp,"-top"),ye(r)&&e&&ye(e.y)&&r<e.y))}function JV(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&ye(s[r]))return s[r];var d=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=l[r];return h<p?Math.max(f,l[r]):Math.max(d,l[r])}var g=f+o,m=l[r]+u;return g>m?Math.max(d,l[r]):Math.max(f,l[r])}function RDe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function MDe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=JV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=JV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=RDe({translateX:d,translateY:f,useTranslate3d:o})):u=IDe,{cssProperties:u,cssClasses:ODe({translateX:d,translateY:f,coordinate:n})}}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(r){pP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aX(r.key),r)}}function $De(t,e,n){return e&&LDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VDe(t,e,n){return e=pw(e),FDe(t,sX()?Reflect.construct(e,n||[],pw(t).constructor):e.apply(t,n))}function FDe(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zDe(t)}function zDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sX=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(t)}function UDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hP(t,e)}function hP(t,e){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hP(t,e)}function pP(t,e,n){return e=aX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=BDe(t,"string");return ih(e)=="symbol"?e:e+""}function BDe(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nF=1,WDe=function(t){function e(){var n;DDe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=VDe(this,e,[].concat(i)),pP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pP(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return UDe(e,t),$De(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nF||Math.abs(r.height-this.state.lastBoundingBox.height)>nF)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,_=MDe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),E=_.cssClasses,S=_.cssProperties,j=tF(tF({transition:h&&s?"transform ".concat(o,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:E,style:j,ref:function(T){r.wrapperNode=T}},u)}}])}(b.PureComponent),HDe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yo={isSsr:HDe()};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function rF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(n),!0).forEach(function(r){UO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lX(r.key),r)}}function GDe(t,e,n){return e&&KDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YDe(t,e,n){return e=mw(e),XDe(t,oX()?Reflect.construct(e,n||[],mw(t).constructor):e.apply(t,n))}function XDe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QDe(t)}function QDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oX=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mw(t)}function ZDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mP(t,e)}function mP(t,e){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mP(t,e)}function UO(t,e,n){return e=lX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lX(t){var e=JDe(t,"string");return sh(e)=="symbol"?e:e+""}function JDe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eLe(t){return t.dataKey}function tLe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(PDe,e)}var Br=function(t){function e(){return qDe(this,e),YDe(this,e,arguments)}return ZDe(e,t),GDe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=g??[];f&&S.length&&(S=QY(g.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),m,eLe));var j=S.length>0;return M.createElement(WDe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:s,coordinate:d,hasPayload:j,offset:p,position:v,reverseDirection:y,useTranslate3d:x,viewBox:_,wrapperStyle:E},tLe(u,iF(iF({},this.props),{},{payload:S})))}}])}(b.PureComponent);UO(Br,"displayName","Tooltip");UO(Br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nLe=Ka,rLe=function(){return nLe.Date.now()},iLe=rLe,sLe=/\s/;function aLe(t){for(var e=t.length;e--&&sLe.test(t.charAt(e)););return e}var oLe=aLe,lLe=oLe,cLe=/^\s+/;function uLe(t){return t&&t.slice(0,lLe(t)+1).replace(cLe,"")}var dLe=uLe,fLe=dLe,sF=Cc,hLe=cp,aF=NaN,pLe=/^[-+]0x[0-9a-f]+$/i,mLe=/^0b[01]+$/i,gLe=/^0o[0-7]+$/i,vLe=parseInt;function yLe(t){if(typeof t=="number")return t;if(hLe(t))return aF;if(sF(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sF(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=fLe(t);var n=mLe.test(t);return n||gLe.test(t)?vLe(t.slice(2),n?2:8):pLe.test(t)?aF:+t}var cX=yLe,xLe=Cc,JT=iLe,oF=cX,bLe="Expected a function",wLe=Math.max,_Le=Math.min;function SLe(t,e,n){var r,i,s,a,o,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(bLe);e=oF(e)||0,xLe(n)&&(d=!!n.leading,f="maxWait"in n,s=f?wLe(oF(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(j){var A=r,T=i;return r=i=void 0,u=j,a=t.apply(T,A),a}function g(j){return u=j,o=setTimeout(y,e),d?p(j):a}function m(j){var A=j-l,T=j-u,C=e-A;return f?_Le(C,s-T):C}function v(j){var A=j-l,T=j-u;return l===void 0||A>=e||A<0||f&&T>=s}function y(){var j=JT();if(v(j))return x(j);o=setTimeout(y,m(j))}function x(j){return o=void 0,h&&r?p(j):(r=i=void 0,a)}function _(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function E(){return o===void 0?a:x(JT())}function S(){var j=JT(),A=v(j);if(r=arguments,i=this,l=j,A){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),a}return S.cancel=_,S.flush=E,S}var ELe=SLe,TLe=ELe,ALe=Cc,jLe="Expected a function";function CLe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(jLe);return ALe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),TLe(t,e,{leading:r,maxWait:e,trailing:i})}var PLe=CLe;const uX=Nt(PLe);function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function lF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(n),!0).forEach(function(r){kLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kLe(t,e,n){return e=NLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NLe(t){var e=ILe(t,"string");return sv(e)=="symbol"?e:e+""}function ILe(t,e){if(sv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OLe(t,e){return LLe(t)||DLe(t,e)||MLe(t,e)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MLe(t,e){if(t){if(typeof t=="string")return cF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cF(t,e)}}function cF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function LLe(t){if(Array.isArray(t))return t}var fa=b.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,y=t.className,x=t.onResize,_=t.style,E=_===void 0?{}:_,S=b.useRef(null),j=b.useRef();j.current=x,b.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=b.useState({containerWidth:i.width,containerHeight:i.height}),T=OLe(A,2),C=T[0],k=T[1],I=b.useCallback(function(O,D){k(function(V){var U=Math.round(O),z=Math.round(D);return V.containerWidth===U&&V.containerHeight===z?V:{containerWidth:U,containerHeight:z}})},[]);b.useEffect(function(){var O=function(F){var W,ne=F[0].contentRect,Q=ne.width,ie=ne.height;I(Q,ie),(W=j.current)===null||W===void 0||W.call(j,Q,ie)};m>0&&(O=uX(O,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(O),V=S.current.getBoundingClientRect(),U=V.width,z=V.height;return I(U,z),D.observe(S.current),function(){D.disconnect()}},[I,m]);var N=b.useMemo(function(){var O=C.containerWidth,D=C.containerHeight;if(O<0||D<0)return null;Ws(cu(a)||cu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Ws(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=cu(a)?O:a,U=cu(l)?D:l;n&&n>0&&(V?U=V/n:U&&(V=U*n),h&&U>h&&(U=h)),Ws(V>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,U,a,l,d,f,n);var z=!Array.isArray(p)&&bo(p.type).endsWith("Chart");return M.Children.map(p,function(L){return M.isValidElement(L)?b.cloneElement(L,U0({width:V,height:U},z?{style:U0({height:"100%",width:"100%",maxHeight:U,maxWidth:V},L.props.style)}:{})):L})},[n,p,l,h,f,d,C,a]);return M.createElement("div",{id:v?"".concat(v):void 0,className:it("recharts-responsive-container",y),style:U0(U0({},E),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},N)}),Cy=function(e){return null};Cy.displayName="Cell";function av(t){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(t)}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){$Le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Le(t,e,n){return e=VLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VLe(t){var e=FLe(t,"string");return av(e)=="symbol"?e:e+""}function FLe(t,e){if(av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _d={widthCache:{},cacheCount:0},zLe=2e3,ULe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dF="recharts_measurement_span";function BLe(t){var e=gP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Gm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yo.isSsr)return{width:0,height:0};var r=BLe(n),i=JSON.stringify({text:e,copyStyle:r});if(_d.widthCache[i])return _d.widthCache[i];try{var s=document.getElementById(dF);s||(s=document.createElement("span"),s.setAttribute("id",dF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=gP(gP({},ULe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return _d.widthCache[i]=l,++_d.cacheCount>zLe&&(_d.cacheCount=0,_d.widthCache={}),l}catch{return{width:0,height:0}}},WLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}function gw(t,e){return GLe(t)||KLe(t,e)||qLe(t,e)||HLe()}function HLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qLe(t,e){if(t){if(typeof t=="string")return fF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fF(t,e)}}function fF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function GLe(t){if(Array.isArray(t))return t}function YLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QLe(r.key),r)}}function XLe(t,e,n){return e&&hF(t.prototype,e),n&&hF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QLe(t){var e=ZLe(t,"string");return ov(e)=="symbol"?e:e+""}function ZLe(t,e){if(ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t$e=Object.keys(dX),tf="NaN";function n$e(t,e){return t*dX[e]}var B0=function(){function t(e,n){YLe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!JLe.test(n)&&(this.num=NaN,this.unit=""),t$e.includes(n)&&(this.num=n$e(e,n),this.unit="px")}return XLe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=e$e.exec(n))!==null&&r!==void 0?r:[],s=gw(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function fX(t){if(t.includes(tf))return tf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=pF.exec(e))!==null&&n!==void 0?n:[],i=gw(r,4),s=i[1],a=i[2],o=i[3],l=B0.parse(s??""),u=B0.parse(o??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return tf;e=e.replace(pF,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=mF.exec(e))!==null&&f!==void 0?f:[],p=gw(h,4),g=p[1],m=p[2],v=p[3],y=B0.parse(g??""),x=B0.parse(v??""),_=m==="+"?y.add(x):y.subtract(x);if(_.isNaN())return tf;e=e.replace(mF,_.toString())}return e}var gF=/\(([^()]*)\)/;function r$e(t){for(var e=t;e.includes("(");){var n=gF.exec(e),r=gw(n,2),i=r[1];e=e.replace(gF,fX(i))}return e}function i$e(t){var e=t.replace(/\s+/g,"");return e=r$e(e),e=fX(e),e}function s$e(t){try{return i$e(t)}catch{return tf}}function eA(t){var e=s$e(t.slice(5,-1));return e===tf?"":e}var a$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o$e=["dx","dy","angle","className","breakAll"];function vP(){return vP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vP.apply(this,arguments)}function vF(t,e){if(t==null)return{};var n=l$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yF(t,e){return f$e(t)||d$e(t,e)||u$e(t,e)||c$e()}function c$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u$e(t,e){if(t){if(typeof t=="string")return xF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xF(t,e)}}function xF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function f$e(t){if(Array.isArray(t))return t}var hX=/[ \f\n\r\t\v\u2028\u2029]+/,pX=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];We(n)||(r?s=n.toString().split(""):s=n.toString().split(hX));var a=s.map(function(l){return{word:l,width:Gm(l,i).width}}),o=r?0:Gm(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},h$e=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=ye(a),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(U,z){var L=z.word,F=z.width,W=U[U.length-1];if(W&&(i==null||s||W.width+F+r<Number(i)))W.words.push(L),W.width+=F+r;else{var ne={words:[L],width:F};U.push(ne)}return U},[])},p=h(n),g=function(V){return V.reduce(function(U,z){return U.width>z.width?U:z})};if(!d)return p;for(var m="…",v=function(V){var U=f.slice(0,V),z=pX({breakAll:u,style:l,children:U+m}).wordsWithComputedWidth,L=h(z),F=L.length>a||g(L).width>Number(i);return[F,L]},y=0,x=f.length-1,_=0,E;y<=x&&_<=f.length-1;){var S=Math.floor((y+x)/2),j=S-1,A=v(j),T=yF(A,2),C=T[0],k=T[1],I=v(S),N=yF(I,1),O=N[0];if(!C&&!O&&(y=S+1),C&&O&&(x=S-1),!C&&O){E=k;break}_++}return E||p},bF=function(e){var n=We(e)?[]:e.toString().split(hX);return[{words:n}]},p$e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Yo.isSsr){var l,u,d=pX({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return bF(i);return h$e({breakAll:a,children:i,maxLines:o,style:s},l,u,n,r)}return bF(i)},wF="#808080",Fu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,y=v===void 0?wF:v,x=vF(e,a$e),_=b.useMemo(function(){return p$e({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),E=x.dx,S=x.dy,j=x.angle,A=x.className,T=x.breakAll,C=vF(x,o$e);if(!qn(r)||!qn(s))return null;var k=r+(ye(E)?E:0),I=s+(ye(S)?S:0),N;switch(m){case"start":N=eA("calc(".concat(u,")"));break;case"middle":N=eA("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:N=eA("calc(".concat(_.length-1," * -").concat(o,")"));break}var O=[];if(f){var D=_[0].width,V=x.width;O.push("scale(".concat((ye(V)?V/D:1)/D,")"))}return j&&O.push("rotate(".concat(j,", ").concat(k,", ").concat(I,")")),O.length&&(C.transform=O.join(" ")),M.createElement("text",vP({},De(C,!0),{x:k,y:I,className:it("recharts-text",A),textAnchor:p,fill:y.includes("url")?wF:y}),_.map(function(U,z){var L=U.words.join(T?"":" ");return M.createElement("tspan",{x:k,dy:z===0?N:o,key:"".concat(L,"-").concat(z)},L)}))};function tc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function m$e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BO(t){let e,n,r;t.length!==2?(e=tc,n=(o,l)=>tc(t(o),l),r=(o,l)=>t(o)-l):(e=t===tc||t===m$e?t:g$e,n=t,r=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function g$e(){return 0}function mX(t){return t===null?NaN:+t}function*v$e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const y$e=BO(tc),Py=y$e.right;BO(mX).center;class _F extends Map{constructor(e,n=w$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(SF(this,e))}has(e){return super.has(SF(this,e))}set(e,n){return super.set(x$e(this,e),n)}delete(e){return super.delete(b$e(this,e))}}function SF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function x$e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function b$e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function w$e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _$e(t=tc){if(t===tc)return gX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const S$e=Math.sqrt(50),E$e=Math.sqrt(10),T$e=Math.sqrt(2);function vw(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=S$e?10:s>=E$e?5:s>=T$e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?vw(t,e,n*2):[o,l,u]}function yP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?vw(e,t,n):vw(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function xP(t,e,n){return e=+e,t=+t,n=+n,vw(t,e,n)[2]}function bP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xP(e,t,n):xP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function EF(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TF(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vX(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gX:_$e(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));vX(t,e,p,g,i)}const s=t[e];let a=n,o=r;for(Xp(t,n,e),i(t[r],s)>0&&Xp(t,n,r);a<o;){for(Xp(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Xp(t,n,o):(++o,Xp(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Xp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function A$e(t,e,n){if(t=Float64Array.from(v$e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TF(t);if(e>=1)return EF(t);var r,i=(r-1)*e,s=Math.floor(i),a=EF(vX(t,s).subarray(0,s+1)),o=TF(t.subarray(s+1));return a+(o-a)*(i-s)}}function j$e(t,e,n=mX){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function C$e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ws(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wP=Symbol("implicit");function WO(){var t=new _F,e=[],n=[],r=wP;function i(s){let a=t.get(s);if(a===void 0){if(r!==wP)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new _F;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WO(e,n).unknown(r)},ws.apply(i,arguments),i}function lv(){var t=WO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,g=p?i:r,m=p?r:i;s=(m-g)/Math.max(1,h-l+u*2),o&&(s=Math.floor(s)),g+=(m-g-s*(h-l))*d,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var v=C$e(h).map(function(y){return g+s*y});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(o=!!h,f()):o},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return lv(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},ws.apply(f(),arguments)}function yX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yX(e())},t}function Ym(){return yX(lv.apply(null,arguments).paddingInner(1))}function HO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ky(){}var cv=.7,yw=1/cv,Ef="\\s*([+-]?\\d+)\\s*",uv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P$e=/^#([0-9a-f]{3,8})$/,k$e=new RegExp(`^rgb\\(${Ef},${Ef},${Ef}\\)$`),N$e=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),I$e=new RegExp(`^rgba\\(${Ef},${Ef},${Ef},${uv}\\)$`),O$e=new RegExp(`^rgba\\(${Na},${Na},${Na},${uv}\\)$`),R$e=new RegExp(`^hsl\\(${uv},${Na},${Na}\\)$`),M$e=new RegExp(`^hsla\\(${uv},${Na},${Na},${uv}\\)$`),AF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HO(ky,dv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jF,formatHex:jF,formatHex8:D$e,formatHsl:L$e,formatRgb:CF,toString:CF});function jF(){return this.rgb().formatHex()}function D$e(){return this.rgb().formatHex8()}function L$e(){return bX(this).formatHsl()}function CF(){return this.rgb().formatRgb()}function dv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=P$e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PF(e):n===3?new fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?W0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?W0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=k$e.exec(t))?new fi(e[1],e[2],e[3],1):(e=N$e.exec(t))?new fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=I$e.exec(t))?W0(e[1],e[2],e[3],e[4]):(e=O$e.exec(t))?W0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=R$e.exec(t))?IF(e[1],e[2]/100,e[3]/100,1):(e=M$e.exec(t))?IF(e[1],e[2]/100,e[3]/100,e[4]):AF.hasOwnProperty(t)?PF(AF[t]):t==="transparent"?new fi(NaN,NaN,NaN,0):null}function PF(t){return new fi(t>>16&255,t>>8&255,t&255,1)}function W0(t,e,n,r){return r<=0&&(t=e=n=NaN),new fi(t,e,n,r)}function $$e(t){return t instanceof ky||(t=dv(t)),t?(t=t.rgb(),new fi(t.r,t.g,t.b,t.opacity)):new fi}function _P(t,e,n,r){return arguments.length===1?$$e(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}HO(fi,_P,xX(ky,{brighter(t){return t=t==null?yw:Math.pow(yw,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cv:Math.pow(cv,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi(bu(this.r),bu(this.g),bu(this.b),xw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kF,formatHex:kF,formatHex8:V$e,formatRgb:NF,toString:NF}));function kF(){return`#${uu(this.r)}${uu(this.g)}${uu(this.b)}`}function V$e(){return`#${uu(this.r)}${uu(this.g)}${uu(this.b)}${uu((isNaN(this.opacity)?1:this.opacity)*255)}`}function NF(){const t=xw(this.opacity);return`${t===1?"rgb(":"rgba("}${bu(this.r)}, ${bu(this.g)}, ${bu(this.b)}${t===1?")":`, ${t})`}`}function xw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function uu(t){return t=bu(t),(t<16?"0":"")+t.toString(16)}function IF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ms(t,e,n,r)}function bX(t){if(t instanceof Ms)return new Ms(t.h,t.s,t.l,t.opacity);if(t instanceof ky||(t=dv(t)),!t)return new Ms;if(t instanceof Ms)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ms(a,o,l,t.opacity)}function F$e(t,e,n,r){return arguments.length===1?bX(t):new Ms(t,e,n,r??1)}function Ms(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}HO(Ms,F$e,xX(ky,{brighter(t){return t=t==null?yw:Math.pow(yw,t),new Ms(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cv:Math.pow(cv,t),new Ms(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fi(tA(t>=240?t-240:t+120,i,r),tA(t,i,r),tA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ms(OF(this.h),H0(this.s),H0(this.l),xw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xw(this.opacity);return`${t===1?"hsl(":"hsla("}${OF(this.h)}, ${H0(this.s)*100}%, ${H0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OF(t){return t=(t||0)%360,t<0?t+360:t}function H0(t){return Math.max(0,Math.min(1,t||0))}function tA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qO=t=>()=>t;function z$e(t,e){return function(n){return t+n*e}}function U$e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function B$e(t){return(t=+t)==1?wX:function(e,n){return n-e?U$e(e,n,t):qO(isNaN(e)?n:e)}}function wX(t,e){var n=e-t;return n?z$e(t,n):qO(isNaN(t)?e:t)}const RF=function t(e){var n=B$e(e);function r(i,s){var a=n((i=_P(i)).r,(s=_P(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=wX(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function W$e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function H$e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function q$e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=yp(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function K$e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function G$e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yp(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var SP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nA=new RegExp(SP.source,"g");function Y$e(t){return function(){return t}}function X$e(t){return function(e){return t(e)+""}}function Q$e(t,e){var n=SP.lastIndex=nA.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=SP.exec(t))&&(i=nA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:bw(r,i)})),n=nA.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?X$e(l[0].x):Y$e(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function yp(t,e){var n=typeof e,r;return e==null||n==="boolean"?qO(e):(n==="number"?bw:n==="string"?(r=dv(e))?(e=r,RF):Q$e:e instanceof dv?RF:e instanceof Date?K$e:H$e(e)?W$e:Array.isArray(e)?q$e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?G$e:bw)(t,e)}function KO(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Z$e(t,e){e===void 0&&(e=t,t=yp);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function J$e(t){return function(){return t}}function ww(t){return+t}var MF=[0,1];function Gr(t){return t}function EP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:J$e(isNaN(e)?NaN:.5)}function e4e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function t4e(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=EP(i,r),s=n(a,s)):(r=EP(r,i),s=n(s,a)),function(o){return s(r(o))}}function n4e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=EP(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Py(t,o,1,r)-1;return s[l](i[l](o))}}function Ny(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ES(){var t=MF,e=MF,n=yp,r,i,s,a=Gr,o,l,u;function d(){var h=Math.min(t.length,e.length);return a!==Gr&&(a=e4e(t[0],t[h-1])),o=h>2?n4e:t4e,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=o(e,t.map(r),bw)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ww),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=KO,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Gr,d()):a!==Gr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,d()}}function GO(){return ES()(Gr,Gr)}function r4e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _w(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ah(t){return t=_w(Math.abs(t)),t?t[1]:NaN}function i4e(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function s4e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var a4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fv(t){if(!(e=a4e.exec(t)))throw new Error("invalid format: "+t);var e;return new YO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fv.prototype=YO.prototype;function YO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}YO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function o4e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _X;function l4e(t,e){var n=_w(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(_X=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+_w(t,Math.max(0,e+s-1))[0]}function DF(t,e){var n=_w(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const LF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:r4e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>DF(t*100,e),r:DF,s:l4e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $F(t){return t}var VF=Array.prototype.map,FF=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function c4e(t){var e=t.grouping===void 0||t.thousands===void 0?$F:i4e(VF.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$F:s4e(VF.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=fv(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,x=f.comma,_=f.precision,E=f.trim,S=f.type;S==="n"?(x=!0,S="g"):LF[S]||(_===void 0&&(_=12),E=!0,S="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var j=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=m==="$"?r:/[%p]/.test(S)?a:"",T=LF[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function k(I){var N=j,O=A,D,V,U;if(S==="c")O=T(I)+O,I="";else{I=+I;var z=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),_),E&&(I=o4e(I)),z&&+I==0&&g!=="+"&&(z=!1),N=(z?g==="("?g:o:g==="-"||g==="("?"":g)+N,O=(S==="s"?FF[8+_X/3]:"")+O+(z&&g==="("?")":""),C){for(D=-1,V=I.length;++D<V;)if(U=I.charCodeAt(D),48>U||U>57){O=(U===46?i+I.slice(D+1):I.slice(D))+O,I=I.slice(0,D);break}}}x&&!v&&(I=e(I,1/0));var L=N.length+I.length+O.length,F=L<y?new Array(y-L+1).join(h):"";switch(x&&v&&(I=e(F+I,F.length?y-O.length:1/0),F=""),p){case"<":I=N+I+O+F;break;case"=":I=N+F+I+O;break;case"^":I=F.slice(0,L=F.length>>1)+N+I+O+F.slice(L);break;default:I=F+N+I+O;break}return s(I)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=fv(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(ah(h)/3)))*3,m=Math.pow(10,-g),v=FF[8+g/3];return function(y){return p(m*y)+v}}return{format:u,formatPrefix:d}}var q0,XO,SX;u4e({thousands:",",grouping:[3],currency:["$",""]});function u4e(t){return q0=c4e(t),XO=q0.format,SX=q0.formatPrefix,q0}function d4e(t){return Math.max(0,-ah(Math.abs(t)))}function f4e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ah(e)/3)))*3-ah(Math.abs(t)))}function h4e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ah(e)-ah(t))+1}function EX(t,e,n,r){var i=bP(t,e,n),s;switch(r=fv(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=f4e(i,a))&&(r.precision=s),SX(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=h4e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=d4e(i))&&(r.precision=s-(r.type==="%")*2);break}}return XO(r)}function kc(t){var e=t.domain;return t.ticks=function(n){var r=e();return yP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return EX(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=xP(a,o,n),u===l)return r[i]=a,r[s]=o,e(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Sw(){var t=GO();return t.copy=function(){return Ny(t,Sw())},ws.apply(t,arguments),kc(t)}function TX(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ww),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return TX(t).unknown(e)},t=arguments.length?Array.from(t,ww):[0,1],kc(n)}function AX(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function zF(t){return Math.log(t)}function UF(t){return Math.exp(t)}function p4e(t){return-Math.log(-t)}function m4e(t){return-Math.exp(-t)}function g4e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function v4e(t){return t===10?g4e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function y4e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function BF(t){return(e,n)=>-t(-e,n)}function QO(t){const e=t(zF,UF),n=e.domain;let r=10,i,s;function a(){return i=y4e(r),s=v4e(r),n()[0]<0?(i=BF(i),s=BF(s),t(p4e,m4e)):t(zF,UF),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,m;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<v&&(y=yP(u,d,v))}else y=yP(h,p,Math.min(p-h,v)).map(s);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=fv(l)).precision==null&&(l.trim=!0),l=XO(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(AX(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function jX(){const t=QO(ES()).domain([1,10]);return t.copy=()=>Ny(t,jX()).base(t.base()),ws.apply(t,arguments),t}function WF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function HF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ZO(t){var e=1,n=t(WF(e),HF(e));return n.constant=function(r){return arguments.length?t(WF(e=+r),HF(e)):e},kc(n)}function CX(){var t=ZO(ES());return t.copy=function(){return Ny(t,CX()).constant(t.constant())},ws.apply(t,arguments)}function qF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function x4e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function b4e(t){return t<0?-t*t:t*t}function JO(t){var e=t(Gr,Gr),n=1;function r(){return n===1?t(Gr,Gr):n===.5?t(x4e,b4e):t(qF(n),qF(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},kc(e)}function eR(){var t=JO(ES());return t.copy=function(){return Ny(t,eR()).exponent(t.exponent())},ws.apply(t,arguments),t}function w4e(){return eR.apply(null,arguments).exponent(.5)}function KF(t){return Math.sign(t)*t*t}function _4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function PX(){var t=GO(),e=[0,1],n=!1,r;function i(s){var a=_4e(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(KF(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ww)).map(KF)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return PX(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ws.apply(i,arguments),kc(i)}function kX(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=j$e(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Py(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(tc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return kX().domain(t).range(e).unknown(r)},ws.apply(s,arguments)}function NX(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Py(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return NX().domain([t,e]).range(i).unknown(s)},ws.apply(kc(a),arguments)}function IX(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Py(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return IX().domain(t).range(e).unknown(n)},ws.apply(i,arguments)}const rA=new Date,iA=new Date;function Yn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>Yn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(rA.setTime(+s),iA.setTime(+a),t(rA),t(iA),Math.floor(n(rA,iA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Ew=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ew.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ew);Ew.range;const fo=1e3,os=fo*60,ho=os*60,Lo=ho*24,tR=Lo*7,GF=Lo*30,sA=Lo*365,du=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fo)},(t,e)=>(e-t)/fo,t=>t.getUTCSeconds());du.range;const nR=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fo)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getMinutes());nR.range;const rR=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCMinutes());rR.range;const iR=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fo-t.getMinutes()*os)},(t,e)=>{t.setTime(+t+e*ho)},(t,e)=>(e-t)/ho,t=>t.getHours());iR.range;const sR=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ho)},(t,e)=>(e-t)/ho,t=>t.getUTCHours());sR.range;const Iy=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*os)/Lo,t=>t.getDate()-1);Iy.range;const TS=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lo,t=>t.getUTCDate()-1);TS.range;const OX=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lo,t=>Math.floor(t/Lo));OX.range;function ud(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*os)/tR)}const AS=ud(0),Tw=ud(1),S4e=ud(2),E4e=ud(3),oh=ud(4),T4e=ud(5),A4e=ud(6);AS.range;Tw.range;S4e.range;E4e.range;oh.range;T4e.range;A4e.range;function dd(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/tR)}const jS=dd(0),Aw=dd(1),j4e=dd(2),C4e=dd(3),lh=dd(4),P4e=dd(5),k4e=dd(6);jS.range;Aw.range;j4e.range;C4e.range;lh.range;P4e.range;k4e.range;const aR=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());aR.range;const oR=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());oR.range;const $o=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$o.range;const Vo=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vo.range;function RX(t,e,n,r,i,s){const a=[[du,1,fo],[du,5,5*fo],[du,15,15*fo],[du,30,30*fo],[s,1,os],[s,5,5*os],[s,15,15*os],[s,30,30*os],[i,1,ho],[i,3,3*ho],[i,6,6*ho],[i,12,12*ho],[r,1,Lo],[r,2,2*Lo],[n,1,tR],[e,1,GF],[e,3,3*GF],[t,1,sA]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function l(u,d,f){const h=Math.abs(d-u)/f,p=BO(([,,v])=>v).right(a,h);if(p===a.length)return t.every(bP(u/sA,d/sA,f));if(p===0)return Ew.every(Math.max(bP(u,d,f),1));const[g,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(m)}return[o,l]}const[N4e,I4e]=RX(Vo,oR,jS,OX,sR,rR),[O4e,R4e]=RX($o,aR,AS,Iy,iR,nR);function aA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function M4e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Zp(i),d=Jp(i),f=Zp(s),h=Jp(s),p=Zp(a),g=Jp(a),m=Zp(o),v=Jp(o),y=Zp(l),x=Jp(l),_={a:z,A:L,b:F,B:W,c:null,d:e3,e:e3,f:i5e,g:p5e,G:g5e,H:t5e,I:n5e,j:r5e,L:MX,m:s5e,M:a5e,p:ne,q:Q,Q:r3,s:i3,S:o5e,u:l5e,U:c5e,V:u5e,w:d5e,W:f5e,x:null,X:null,y:h5e,Y:m5e,Z:v5e,"%":n3},E={a:ie,A:xe,b:Pe,B:he,c:null,d:t3,e:t3,f:w5e,g:N5e,G:O5e,H:y5e,I:x5e,j:b5e,L:LX,m:_5e,M:S5e,p:q,q:oe,Q:r3,s:i3,S:E5e,u:T5e,U:A5e,V:j5e,w:C5e,W:P5e,x:null,X:null,y:k5e,Y:I5e,Z:R5e,"%":n3},S={a:k,A:I,b:N,B:O,c:D,d:ZF,e:ZF,f:Q4e,g:QF,G:XF,H:JF,I:JF,j:K4e,L:X4e,m:q4e,M:G4e,p:C,q:H4e,Q:J4e,s:e5e,S:Y4e,u:F4e,U:z4e,V:U4e,w:V4e,W:B4e,x:V,X:U,y:QF,Y:XF,Z:W4e,"%":Z4e};_.x=j(n,_),_.X=j(r,_),_.c=j(e,_),E.x=j(n,E),E.X=j(r,E),E.c=j(e,E);function j(Z,J){return function(ee){var H=[],Ae=-1,je=0,$e=Z.length,de,Ve,bt;for(ee instanceof Date||(ee=new Date(+ee));++Ae<$e;)Z.charCodeAt(Ae)===37&&(H.push(Z.slice(je,Ae)),(Ve=YF[de=Z.charAt(++Ae)])!=null?de=Z.charAt(++Ae):Ve=de==="e"?" ":"0",(bt=J[de])&&(de=bt(ee,Ve)),H.push(de),je=Ae+1);return H.push(Z.slice(je,Ae)),H.join("")}}function A(Z,J){return function(ee){var H=Qp(1900,void 0,1),Ae=T(H,Z,ee+="",0),je,$e;if(Ae!=ee.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(J&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(je=oA(Qp(H.y,0,1)),$e=je.getUTCDay(),je=$e>4||$e===0?Aw.ceil(je):Aw(je),je=TS.offset(je,(H.V-1)*7),H.y=je.getUTCFullYear(),H.m=je.getUTCMonth(),H.d=je.getUTCDate()+(H.w+6)%7):(je=aA(Qp(H.y,0,1)),$e=je.getDay(),je=$e>4||$e===0?Tw.ceil(je):Tw(je),je=Iy.offset(je,(H.V-1)*7),H.y=je.getFullYear(),H.m=je.getMonth(),H.d=je.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),$e="Z"in H?oA(Qp(H.y,0,1)).getUTCDay():aA(Qp(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-($e+5)%7:H.w+H.U*7-($e+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,oA(H)):aA(H)}}function T(Z,J,ee,H){for(var Ae=0,je=J.length,$e=ee.length,de,Ve;Ae<je;){if(H>=$e)return-1;if(de=J.charCodeAt(Ae++),de===37){if(de=J.charAt(Ae++),Ve=S[de in YF?J.charAt(Ae++):de],!Ve||(H=Ve(Z,ee,H))<0)return-1}else if(de!=ee.charCodeAt(H++))return-1}return H}function C(Z,J,ee){var H=u.exec(J.slice(ee));return H?(Z.p=d.get(H[0].toLowerCase()),ee+H[0].length):-1}function k(Z,J,ee){var H=p.exec(J.slice(ee));return H?(Z.w=g.get(H[0].toLowerCase()),ee+H[0].length):-1}function I(Z,J,ee){var H=f.exec(J.slice(ee));return H?(Z.w=h.get(H[0].toLowerCase()),ee+H[0].length):-1}function N(Z,J,ee){var H=y.exec(J.slice(ee));return H?(Z.m=x.get(H[0].toLowerCase()),ee+H[0].length):-1}function O(Z,J,ee){var H=m.exec(J.slice(ee));return H?(Z.m=v.get(H[0].toLowerCase()),ee+H[0].length):-1}function D(Z,J,ee){return T(Z,e,J,ee)}function V(Z,J,ee){return T(Z,n,J,ee)}function U(Z,J,ee){return T(Z,r,J,ee)}function z(Z){return a[Z.getDay()]}function L(Z){return s[Z.getDay()]}function F(Z){return l[Z.getMonth()]}function W(Z){return o[Z.getMonth()]}function ne(Z){return i[+(Z.getHours()>=12)]}function Q(Z){return 1+~~(Z.getMonth()/3)}function ie(Z){return a[Z.getUTCDay()]}function xe(Z){return s[Z.getUTCDay()]}function Pe(Z){return l[Z.getUTCMonth()]}function he(Z){return o[Z.getUTCMonth()]}function q(Z){return i[+(Z.getUTCHours()>=12)]}function oe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var J=j(Z+="",_);return J.toString=function(){return Z},J},parse:function(Z){var J=A(Z+="",!1);return J.toString=function(){return Z},J},utcFormat:function(Z){var J=j(Z+="",E);return J.toString=function(){return Z},J},utcParse:function(Z){var J=A(Z+="",!0);return J.toString=function(){return Z},J}}}var YF={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,D4e=/^%/,L4e=/[\\^$*+?|[\]().{}]/g;function At(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function $4e(t){return t.replace(L4e,"\\$&")}function Zp(t){return new RegExp("^(?:"+t.map($4e).join("|")+")","i")}function Jp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function V4e(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function F4e(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function z4e(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function U4e(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function B4e(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function XF(t,e,n){var r=rr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function QF(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function W4e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function H4e(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function q4e(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ZF(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function K4e(t,e,n){var r=rr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function JF(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function G4e(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Y4e(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function X4e(t,e,n){var r=rr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Q4e(t,e,n){var r=rr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Z4e(t,e,n){var r=D4e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function J4e(t,e,n){var r=rr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function e5e(t,e,n){var r=rr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function e3(t,e){return At(t.getDate(),e,2)}function t5e(t,e){return At(t.getHours(),e,2)}function n5e(t,e){return At(t.getHours()%12||12,e,2)}function r5e(t,e){return At(1+Iy.count($o(t),t),e,3)}function MX(t,e){return At(t.getMilliseconds(),e,3)}function i5e(t,e){return MX(t,e)+"000"}function s5e(t,e){return At(t.getMonth()+1,e,2)}function a5e(t,e){return At(t.getMinutes(),e,2)}function o5e(t,e){return At(t.getSeconds(),e,2)}function l5e(t){var e=t.getDay();return e===0?7:e}function c5e(t,e){return At(AS.count($o(t)-1,t),e,2)}function DX(t){var e=t.getDay();return e>=4||e===0?oh(t):oh.ceil(t)}function u5e(t,e){return t=DX(t),At(oh.count($o(t),t)+($o(t).getDay()===4),e,2)}function d5e(t){return t.getDay()}function f5e(t,e){return At(Tw.count($o(t)-1,t),e,2)}function h5e(t,e){return At(t.getFullYear()%100,e,2)}function p5e(t,e){return t=DX(t),At(t.getFullYear()%100,e,2)}function m5e(t,e){return At(t.getFullYear()%1e4,e,4)}function g5e(t,e){var n=t.getDay();return t=n>=4||n===0?oh(t):oh.ceil(t),At(t.getFullYear()%1e4,e,4)}function v5e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+At(e/60|0,"0",2)+At(e%60,"0",2)}function t3(t,e){return At(t.getUTCDate(),e,2)}function y5e(t,e){return At(t.getUTCHours(),e,2)}function x5e(t,e){return At(t.getUTCHours()%12||12,e,2)}function b5e(t,e){return At(1+TS.count(Vo(t),t),e,3)}function LX(t,e){return At(t.getUTCMilliseconds(),e,3)}function w5e(t,e){return LX(t,e)+"000"}function _5e(t,e){return At(t.getUTCMonth()+1,e,2)}function S5e(t,e){return At(t.getUTCMinutes(),e,2)}function E5e(t,e){return At(t.getUTCSeconds(),e,2)}function T5e(t){var e=t.getUTCDay();return e===0?7:e}function A5e(t,e){return At(jS.count(Vo(t)-1,t),e,2)}function $X(t){var e=t.getUTCDay();return e>=4||e===0?lh(t):lh.ceil(t)}function j5e(t,e){return t=$X(t),At(lh.count(Vo(t),t)+(Vo(t).getUTCDay()===4),e,2)}function C5e(t){return t.getUTCDay()}function P5e(t,e){return At(Aw.count(Vo(t)-1,t),e,2)}function k5e(t,e){return At(t.getUTCFullYear()%100,e,2)}function N5e(t,e){return t=$X(t),At(t.getUTCFullYear()%100,e,2)}function I5e(t,e){return At(t.getUTCFullYear()%1e4,e,4)}function O5e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?lh(t):lh.ceil(t),At(t.getUTCFullYear()%1e4,e,4)}function R5e(){return"+0000"}function n3(){return"%"}function r3(t){return+t}function i3(t){return Math.floor(+t/1e3)}var Sd,VX,FX;M5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M5e(t){return Sd=M4e(t),VX=Sd.format,Sd.parse,FX=Sd.utcFormat,Sd.utcParse,Sd}function D5e(t){return new Date(t)}function L5e(t){return t instanceof Date?+t:+new Date(+t)}function lR(t,e,n,r,i,s,a,o,l,u){var d=GO(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),_=u("%B"),E=u("%Y");function S(j){return(l(j)<j?p:o(j)<j?g:a(j)<j?m:s(j)<j?v:r(j)<j?i(j)<j?y:x:n(j)<j?_:E)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,L5e)):h().map(D5e)},d.ticks=function(j){var A=h();return t(A[0],A[A.length-1],j??10)},d.tickFormat=function(j,A){return A==null?S:u(A)},d.nice=function(j){var A=h();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?h(AX(A,j)):d},d.copy=function(){return Ny(d,lR(t,e,n,r,i,s,a,o,l,u))},d}function $5e(){return ws.apply(lR(O4e,R4e,$o,aR,AS,Iy,iR,nR,du,VX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V5e(){return ws.apply(lR(N4e,I4e,Vo,oR,jS,TS,sR,rR,du,FX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function CS(){var t=0,e=1,n,r,i,s,a=Gr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,a=f(p,g),u):[a(0),a(1)]}}return u.range=d(yp),u.rangeRound=d(KO),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Nc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zX(){var t=kc(CS()(Gr));return t.copy=function(){return Nc(t,zX())},Xo.apply(t,arguments)}function UX(){var t=QO(CS()).domain([1,10]);return t.copy=function(){return Nc(t,UX()).base(t.base())},Xo.apply(t,arguments)}function BX(){var t=ZO(CS());return t.copy=function(){return Nc(t,BX()).constant(t.constant())},Xo.apply(t,arguments)}function cR(){var t=JO(CS());return t.copy=function(){return Nc(t,cR()).exponent(t.exponent())},Xo.apply(t,arguments)}function F5e(){return cR.apply(null,arguments).exponent(.5)}function WX(){var t=[],e=Gr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Py(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(tc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>A$e(t,s/r))},n.copy=function(){return WX(e).domain(t)},Xo.apply(n,arguments)}function PS(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,u=Gr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(r*m<r*s?o:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var y,x,_;return arguments.length?([y,x,_]=v,u=Z$e(m,[y,x,_]),p):[u(0),u(.5),u(1)]}}return p.range=g(yp),p.rangeRound=g(KO),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(t),s=m(e),a=m(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function HX(){var t=kc(PS()(Gr));return t.copy=function(){return Nc(t,HX())},Xo.apply(t,arguments)}function qX(){var t=QO(PS()).domain([.1,1,10]);return t.copy=function(){return Nc(t,qX()).base(t.base())},Xo.apply(t,arguments)}function KX(){var t=ZO(PS());return t.copy=function(){return Nc(t,KX()).constant(t.constant())},Xo.apply(t,arguments)}function uR(){var t=JO(PS());return t.copy=function(){return Nc(t,uR()).exponent(t.exponent())},Xo.apply(t,arguments)}function z5e(){return uR.apply(null,arguments).exponent(.5)}const s3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lv,scaleDiverging:HX,scaleDivergingLog:qX,scaleDivergingPow:uR,scaleDivergingSqrt:z5e,scaleDivergingSymlog:KX,scaleIdentity:TX,scaleImplicit:wP,scaleLinear:Sw,scaleLog:jX,scaleOrdinal:WO,scalePoint:Ym,scalePow:eR,scaleQuantile:kX,scaleQuantize:NX,scaleRadial:PX,scaleSequential:zX,scaleSequentialLog:UX,scaleSequentialPow:cR,scaleSequentialQuantile:WX,scaleSequentialSqrt:F5e,scaleSequentialSymlog:BX,scaleSqrt:w4e,scaleSymlog:CX,scaleThreshold:IX,scaleTime:$5e,scaleUtc:V5e,tickFormat:EX},Symbol.toStringTag,{value:"Module"}));var U5e=cp;function B5e(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!U5e(a):n(a,o)))var o=a,l=s}return l}var kS=B5e;function W5e(t,e){return t>e}var GX=W5e,H5e=kS,q5e=GX,K5e=vp;function G5e(t){return t&&t.length?H5e(t,K5e,q5e):void 0}var Y5e=G5e;const Ol=Nt(Y5e);function X5e(t,e){return t<e}var YX=X5e,Q5e=kS,Z5e=YX,J5e=vp;function eVe(t){return t&&t.length?Q5e(t,J5e,Z5e):void 0}var tVe=eVe;const NS=Nt(tVe);var nVe=TO,rVe=Ga,iVe=rX,sVe=Ei;function aVe(t,e){var n=sVe(t)?nVe:iVe;return n(t,rVe(e))}var oVe=aVe,lVe=tX,cVe=oVe;function uVe(t,e){return lVe(cVe(t,e),1)}var dVe=uVe;const fVe=Nt(dVe);var hVe=VO;function pVe(t,e){return hVe(t,e)}var mVe=pVe;const yc=Nt(mVe);var xp=1e9,gVe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fR,on=!0,gs="[DecimalError] ",wu=gs+"Invalid argument: ",dR=gs+"Exponent out of range: ",bp=Math.floor,eu=Math.pow,vVe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mi,Qn=1e7,Jt=7,XX=9007199254740991,jw=bp(XX/Jt),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Re.comparedTo=Re.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(t){return wo(this,new this.constructor(t))};Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,n=e.constructor;return Ft(wo(e,new n(t),0,1),n.precision)};Re.equals=Re.eq=function(t){return!this.cmp(t)};Re.exponent=function(){return Vn(this)};Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0};Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(t){return this.cmp(t)<0};Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1};Re.logarithm=Re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Mi))throw Error(gs+"NaN");if(n.s<1)throw Error(gs+(n.s?"NaN":"-Infinity"));return n.eq(Mi)?new r(0):(on=!1,e=wo(hv(n,s),hv(t,s),s),on=!0,Ft(e,i))};Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JX(e,t):QX(e,(t.s=-t.s,t))};Re.modulo=Re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gs+"NaN");return n.s?(on=!1,e=wo(n,t,0,1).times(t),on=!0,n.minus(e)):Ft(new r(n),i)};Re.naturalExponential=Re.exp=function(){return ZX(this)};Re.naturalLogarithm=Re.ln=function(){return hv(this)};Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QX(e,t):JX(e,(t.s=-t.s,t))};Re.precision=Re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wu+t);if(e=Vn(i)+1,r=i.d.length-1,n=r*Jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Re.squareRoot=Re.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(gs+"NaN")}for(t=Vn(o),on=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ga(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(wo(o,s,a+2)).times(.5),ga(s.d).slice(0,a)===(e=ga(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ft(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return on=!0,Ft(r,n)};Re.times=Re.mul=function(t){var e,n,r,i,s,a,o,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=p.length,l<u&&(s=h,h=p,p=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*h[i-r-1]+e,s[i--]=o%Qn|0,e=o/Qn|0;s[i]=(s[i]+e)%Qn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,on?Ft(t,f.precision):t};Re.toDecimalPlaces=Re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:($a(t,0,xp),e===void 0?e=r.rounding:$a(e,0,8),Ft(n,t+Vn(n)+1,e))};Re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zu(r,!0):($a(t,0,xp),e===void 0?e=i.rounding:$a(e,0,8),r=Ft(new i(r),t+1,e),n=zu(r,!0,t+1)),n};Re.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?zu(i):($a(t,0,xp),e===void 0?e=s.rounding:$a(e,0,8),r=Ft(new s(i),t+Vn(i)+1,e),n=zu(r.abs(),!1,t+Vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return Ft(new e(t),Vn(t)+1,e.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Mi);if(o=new l(o),!o.s){if(t.s<1)throw Error(gs+"Infinity");return o}if(o.eq(Mi))return o;if(r=l.precision,t.eq(Mi))return Ft(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=XX){for(i=new l(Mi),e=Math.ceil(r/Jt+4),on=!1;n%2&&(i=i.times(o),o3(i.d,e)),n=bp(n/2),n!==0;)o=o.times(o),o3(o.d,e);return on=!0,t.s<0?new l(Mi).div(i):Ft(i,r)}}else if(s<0)throw Error(gs+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,on=!1,i=t.times(hv(o,r+u)),on=!0,i=ZX(i),i.s=s,i};Re.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Vn(i),r=zu(i,n<=s.toExpNeg||n>=s.toExpPos)):($a(t,1,xp),e===void 0?e=s.rounding:$a(e,0,8),i=Ft(new s(i),t,e),n=Vn(i),r=zu(i,t<=n||n<=s.toExpNeg,t)),r};Re.toSignificantDigits=Re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):($a(t,1,xp),e===void 0?e=r.rounding:$a(e,0,8)),Ft(new r(n),t,e)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vn(t),n=t.constructor;return zu(t,e<=n.toExpNeg||e>=n.toExpPos)};function QX(t,e){var n,r,i,s,a,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),on?Ft(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(f/Jt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Qn|0,l[s]%=Qn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,on?Ft(e,f):e}function $a(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wu+t)}function ga(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Jt-r.length,n&&(s+=gl(n)),s+=r;a=t[e],r=a+"",n=Jt-r.length,n&&(s+=gl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var wo=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Qn|0,a=s/Qn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Qn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,f,h,p,g,m,v,y,x,_,E,S,j,A,T,C=r.constructor,k=r.s==i.s?1:-1,I=r.d,N=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(gs+"Division by zero");for(l=r.e-i.e,A=N.length,S=I.length,p=new C(k),g=p.d=[],u=0;N[u]==(I[u]||0);)++u;if(N[u]>(I[u]||0)&&--l,s==null?x=s=C.precision:a?x=s+(Vn(r)-Vn(i))+1:x=s,x<0)return new C(0);if(x=x/Jt+2|0,u=0,A==1)for(d=0,N=N[0],x++;(u<S||d)&&x--;u++)_=d*Qn+(I[u]||0),g[u]=_/N|0,d=_%N|0;else{for(d=Qn/(N[0]+1)|0,d>1&&(N=t(N,d),I=t(I,d),A=N.length,S=I.length),E=A,m=I.slice(0,A),v=m.length;v<A;)m[v++]=0;T=N.slice(),T.unshift(0),j=N[0],N[1]>=Qn/2&&++j;do d=0,o=e(N,m,A,v),o<0?(y=m[0],A!=v&&(y=y*Qn+(m[1]||0)),d=y/j|0,d>1?(d>=Qn&&(d=Qn-1),f=t(N,d),h=f.length,v=m.length,o=e(f,m,h,v),o==1&&(d--,n(f,A<h?T:N,h))):(d==0&&(o=d=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),n(m,f,v),o==-1&&(v=m.length,o=e(N,m,A,v),o<1&&(d++,n(m,A<v?T:N,v))),v=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[v++]=I[E]||0:(m=[I[E]],v=1);while((E++<S||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,Ft(p,a?s+Vn(p)+1:s)}}();function ZX(t,e){var n,r,i,s,a,o,l=0,u=0,d=t.constructor,f=d.precision;if(Vn(t)>16)throw Error(dR+Vn(t));if(!t.s)return new d(Mi);for(on=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(eu(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new d(Mi),d.precision=o;;){if(i=Ft(i.times(t),o),n=n.times(++l),a=s.plus(wo(i,n,o)),ga(a.d).slice(0,o)===ga(s.d).slice(0,o)){for(;u--;)s=Ft(s.times(s),o);return d.precision=f,e==null?(on=!0,Ft(s,f)):s}s=a}}function Vn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function lA(t,e,n){if(e>t.LN10.sd())throw on=!0,n&&(t.precision=n),Error(gs+"LN10 precision limit exceeded");return Ft(new t(t.LN10),e)}function gl(t){for(var e="";t--;)e+="0";return e}function hv(t,e){var n,r,i,s,a,o,l,u,d,f=1,h=10,p=t,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(gs+(p.s?"NaN":"-Infinity"));if(p.eq(Mi))return new m(0);if(e==null?(on=!1,u=v):u=e,p.eq(10))return e==null&&(on=!0),lA(m,u);if(u+=h,m.precision=u,n=ga(g),r=n.charAt(0),s=Vn(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ga(p.d),r=n.charAt(0),f++;s=Vn(p),r>1?(p=new m("0."+n),s++):p=new m(r+"."+n.slice(1))}else return l=lA(m,u+2,v).times(s+""),p=hv(new m(r+"."+n.slice(1)),u-h).plus(l),m.precision=v,e==null?(on=!0,Ft(p,v)):p;for(o=a=p=wo(p.minus(Mi),p.plus(Mi),u),d=Ft(p.times(p),u),i=3;;){if(a=Ft(a.times(d),u),l=o.plus(wo(a,new m(i),u)),ga(l.d).slice(0,u)===ga(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(lA(m,u+2,v).times(s+""))),o=wo(o,new m(f),u),m.precision=v,e==null?(on=!0,Ft(o,v)):o;o=l,i+=2}}function a3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=bp(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Jt;r<i;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),on&&(t.e>jw||t.e<-jw))throw Error(dR+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ft(t,e,n){var r,i,s,a,o,l,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Jt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Jt),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=Jt,i=r-Jt+a}if(n!==void 0&&(s=eu(10,a-i-1),o=u/s%10|0,l=e<0||f[d+1]!==void 0||u%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/eu(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=Vn(t),f.length=1,e=e-s-1,f[0]=eu(10,(Jt-e%Jt)%Jt),t.e=bp(-e/Jt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=eu(10,Jt-r),f[d]=i>0?(u/eu(10,a-i)%eu(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Qn&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Qn)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(on&&(t.e>jw||t.e<-jw))throw Error(dR+Vn(t));return t}function JX(t,e){var n,r,i,s,a,o,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),on?Ft(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/Jt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=Qn-1;--l[s],l[i]+=Qn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,on?Ft(e,p):e):new h(0)}function zu(t,e,n){var r,i=Vn(t),s=ga(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+gl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+gl(-i-1)+s,n&&(r=n-a)>0&&(s+=gl(r))):i>=a?(s+=gl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+gl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=gl(r))),t.s<0?"-"+s:s}function o3(t,e){if(t.length>e)return t.length=e,!0}function eQ(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(wu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return a3(a,s.toString())}else if(typeof s!="string")throw Error(wu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,vVe.test(s))a3(a,s);else throw Error(wu+s)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eQ,i.config=i.set=yVe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function yVe(t){if(!t||typeof t!="object")throw Error(gs+"Object expected");var e,n,r,i=["precision",1,xp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(bp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wu+n+": "+r);return this}var fR=eQ(gVe);Mi=new fR(1);const Dt=fR;function xVe(t){return SVe(t)||_Ve(t)||wVe(t)||bVe()}function bVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wVe(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function _Ve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SVe(t){if(Array.isArray(t))return TP(t)}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EVe=function(e){return e},tQ={},nQ=function(e){return e===tQ},l3=function(e){return function n(){return arguments.length===0||arguments.length===1&&nQ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},TVe=function t(e,n){return e===1?n:l3(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==tQ}).length;return a>=e?n.apply(void 0,i):t(e-a,l3(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(f){return nQ(f)?l.shift():f});return n.apply(void 0,xVe(d).concat(l))}))})},IS=function(e){return TVe(e.length,e)},AP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},AVe=IS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),jVe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return EVe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},jP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},rQ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function CVe(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function PVe(t,e,n){for(var r=new Dt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var kVe=IS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),NVe=IS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),IVe=IS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const OS={rangeStep:PVe,getDigitCount:CVe,interpolateNumber:kVe,uninterpolateNumber:NVe,uninterpolateTruncation:IVe};function CP(t){return MVe(t)||RVe(t)||iQ(t)||OVe()}function OVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RVe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MVe(t){if(Array.isArray(t))return PP(t)}function pv(t,e){return $Ve(t)||LVe(t,e)||iQ(t,e)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LVe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function $Ve(t){if(Array.isArray(t))return t}function sQ(t){var e=pv(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function aQ(t,e,n){if(t.lte(0))return new Dt(0);var r=OS.getDigitCount(t.toNumber()),i=new Dt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Dt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Dt(Math.ceil(l))}function VVe(t,e,n){var r=1,i=new Dt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Dt(10).pow(OS.getDigitCount(t)-1),i=new Dt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Dt(Math.floor(t)))}else t===0?i=new Dt(Math.floor((e-1)/2)):n||(i=new Dt(Math.floor(t)));var a=Math.floor((e-1)/2),o=jVe(AVe(function(l){return i.add(new Dt(l-a).mul(r)).toNumber()}),AP);return o(0,e)}function oQ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var s=aQ(new Dt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Dt(0):(a=new Dt(t).add(e).div(2),a=a.sub(new Dt(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Dt(e).sub(a).div(s).toNumber()),u=o+l+1;return u>n?oQ(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,o=e>0?o:o+(n-u)),{step:s,tickMin:a.sub(new Dt(o).mul(s)),tickMax:a.add(new Dt(l).mul(s))})}function FVe(t){var e=pv(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=sQ([n,r]),l=pv(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(CP(AP(0,i-1).map(function(){return 1/0}))):[].concat(CP(AP(0,i-1).map(function(){return-1/0})),[d]);return n>r?jP(f):f}if(u===d)return VVe(u,i,s);var h=oQ(u,d,a,s),p=h.step,g=h.tickMin,m=h.tickMax,v=OS.rangeStep(g,m.add(new Dt(.1).mul(p)),p);return n>r?jP(v):v}function zVe(t,e){var n=pv(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=sQ([r,i]),o=pv(a,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=aQ(new Dt(u).sub(l).div(d-1),s,0),h=[].concat(CP(OS.rangeStep(new Dt(l),new Dt(u).sub(new Dt(.99).mul(f)),f)),[u]);return r>i?jP(h):h}var UVe=rQ(FVe),BVe=rQ(zVe),WVe="Invariant failed";function Uu(t,e){throw new Error(WVe)}var HVe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function qVe(t,e){return XVe(t)||YVe(t,e)||GVe(t,e)||KVe()}function KVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GVe(t,e){if(t){if(typeof t=="string")return c3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c3(t,e)}}function c3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function XVe(t){if(Array.isArray(t))return t}function QVe(t,e){if(t==null)return{};var n=ZVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uQ(r.key),r)}}function tFe(t,e,n){return e&&eFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nFe(t,e,n){return e=Pw(e),rFe(t,lQ()?Reflect.construct(e,n||[],Pw(t).constructor):e.apply(t,n))}function rFe(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iFe(t)}function iFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pw(t)}function sFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kP(t,e)}function kP(t,e){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kP(t,e)}function cQ(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=aFe(t,"string");return ch(e)=="symbol"?e:e+""}function aFe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wp=function(t){function e(){return JVe(this,e),nFe(this,e,arguments)}return sFe(e,t),tFe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=QVe(r,HVe),p=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&Uu();var g=l.map(function(m){var v=u(m,o),y=v.x,x=v.y,_=v.value,E=v.errorVal;if(!E)return null;var S=[],j,A;if(Array.isArray(E)){var T=qVe(E,2);j=T[0],A=T[1]}else j=A=E;if(s==="vertical"){var C=d.scale,k=x+i,I=k+a,N=k-a,O=C(_-j),D=C(_+A);S.push({x1:D,y1:I,x2:D,y2:N}),S.push({x1:O,y1:k,x2:D,y2:k}),S.push({x1:O,y1:I,x2:O,y2:N})}else if(s==="horizontal"){var V=f.scale,U=y+i,z=U-a,L=U+a,F=V(_-j),W=V(_+A);S.push({x1:z,y1:W,x2:L,y2:W}),S.push({x1:U,y1:F,x2:U,y2:W}),S.push({x1:z,y1:F,x2:L,y2:F})}return M.createElement(at,Cw({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),S.map(function(ne){return M.createElement("line",Cw({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return M.createElement(at,{className:"recharts-errorBars"},g)}}])}(M.Component);cQ(wp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cQ(wp,"displayName","ErrorBar");function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){oFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oFe(t,e,n){return e=lFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lFe(t){var e=cFe(t,"string");return mv(e)=="symbol"?e:e+""}function cFe(t,e){if(mv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dQ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Ni(n,ec);if(!a)return null;var o=ec.defaultProps,l=o!==void 0?Wc(Wc({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:a.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Wc(Wc({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:hR(f),value:m||g,payload:p}}),Wc(Wc(Wc({},l),ec.getWithHeight(a,i)),{},{payload:u,item:a})};function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function d3(t){return hFe(t)||fFe(t)||dFe(t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(t,e){if(t){if(typeof t=="string")return NP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NP(t,e)}}function fFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hFe(t){if(Array.isArray(t))return NP(t)}function NP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){Tf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tf(t,e,n){return e=pFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pFe(t){var e=mFe(t,"string");return gv(e)=="symbol"?e:e+""}function mFe(t,e){if(gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,n){return We(t)||We(e)?n:qn(e)?Hi(t,e,n):Be(e)?e(t):n}function Xm(t,e,n,r){var i=fVe(t,function(o){return tn(o,e)});if(n==="number"){var s=i.filter(function(o){return ye(o)||parseFloat(o)});return s.length?[NS(s),Ol(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!We(o)}):i;return a.map(function(o){return qn(o)||o instanceof Date?o:""})}var gFe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(qr(f-d)!==qr(h-f)){var g=[];if(qr(h-f)===qr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var x=Math.min(d,h),_=Math.max(d,h);if(e>(x+f)/2&&e<=(_+f)/2){a=i[u].index;break}}}else for(var E=0;E<o;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},hR=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},vFe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,u=o.length;l<u;l++)for(var d=s[o[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(A){return bo(A.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,_=x!==void 0?wn(wn({},x),y[0].props):y[0].props,E=_.barSize,S=_[v];a[S]||(a[S]=[]);var j=We(E)?n:E;a[S].push({item:y[0],stackList:y.slice(1),barSize:We(j)?void 0:Kr(j,r,0)})}}return a},yFe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var u=Kr(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,g=a.reduce(function(E,S){return E+S.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};d=a.reduce(function(E,S){var j={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},A=[].concat(d3(E),[j]);return v=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){A.push({item:T,position:v})}),A},f)}else{var y=Kr(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var _=o===+o?Math.min(x,o):x;d=a.reduce(function(E,S,j){var A=[].concat(d3(E),[{item:S.item,position:{offset:y+(x+u)*j+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},f)}return d},xFe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),u=dQ({children:s,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ye(e[p]))return wn(wn({},e),{},Tf({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ye(e[g]))return wn(wn({},e),{},Tf({},g,e[g]+(h||0)))}return e},bFe=function(e,n,r){return We(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fQ=function(e,n,r,i,s){var a=n.props.children,o=Qr(a,wp).filter(function(u){return bFe(i,s,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=tn(d,r);if(We(f))return u;var h=Array.isArray(f)?[NS(f),Ol(f)]:[f,f],p=l.reduce(function(g,m){var v=tn(d,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},wFe=function(e,n,r,i,s){var a=n.map(function(o){return fQ(e,o,r,s,i)}).filter(function(o){return!We(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},hQ=function(e,n,r,i,s){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&fQ(e,l,u,i)||Xm(e,u,r,s)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},pQ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},mQ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},po=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?qr(o[0]-o[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!pp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},cA=new WeakMap,K0=function(e,n){if(typeof n!="function")return e;cA.has(e)||cA.set(e,new WeakMap);var r=cA.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},gQ=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:lv(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Sw(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ym(),realScaleType:"point"}:s==="category"?{scale:lv(),realScaleType:"band"}:{scale:Sw(),realScaleType:"linear"};if(Vu(i)){var l="scale".concat(gS(i));return{scale:(s3[l]||Ym)(),realScaleType:s3[l]?l:"point"}}return Be(i)?{scale:i}:{scale:Ym(),realScaleType:"point"}},h3=1e-4,vQ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-h3,a=Math.max(i[0],i[1])+h3,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},_Fe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},SFe=function(e,n){if(!n||n.length!==2||!ye(n[0])||!ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ye(e[0])||e[0]<r)&&(s[0]=r),(!ye(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},EFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=pp(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},TFe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=pp(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},AFe={sign:EFe,expand:HPe,none:th,silhouette:qPe,wiggle:KPe,positive:TFe},jFe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=AFe[r],a=WPe().keys(i).value(function(o,l){return+tn(o,l,0)}).order(nP).offset(s);return a(e)},CFe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},u=o.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?wn(wn({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(qn(m)){var _=x.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),x.hasStack=!0,x.stackGroups[m]=_}else x.stackGroups[Pc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return wn(wn({},f),{},Tf({},y,x))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var y=p.stackGroups[v];return wn(wn({},m),{},Tf({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:jFe(e,y.items,s)}))},g)}return wn(wn({},f),{},Tf({},h,p))},d)},yQ=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=UVe(u,s,o);return e.domain([NS(d),Ol(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=BVe(f,s,o);return{niceTicks:h}}return null};function uh(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!We(i[e.dataKey])){var o=nw(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=tn(i,We(a)?e.dataKey:a);return We(l)?null:e.scale(l)}var p3=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=tn(a,n.dataKey,n.domain[o]);return We(l)?null:n.scale(l)-s/2+i},PFe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},kFe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(qn(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},NFe=function(e){return e.reduce(function(n,r){return[NS(r.concat([n[0]]).filter(ye)),Ol(r.concat([n[1]]).filter(ye))]},[1/0,-1/0])},xQ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(u,d){var f=NFe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},m3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IP=function(e,n,r){if(Be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(m3.test(e[0])){var s=+m3.exec(e[0])[1];i[0]=n[0]-s}else Be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(g3.test(e[1])){var a=+g3.exec(e[1])[1];i[1]=n[1]+a}else Be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},kw=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=zO(n,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},v3=function(e,n,r){return!e||!e.length||yc(e,Hi(r,"type.defaultProps.domain"))?n:e},bQ=function(e,n){var r=e.type.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return wn(wn({},De(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:hR(e),value:tn(n,i),type:l,payload:n,chartType:u,hide:d})};function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=IFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IFe(t){var e=OFe(t,"string");return vv(e)=="symbol"?e:e+""}function OFe(t,e){if(vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RFe(t,e){return $Fe(t)||LFe(t,e)||DFe(t,e)||MFe()}function MFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DFe(t,e){if(t){if(typeof t=="string")return x3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x3(t,e)}}function x3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function $Fe(t){if(Array.isArray(t))return t}var Nw=Math.PI/180,VFe=function(e){return e*180/Math.PI},Kt=function(e,n,r,i){return{x:e+Math.cos(-Nw*i)*r,y:n+Math.sin(-Nw*i)*r}},_Q=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},FFe=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,u=e.endAngle,d=Kr(e.cx,a,a/2),f=Kr(e.cy,o,o/2),h=_Q(a,o,r),p=Kr(e.innerRadius,h,0),g=Kr(e.outerRadius,h,h*.8),m=Object.keys(n);return m.reduce(function(v,y){var x=n[y],_=x.domain,E=x.reversed,S;if(We(x.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[p,g]),E&&(S=[S[1],S[0]]);else{S=x.range;var j=S,A=RFe(j,2);l=A[0],u=A[1]}var T=gQ(x,s),C=T.realScaleType,k=T.scale;k.domain(_).range(S),vQ(k);var I=yQ(k,so(so({},x),{},{realScaleType:C})),N=so(so(so({},x),I),{},{range:S,radius:g,realScaleType:C,scale:k,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return so(so({},v),{},wQ({},y,N))},{})},zFe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},UFe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=zFe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:o,angle:VFe(u),angleInRadian:u}},BFe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},WFe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},b3=function(e,n){var r=e.x,i=e.y,s=UFe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=BFe(n),f=d.startAngle,h=d.endAngle,p=o,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?so(so({},n),{},{radius:a,angle:WFe(p,n)}):null},SQ=function(e){return!b.isValidElement(e)&&!Be(e)&&typeof e!="boolean"?e.className:""};function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}var HFe=["offset"];function qFe(t){return XFe(t)||YFe(t)||GFe(t)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GFe(t,e){if(t){if(typeof t=="string")return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(t,e)}}function YFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XFe(t){if(Array.isArray(t))return OP(t)}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QFe(t,e){if(t==null)return{};var n=ZFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(n),!0).forEach(function(r){JFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JFe(t,e,n){return e=e3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e3e(t){var e=t3e(t,"string");return yv(e)=="symbol"?e:e+""}function t3e(t,e){if(yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}var n3e=function(e){var n=e.value,r=e.formatter,i=We(e.children)?n:e.children;return Be(r)?r(i):i},r3e=function(e,n){var r=qr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},i3e=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=r3e(p,g),x=y>=0?1:-1,_,E;i==="insideStart"?(_=p+x*a,E=m):i==="insideEnd"?(_=g-x*a,E=!m):i==="end"&&(_=g+x*a,E=m),E=y<=0?E:!E;var S=Kt(u,d,v,_),j=Kt(u,d,v,_+(E?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(j.x,",").concat(j.y),T=We(e.id)?Pc("recharts-radial-line-"):e.id;return M.createElement("text",xv({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:T,d:A})),M.createElement("textPath",{xlinkHref:"#".concat(T)},n))},s3e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=Kt(a,o,u+r,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,y=Kt(a,o,v,h),x=y.x,_=y.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},a3e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*i,y=m>0?"end":"start",x=m>0?"start":"end";if(s==="top"){var _={x:o+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return zn(zn({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(s==="bottom"){var E={x:o+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return zn(zn({},E),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(s==="left"){var S={x:o-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return zn(zn({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(s==="right"){var j={x:o+u+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return zn(zn({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:d}:{})}var A=r?{width:u,height:d}:{};return s==="insideLeft"?zn({x:o+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideRight"?zn({x:o+u-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideTop"?zn({x:o+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):s==="insideBottom"?zn({x:o+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?zn({x:o+v,y:l+h,textAnchor:x,verticalAnchor:g},A):s==="insideTopRight"?zn({x:o+u-v,y:l+h,textAnchor:y,verticalAnchor:g},A):s==="insideBottomLeft"?zn({x:o+v,y:l+d-h,textAnchor:x,verticalAnchor:p},A):s==="insideBottomRight"?zn({x:o+u-v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):up(s)&&(ye(s.x)||cu(s.x))&&(ye(s.y)||cu(s.y))?zn({x:o+Kr(s.x,u),y:l+Kr(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):zn({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},o3e=function(e){return"cx"in e&&ye(e.cx)};function Jn(t){var e=t.offset,n=e===void 0?5:e,r=QFe(t,HFe),i=zn({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||We(o)&&We(l)&&!b.isValidElement(u)&&!Be(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var p;if(Be(u)){if(p=b.createElement(u,i),b.isValidElement(p))return p}else p=n3e(i);var g=o3e(s),m=De(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return i3e(i,p,m);var v=g?s3e(i):a3e(i);return M.createElement(Fu,xv({className:it("recharts-label",f)},m,v,{breakAll:h}),p)}Jn.displayName="Label";var EQ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,g=e.left,m=e.width,v=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(ye(m)&&ye(v)){if(ye(f)&&ye(h))return{x:f,y:h,width:m,height:v};if(ye(p)&&ye(g))return{x:p,y:g,width:m,height:v}}return ye(f)&&ye(h)?{x:f,y:h,width:0,height:0}:ye(n)&&ye(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},l3e=function(e,n){return e?e===!0?M.createElement(Jn,{key:"label-implicit",viewBox:n}):qn(e)?M.createElement(Jn,{key:"label-implicit",viewBox:n,value:e}):b.isValidElement(e)?e.type===Jn?b.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Jn,{key:"label-implicit",content:e,viewBox:n}):Be(e)?M.createElement(Jn,{key:"label-implicit",content:e,viewBox:n}):up(e)?M.createElement(Jn,xv({viewBox:n},e,{key:"label-implicit"})):null:null},c3e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=EQ(e),a=Qr(i,Jn).map(function(l,u){return b.cloneElement(l,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return a;var o=l3e(e.label,n||s);return[o].concat(qFe(a))};Jn.parseViewBox=EQ;Jn.renderCallByParent=c3e;function u3e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var d3e=u3e;const f3e=Nt(d3e);function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}var h3e=["valueAccessor"],p3e=["data","dataKey","clockWise","id","textBreakAll"];function m3e(t){return x3e(t)||y3e(t)||v3e(t)||g3e()}function g3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(t,e){if(t){if(typeof t=="string")return RP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RP(t,e)}}function y3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x3e(t){if(Array.isArray(t))return RP(t)}function RP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){b3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b3e(t,e,n){return e=w3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w3e(t){var e=_3e(t,"string");return bv(e)=="symbol"?e:e+""}function _3e(t,e){if(bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E3(t,e){if(t==null)return{};var n=S3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var E3e=function(e){return Array.isArray(e.value)?f3e(e.value):e.value};function Hs(t){var e=t.valueAccessor,n=e===void 0?E3e:e,r=E3(t,h3e),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,u=E3(r,p3e);return!i||!i.length?null:M.createElement(at,{className:"recharts-label-list"},i.map(function(d,f){var h=We(s)?n(d,f):tn(d&&d.payload,s),p=We(o)?{}:{id:"".concat(o,"-").concat(f)};return M.createElement(Jn,Iw({},De(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Jn.parseViewBox(We(a)?d:S3(S3({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Hs.displayName="LabelList";function T3e(t,e){return t?t===!0?M.createElement(Hs,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Be(t)?M.createElement(Hs,{key:"labelList-implicit",data:e,content:t}):up(t)?M.createElement(Hs,Iw({data:e},t,{key:"labelList-implicit"})):null:null}function A3e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qr(r,Hs).map(function(a,o){return b.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=T3e(t.label,e);return[s].concat(m3e(i))}Hs.renderCallByParent=A3e;function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function MP(){return MP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MP.apply(this,arguments)}function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){j3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j3e(t,e,n){return e=C3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C3e(t){var e=P3e(t,"string");return wv(e)=="symbol"?e:e+""}function P3e(t,e){if(wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k3e=function(e,n){var r=qr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},G0=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,f=Math.asin(l/d)/Nw,h=u?s:s+a*f,p=Kt(n,r,d,h),g=Kt(n,r,i,h),m=u?s-a*f:s,v=Kt(n,r,d*Math.cos(f*Nw),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},TQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=k3e(a,o),u=a+l,d=Kt(n,r,s,a),f=Kt(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Kt(n,r,i,a),g=Kt(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},N3e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=qr(d-u),h=G0({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=G0({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,x=v.lineTangency,_=v.theta,E=l?Math.abs(u-d):Math.abs(u-d)-m-_;if(E<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):TQ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var j=G0({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=j.circleTangency,T=j.lineTangency,C=j.theta,k=G0({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=k.circleTangency,N=k.lineTangency,O=k.theta,D=l?Math.abs(u-d):Math.abs(u-d)-C-O;if(D<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},I3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AQ=function(e){var n=A3(A3({},I3e),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<s||d===f)return null;var p=it("recharts-sector",h),g=a-s,m=Kr(o,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=N3e({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=TQ({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),M.createElement("path",MP({},De(n,!0),{className:p,d:v,role:"img"}))};function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function DP(){return DP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DP.apply(this,arguments)}function j3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j3(Object(n),!0).forEach(function(r){O3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O3e(t,e,n){return e=R3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R3e(t){var e=M3e(t,"string");return _v(e)=="symbol"?e:e+""}function M3e(t,e){if(_v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P3={curveBasisClosed:OPe,curveBasisOpen:RPe,curveBasis:IPe,curveBumpX:yPe,curveBumpY:xPe,curveLinearClosed:MPe,curveLinear:yS,curveMonotoneX:DPe,curveMonotoneY:LPe,curveNatural:$Pe,curveStep:VPe,curveStepAfter:zPe,curveStepBefore:FPe},Y0=function(e){return e.x===+e.x&&e.y===+e.y},em=function(e){return e.x},tm=function(e){return e.y},D3e=function(e,n){if(Be(e))return e;var r="curve".concat(gS(e));return(r==="curveMonotone"||r==="curveBump")&&n?P3["".concat(r).concat(n==="vertical"?"Y":"X")]:P3[r]||yS},L3e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=D3e(r,o),f=u?s.filter(function(m){return Y0(m)}):s,h;if(Array.isArray(a)){var p=u?a.filter(function(m){return Y0(m)}):a,g=f.map(function(m,v){return C3(C3({},m),{},{base:p[v]})});return o==="vertical"?h=V0().y(tm).x1(em).x0(function(m){return m.base.x}):h=V0().x(em).y1(tm).y0(function(m){return m.base.y}),h.defined(Y0).curve(d),h(g)}return o==="vertical"&&ye(a)?h=V0().y(tm).x1(em).x0(a):ye(a)?h=V0().x(em).y1(tm).y0(a):h=bY().x(em).y(tm),h.defined(Y0).curve(d),h(f)},nc=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?L3e(e):i;return M.createElement("path",DP({},De(e,!1),rw(e),{className:it("recharts-curve",n),d:a,ref:s}))},jQ={exports:{}},$3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V3e=$3e,F3e=V3e;function CQ(){}function PQ(){}PQ.resetWarningCache=CQ;var z3e=function(){function t(r,i,s,a,o,l){if(l!==F3e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:PQ,resetWarningCache:CQ};return n.PropTypes=n,n};jQ.exports=z3e();var U3e=jQ.exports;const Ct=Nt(U3e);var B3e=Object.getOwnPropertyNames,W3e=Object.getOwnPropertySymbols,H3e=Object.prototype.hasOwnProperty;function k3(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function X0(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function N3(t){return B3e(t).concat(W3e(t))}var q3e=Object.hasOwn||function(t,e){return H3e.call(t,e)};function fd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var K3e="__v",G3e="__o",Y3e="_owner",I3=Object.getOwnPropertyDescriptor,O3=Object.keys;function X3e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Q3e(t,e){return fd(t.getTime(),e.getTime())}function Z3e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function J3e(t,e){return t===e}function R3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=a.value,p=o.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var e6e=fd;function t6e(t,e,n){var r=O3(t),i=r.length;if(O3(e).length!==i)return!1;for(;i-- >0;)if(!kQ(t,e,n,r[i]))return!1;return!0}function nm(t,e,n){var r=N3(t),i=r.length;if(N3(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!kQ(t,e,n,s)||(a=I3(t,s),o=I3(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function n6e(t,e){return fd(t.valueOf(),e.valueOf())}function r6e(t,e){return t.source===e.source&&t.flags===e.flags}function M3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),u=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function i6e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function s6e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kQ(t,e,n,r){return(r===Y3e||r===G3e||r===K3e)&&(t.$$typeof||e.$$typeof)?!0:q3e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var a6e="[object Arguments]",o6e="[object Boolean]",l6e="[object Date]",c6e="[object Error]",u6e="[object Map]",d6e="[object Number]",f6e="[object Object]",h6e="[object RegExp]",p6e="[object Set]",m6e="[object String]",g6e="[object URL]",v6e=Array.isArray,D3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,L3=Object.assign,y6e=Object.prototype.toString.call.bind(Object.prototype.toString);function x6e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?a(g,m,v):y==="function"?i(g,m,v):!1;var x=g.constructor;if(x!==m.constructor)return!1;if(x===Object)return o(g,m,v);if(v6e(g))return e(g,m,v);if(D3!=null&&D3(g))return f(g,m,v);if(x===Date)return n(g,m,v);if(x===RegExp)return u(g,m,v);if(x===Map)return s(g,m,v);if(x===Set)return d(g,m,v);var _=y6e(g);return _===l6e?n(g,m,v):_===h6e?u(g,m,v):_===u6e?s(g,m,v):_===p6e?d(g,m,v):_===f6e?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):_===g6e?h(g,m,v):_===c6e?r(g,m,v):_===a6e?o(g,m,v):_===o6e||_===d6e||_===m6e?l(g,m,v):!1}}function b6e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?nm:X3e,areDatesEqual:Q3e,areErrorsEqual:Z3e,areFunctionsEqual:J3e,areMapsEqual:r?k3(R3,nm):R3,areNumbersEqual:e6e,areObjectsEqual:r?nm:t6e,arePrimitiveWrappersEqual:n6e,areRegExpsEqual:r6e,areSetsEqual:r?k3(M3,nm):M3,areTypedArraysEqual:r?nm:i6e,areUrlsEqual:s6e};if(n&&(i=L3({},i,n(i))),e){var s=X0(i.areArraysEqual),a=X0(i.areMapsEqual),o=X0(i.areObjectsEqual),l=X0(i.areSetsEqual);i=L3({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function w6e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function _6e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:s})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return n(l,u,a)}}var S6e=Ic();Ic({strict:!0});Ic({circular:!0});Ic({circular:!0,strict:!0});Ic({createInternalComparator:function(){return fd}});Ic({strict:!0,createInternalComparator:function(){return fd}});Ic({circular:!0,createInternalComparator:function(){return fd}});Ic({circular:!0,createInternalComparator:function(){return fd},strict:!0});function Ic(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=b6e(t),l=x6e(o),u=r?r(l):w6e(l);return _6e({circular:n,comparator:l,createState:i,equals:u,strict:a})}function E6e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function $3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):E6e(i)};requestAnimationFrame(r)}function LP(t){"@babel/helpers - typeof";return LP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LP(t)}function T6e(t){return P6e(t)||C6e(t)||j6e(t)||A6e()}function A6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j6e(t,e){if(t){if(typeof t=="string")return V3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P6e(t){if(Array.isArray(t))return t}function k6e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=T6e(a),l=o[0],u=o.slice(1);if(typeof l=="number"){$3(i.bind(null,u),l);return}i(l),$3(i.bind(null,u));return}LP(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){NQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NQ(t,e,n){return e=N6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N6e(t){var e=I6e(t,"string");return Sv(e)==="symbol"?e:String(e)}function I6e(t,e){if(Sv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O6e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},R6e=function(e){return e},M6e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qm=function(e,n){return Object.keys(n).reduce(function(r,i){return z3(z3({},r),{},NQ({},i,e(i,n[i])))},{})},U3=function(e,n,r){return e.map(function(i){return"".concat(M6e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function D6e(t,e){return V6e(t)||$6e(t,e)||IQ(t,e)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function V6e(t){if(Array.isArray(t))return t}function F6e(t){return B6e(t)||U6e(t)||IQ(t)||z6e()}function z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(t,e){if(t){if(typeof t=="string")return $P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(t,e)}}function U6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B6e(t){if(Array.isArray(t))return $P(t)}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ow=1e-4,OQ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},RQ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},B3=function(e,n){return function(r){var i=OQ(e,n);return RQ(i,r)}},W6e=function(e,n){return function(r){var i=OQ(e,n),s=[].concat(F6e(i.map(function(a,o){return a*o}).slice(1)),[0]);return RQ(s,r)}},W3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=D6e(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var f=B3(i,a),h=B3(s,o),p=W6e(i,a),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var x=y>1?1:y,_=x,E=0;E<8;++E){var S=f(_)-x,j=p(_);if(Math.abs(S-x)<Ow||j<Ow)return h(_);_=g(_-S/j)}return h(_)};return m.isStepper=!1,m},H6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,f,h){var p=-(d-f)*r,g=h*s,m=h+(p-g)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<Ow&&Math.abs(m)<Ow?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},q6e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W3(i);case"spring":return H6e();default:if(i.split("(")[0]==="cubic-bezier")return W3(i)}return typeof i=="function"?i:null};function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function H3(t){return Y6e(t)||G6e(t)||MQ(t)||K6e()}function K6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y6e(t){if(Array.isArray(t))return FP(t)}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){VP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VP(t,e,n){return e=X6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X6e(t){var e=Q6e(t,"string");return Ev(e)==="symbol"?e:String(e)}function Q6e(t,e){if(Ev(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ev(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z6e(t,e){return tze(t)||eze(t,e)||MQ(t,e)||J6e()}function J6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MQ(t,e){if(t){if(typeof t=="string")return FP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FP(t,e)}}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function tze(t){if(Array.isArray(t))return t}var Rw=function(e,n,r){return e+(n-e)*r},zP=function(e){var n=e.from,r=e.to;return n!==r},nze=function t(e,n,r){var i=Qm(function(s,a){if(zP(a)){var o=e(a.from,a.to,a.velocity),l=Z6e(o,2),u=l[0],d=l[1];return lr(lr({},a),{},{from:u,velocity:d})}return a},n);return r<1?Qm(function(s,a){return zP(a)?lr(lr({},a),{},{velocity:Rw(a.velocity,i[s].velocity,r),from:Rw(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const rze=function(t,e,n,r,i){var s=O6e(t,e),a=s.reduce(function(v,y){return lr(lr({},v),{},VP({},y,[t[y],e[y]]))},{}),o=s.reduce(function(v,y){return lr(lr({},v),{},VP({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return Qm(function(y,x){return x.from},o)},p=function(){return!Object.values(o).filter(zP).length},g=function(y){u||(u=y);var x=y-u,_=x/n.dt;o=nze(n,o,_),i(lr(lr(lr({},t),e),h())),u=y,p()||(l=requestAnimationFrame(f))},m=function(y){d||(d=y);var x=(y-d)/r,_=Qm(function(S,j){return Rw.apply(void 0,H3(j).concat([n(x)]))},a);if(i(lr(lr(lr({},t),e),_)),x<1)l=requestAnimationFrame(f);else{var E=Qm(function(S,j){return Rw.apply(void 0,H3(j).concat([n(1)]))},a);i(lr(lr(lr({},t),e),E))}};return f=n.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var ize=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sze(t,e){if(t==null)return{};var n=aze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uA(t){return uze(t)||cze(t)||lze(t)||oze()}function oze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lze(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function cze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uze(t){if(Array.isArray(t))return UP(t)}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K3(Object(n),!0).forEach(function(r){wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wm(t,e,n){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DQ(r.key),r)}}function hze(t,e,n){return e&&fze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DQ(t){var e=pze(t,"string");return dh(e)==="symbol"?e:String(e)}function pze(t,e){if(dh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BP(t,e)}function BP(t,e){return BP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BP(t,e)}function gze(t){var e=vze();return function(){var r=Mw(t),i;if(e){var s=Mw(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return WP(this,i)}}function WP(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HP(t)}function HP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(t)}var vs=function(t){mze(n,t);var e=gze(n);function n(r,i){var s;dze(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(HP(s)),s.changeStyle=s.changeStyle.bind(HP(s)),!o||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),WP(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},WP(s);s.state={style:l?wm({},l,u):u}}else s.state={style:{}};return s}return hze(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(o){if(!a){var p={style:l?wm({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(S6e(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:i.to;if(this.state&&h){var v={style:l?wm({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(js(js({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=rze(a,o,q6e(u),l,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,y){if(y===0)return m;var x=v.duration,_=v.easing,E=_===void 0?"ease":_,S=v.style,j=v.properties,A=v.onAnimationEnd,T=y>0?a[y-1]:v,C=j||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(uA(m),[s.runJSAnimation.bind(s,{from:T.style,to:S,duration:x,easing:E}),x]);var k=U3(C,x,E),I=js(js(js({},T.style),S),{},{transition:k});return[].concat(uA(m),[I,x,A]).filter(R6e)};return this.manager.start([l].concat(uA(a.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=k6e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=o?wm({},o,l):l,v=U3(Object.keys(m),a,u);g.start([d,s,js(js({},m),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=sze(i,ize),u=b.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,y=g.className,x=b.cloneElement(p,js(js({},l),{},{style:js(js({},v),d),className:y}));return x};return u===1?f(b.Children.only(s)):M.createElement("div",null,b.Children.map(s,function(h){return f(h)}))}}]),n}(b.PureComponent);vs.displayName="Animate";vs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vs.propTypes={from:Ct.oneOfType([Ct.object,Ct.string]),to:Ct.oneOfType([Ct.object,Ct.string]),attributeName:Ct.string,duration:Ct.number,begin:Ct.number,easing:Ct.oneOfType([Ct.string,Ct.func]),steps:Ct.arrayOf(Ct.shape({duration:Ct.number.isRequired,style:Ct.object.isRequired,easing:Ct.oneOfType([Ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ct.func]),properties:Ct.arrayOf("string"),onAnimationEnd:Ct.func})),children:Ct.oneOfType([Ct.node,Ct.func]),isActive:Ct.bool,canBegin:Ct.bool,onAnimationEnd:Ct.func,shouldReAnimate:Ct.bool,onAnimationStart:Ct.func,onAnimationReStart:Ct.func};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function yze(t,e){return _ze(t)||wze(t,e)||bze(t,e)||xze()}function xze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bze(t,e){if(t){if(typeof t=="string")return G3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G3(t,e)}}function G3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function _ze(t){if(Array.isArray(t))return t}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){Sze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sze(t,e,n){return e=Eze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eze(t){var e=Tze(t,"string");return Tv(e)=="symbol"?e:e+""}function Tze(t,e){if(Tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q3=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>a?a:s[h];d="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+o*f[1])),d+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-o*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(e,",").concat(n+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+o*g,`
            L `).concat(e+r,",").concat(n+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-o*g," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Aze=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},jze={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pR=function(e){var n=X3(X3({},jze),e),r=b.useRef(),i=b.useState(-1),s=yze(i,2),a=s[0],o=s[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&o(E)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,g=n.animationEasing,m=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=it("recharts-rectangle",p);return x?M.createElement(vs,{canBegin:a>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:x},function(E){var S=E.width,j=E.height,A=E.x,T=E.y;return M.createElement(vs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},M.createElement("path",Dw({},De(n,!0),{className:_,d:Q3(A,T,S,j,h),ref:r})))}):M.createElement("path",Dw({},De(n,!0),{className:_,d:Q3(l,u,d,f,h)}))},Cze=["points","className","baseLinePoints","connectNulls"];function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}function Pze(t,e){if(t==null)return{};var n=kze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z3(t){return Rze(t)||Oze(t)||Ize(t)||Nze()}function Nze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ize(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function Oze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rze(t){if(Array.isArray(t))return qP(t)}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J3=function(e){return e&&e.x===+e.x&&e.y===+e.y},Mze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){J3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Zm=function(e,n){var r=Mze(e);n&&(r=[r.reduce(function(s,a){return[].concat(Z3(s),Z3(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Dze=function(e,n,r){var i=Zm(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Zm(n.reverse(),r).slice(1))},Lze=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=Pze(e,Cze);if(!n||!n.length)return null;var o=it("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Dze(n,i,s);return M.createElement("g",{className:o},M.createElement("path",nf({},De(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",nf({},De(a,!0),{fill:"none",d:Zm(n,s)})):null,l?M.createElement("path",nf({},De(a,!0),{fill:"none",d:Zm(i,s)})):null)}var d=Zm(n,s);return M.createElement("path",nf({},De(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function KP(){return KP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KP.apply(this,arguments)}var Oy=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=it("recharts-dot",s);return n===+n&&r===+r&&i===+i?M.createElement("circle",KP({},De(e,!1),rw(e),{className:a,cx:n,cy:r,r:i})):null};function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}var $ze=["x","y","top","left","width","height","className"];function GP(){return GP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GP.apply(this,arguments)}function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){Fze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fze(t,e,n){return e=zze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zze(t){var e=Uze(t,"string");return Av(e)=="symbol"?e:e+""}function Uze(t,e){if(Av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bze(t,e){if(t==null)return{};var n=Wze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hze=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},qze=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,g=e.className,m=Bze(e,$ze),v=Vze({x:r,y:s,top:o,left:u,width:f,height:p},m);return!ye(r)||!ye(s)||!ye(f)||!ye(p)||!ye(o)||!ye(u)?null:M.createElement("path",GP({},De(v,!0),{className:it("recharts-cross",g),d:Hze(r,s,f,p,o,u)}))},Kze=kS,Gze=GX,Yze=Ga;function Xze(t,e){return t&&t.length?Kze(t,Yze(e),Gze):void 0}var Qze=Xze;const Zze=Nt(Qze);var Jze=kS,eUe=Ga,tUe=YX;function nUe(t,e){return t&&t.length?Jze(t,eUe(e),tUe):void 0}var rUe=nUe;const iUe=Nt(rUe);var sUe=["cx","cy","angle","ticks","axisLine"],aUe=["ticks","tick","angle","tickFormatter","stroke"];function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function t6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(n),!0).forEach(function(r){RS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n6(t,e){if(t==null)return{};var n=oUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$Q(r.key),r)}}function cUe(t,e,n){return e&&r6(t.prototype,e),n&&r6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uUe(t,e,n){return e=Lw(e),dUe(t,LQ()?Reflect.construct(e,n||[],Lw(t).constructor):e.apply(t,n))}function dUe(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fUe(t)}function fUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LQ=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lw(t)}function hUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YP(t,e)}function YP(t,e){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YP(t,e)}function RS(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=pUe(t,"string");return fh(e)=="symbol"?e:e+""}function pUe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MS=function(t){function e(){return lUe(this,e),uUe(this,e,arguments)}return hUe(e,t),cUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return Kt(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=Zze(o,function(d){return d.coordinate||0}),u=iUe(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,u=n6(r,sUe),d=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Kt(i,s,d[0],a),h=Kt(i,s,d[1],a),p=Hc(Hc(Hc({},De(u,!1)),{},{fill:"none"},De(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Jm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,d=n6(i,aUe),f=this.getTickTextAnchor(),h=De(d,!1),p=De(a,!1),g=s.map(function(m,v){var y=r.getTickValueCoord(m),x=Hc(Hc(Hc(Hc({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},y),{},{payload:m});return M.createElement(at,Jm({className:it("recharts-polar-radius-axis-tick",SQ(a)),key:"tick-".concat(m.coordinate)},vc(r.props,m,v)),e.renderTickItem(a,x,l?l(m.value,v):m.value))});return M.createElement(at,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement(at,{className:it("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Jn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Be(r)?a=r(i):a=M.createElement(Fu,Jm({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(b.PureComponent);RS(MS,"displayName","PolarRadiusAxis");RS(MS,"axisType","radiusAxis");RS(MS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){DS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FQ(r.key),r)}}function gUe(t,e,n){return e&&s6(t.prototype,e),n&&s6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vUe(t,e,n){return e=$w(e),yUe(t,VQ()?Reflect.construct(e,n||[],$w(t).constructor):e.apply(t,n))}function yUe(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xUe(t)}function xUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VQ=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$w(t)}function bUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XP(t,e)}function XP(t,e){return XP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XP(t,e)}function DS(t,e,n){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=wUe(t,"string");return hh(e)=="symbol"?e:e+""}function wUe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Ue=Math.PI/180,SUe=1e-5,LS=function(t){function e(){return mUe(this,e),vUe(this,e,arguments)}return bUe(e,t),gUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Kt(s,a,o,r.coordinate),h=Kt(s,a,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*_Ue),a;return s>SUe?a=i==="outer"?"start":"end":s<-1e-5?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,u=qc(qc({},De(this.props,!1)),{},{fill:"none"},De(o,!1));if(l==="circle")return M.createElement(Oy,nu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var d=this.props.ticks,f=d.map(function(h){return Kt(i,s,a,h.coordinate)});return M.createElement(Lze,nu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,d=De(this.props,!1),f=De(a,!1),h=qc(qc({},d),{},{fill:"none"},De(o,!1)),p=s.map(function(g,m){var v=r.getTickLineCoord(g),y=r.getTickTextAnchor(g),x=qc(qc(qc({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return M.createElement(at,nu({className:it("recharts-polar-angle-axis-tick",SQ(a)),key:"tick-".concat(g.coordinate)},vc(r.props,g,m)),o&&M.createElement("line",nu({className:"recharts-polar-angle-axis-tick-line"},h,v)),a&&e.renderTickItem(a,x,l?l(g.value,m):g.value))});return M.createElement(at,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:M.createElement(at,{className:it("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Be(r)?a=r(i):a=M.createElement(Fu,nu({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(b.PureComponent);DS(LS,"displayName","PolarAngleAxis");DS(LS,"axisType","angleAxis");DS(LS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var EUe=WY,TUe=EUe(Object.getPrototypeOf,Object),AUe=TUe,jUe=Ko,CUe=AUe,PUe=Go,kUe="[object Object]",NUe=Function.prototype,IUe=Object.prototype,zQ=NUe.toString,OUe=IUe.hasOwnProperty,RUe=zQ.call(Object);function MUe(t){if(!PUe(t)||jUe(t)!=kUe)return!1;var e=CUe(t);if(e===null)return!0;var n=OUe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&zQ.call(n)==RUe}var DUe=MUe;const LUe=Nt(DUe);var $Ue=Ko,VUe=Go,FUe="[object Boolean]";function zUe(t){return t===!0||t===!1||VUe(t)&&$Ue(t)==FUe}var UUe=zUe;const BUe=Nt(UUe);function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function WUe(t,e){return GUe(t)||KUe(t,e)||qUe(t,e)||HUe()}function HUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qUe(t,e){if(t){if(typeof t=="string")return a6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a6(t,e)}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function GUe(t){if(Array.isArray(t))return t}function o6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(r){YUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YUe(t,e,n){return e=XUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XUe(t){var e=QUe(t,"string");return jv(e)=="symbol"?e:e+""}function QUe(t,e){if(jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c6=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},ZUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JUe=function(e){var n=l6(l6({},ZUe),e),r=b.useRef(),i=b.useState(-1),s=WUe(i,2),a=s[0],o=s[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,g=n.animationEasing,m=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=it("recharts-trapezoid",p);return y?M.createElement(vs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(_){var E=_.upperWidth,S=_.lowerWidth,j=_.height,A=_.x,T=_.y;return M.createElement(vs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},M.createElement("path",Vw({},De(n,!0),{className:x,d:c6(A,T,E,S,j),ref:r})))}):M.createElement("g",null,M.createElement("path",Vw({},De(n,!0),{className:x,d:c6(l,u,d,f,h)})))},eBe=["option","shapeType","propTransformer","activeClassName","isActive"];function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function tBe(t,e){if(t==null)return{};var n=nBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){rBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rBe(t,e,n){return e=iBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iBe(t){var e=sBe(t,"string");return Cv(e)=="symbol"?e:e+""}function sBe(t,e){if(Cv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aBe(t,e){return Fw(Fw({},e),t)}function oBe(t,e){return t==="symbols"}function d6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(pR,n);case"trapezoid":return M.createElement(JUe,n);case"sector":return M.createElement(AQ,n);case"symbols":if(oBe(e))return M.createElement(bS,n);break;default:return null}}function lBe(t){return b.isValidElement(t)?t.props:t}function zw(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?aBe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=tBe(t,eBe),u;if(b.isValidElement(e))u=b.cloneElement(e,Fw(Fw({},l),lBe(e)));else if(Be(e))u=e(l);else if(LUe(e)&&!BUe(e)){var d=i(e,l);u=M.createElement(d6,{shapeType:n,elementProps:d})}else{var f=l;u=M.createElement(d6,{shapeType:n,elementProps:f})}return o?M.createElement(at,{className:a},u):u}function $S(t,e){return e!=null&&"trapezoids"in t.props}function VS(t,e){return e!=null&&"sectors"in t.props}function Pv(t,e){return e!=null&&"points"in t.props}function cBe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function uBe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dBe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function fBe(t,e){var n;return $S(t,e)?n=cBe:VS(t,e)?n=uBe:Pv(t,e)&&(n=dBe),n}function hBe(t,e){var n;return $S(t,e)?n="trapezoids":VS(t,e)?n="sectors":Pv(t,e)&&(n="points"),n}function pBe(t,e){if($S(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(VS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Pv(t,e)?e.payload:{}}function mBe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=hBe(n,e),s=pBe(n,e),a=r.filter(function(l,u){var d=yc(s,l),f=n.props[i].filter(function(g){var m=fBe(n,e);return m(g,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=r.indexOf(a[a.length-1]);return o}var Lx;function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function f6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(n),!0).forEach(function(r){ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BQ(r.key),r)}}function vBe(t,e,n){return e&&h6(t.prototype,e),n&&h6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yBe(t,e,n){return e=Uw(e),xBe(t,UQ()?Reflect.construct(e,n||[],Uw(t).constructor):e.apply(t,n))}function xBe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bBe(t)}function bBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UQ=function(){return!!t})()}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uw(t)}function wBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QP(t,e)}function QP(t,e){return QP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QP(t,e)}function ss(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=_Be(t,"string");return ph(e)=="symbol"?e:e+""}function _Be(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qo=function(t){function e(n){var r;return gBe(this,e),r=yBe(this,e,[n]),ss(r,"pieRef",null),ss(r,"sectorRefs",[]),ss(r,"id",Pc("recharts-pie-")),ss(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(i)&&i()}),ss(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return wBe(e,t),vBe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,u=s.valueKey,d=De(this.props,!1),f=De(a,!1),h=De(o,!1),p=a&&a.offsetRadius||20,g=r.map(function(m,v){var y=(m.startAngle+m.endAngle)/2,x=Kt(m.cx,m.cy,m.outerRadius+p,y),_=Bt(Bt(Bt(Bt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(x.x,m.cx)},x),E=Bt(Bt(Bt(Bt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Kt(m.cx,m.cy,m.outerRadius,y),x]}),S=l;return We(l)&&We(u)?S="value":We(l)&&(S=u),M.createElement(at,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,E,"line"),e.renderLabelItem(a,_,tn(m,S)))});return M.createElement(at,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,p=f?a:h,g=Bt(Bt({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return M.createElement(at,rf({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},vc(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(zw,rf({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(vs,{begin:o,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],y=s&&s[0],x=y.startAngle;return s.forEach(function(_,E){var S=h&&h[E],j=E>0?Hi(_,"paddingAngle",0):0;if(S){var A=un(S.endAngle-S.startAngle,_.endAngle-_.startAngle),T=Bt(Bt({},_),{},{startAngle:x+j,endAngle:x+A(m)+j});v.push(T),x=T.endAngle}else{var C=_.endAngle,k=_.startAngle,I=un(0,C-k),N=I(m),O=Bt(Bt({},_),{},{startAngle:x+j,endAngle:x+N+j});v.push(O),x=O.endAngle}}),M.createElement(at,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!yc(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!ye(u)||!ye(d)||!ye(f)||!ye(h))return null;var m=it("recharts-pie",o);return M.createElement(at,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(a),Jn.renderCallByParent(this.props,null,!1),(!p||g)&&Hs.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(M.isValidElement(r))return M.cloneElement(r,i);if(Be(r))return r(i);var a=it("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(nc,rf({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(M.isValidElement(r))return M.cloneElement(r,i);var a=s;if(Be(r)&&(a=r(i),M.isValidElement(a)))return a;var o=it("recharts-pie-label-text",typeof r!="boolean"&&!Be(r)?r.className:"");return M.createElement(Fu,rf({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(b.PureComponent);Lx=Qo;ss(Qo,"displayName","Pie");ss(Qo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ss(Qo,"parseDeltaAngle",function(t,e){var n=qr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ss(Qo,"getRealPieData",function(t){var e=t.data,n=t.children,r=De(t,!1),i=Qr(n,Cy);return e&&e.length?e.map(function(s,a){return Bt(Bt(Bt({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Bt(Bt({},r),s.props)}):[]});ss(Qo,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=_Q(i,s),o=r+Kr(t.cx,i,i/2),l=n+Kr(t.cy,s,s/2),u=Kr(t.innerRadius,a,0),d=Kr(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});ss(Qo,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Bt(Bt({},e.type.defaultProps),e.props):e.props,i=Lx.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),g=Lx.parseCoordinateOfPie(r,n),m=Lx.parseDeltaAngle(a,o),v=Math.abs(m),y=u;We(u)&&We(f)?(Ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):We(u)&&(Ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(T){return tn(T,y,0)!==0}).length,_=(v>=360?x:x-1)*l,E=v-x*p-_,S=i.reduce(function(T,C){var k=tn(C,y,0);return T+(ye(k)?k:0)},0),j;if(S>0){var A;j=i.map(function(T,C){var k=tn(T,y,0),I=tn(T,d,C),N=(ye(k)?k:0)/S,O;C?O=A.endAngle+qr(m)*l*(k!==0?1:0):O=a;var D=O+qr(m)*((k!==0?p:0)+N*E),V=(O+D)/2,U=(g.innerRadius+g.outerRadius)/2,z=[{name:I,value:k,payload:T,dataKey:y,type:h}],L=Kt(g.cx,g.cy,U,V);return A=Bt(Bt(Bt({percent:N,cornerRadius:s,name:I,tooltipPayload:z,midAngle:V,middleRadius:U,tooltipPosition:L},T),g),{},{value:tn(T,y),startAngle:O,endAngle:D,payload:T,paddingAngle:qr(m)*l}),A})}return Bt(Bt({},g),{},{sectors:j,data:i})});var SBe=Math.ceil,EBe=Math.max;function TBe(t,e,n,r){for(var i=-1,s=EBe(SBe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var ABe=TBe,jBe=cX,CBe=1/0,PBe=17976931348623157e292;function kBe(t){if(!t)return t===0?t:0;if(t=jBe(t),t===CBe||t===-1/0){var e=t<0?-1:1;return e*PBe}return t===t?t:0}var WQ=kBe,NBe=ABe,IBe=SS,dA=WQ;function OBe(t){return function(e,n,r){return r&&typeof r!="number"&&IBe(e,n,r)&&(n=r=void 0),e=dA(e),n===void 0?(n=e,e=0):n=dA(n),r=r===void 0?e<n?1:-1:dA(r),NBe(e,n,r,t)}}var RBe=OBe,MBe=RBe,DBe=MBe(),LBe=DBe;const Bw=Nt(LBe);function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=$Be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Be(t){var e=VBe(t,"string");return kv(e)=="symbol"?e:e+""}function VBe(t,e){if(kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FBe=["Webkit","Moz","O","ms"],zBe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=FBe.reduce(function(s,a){return m6(m6({},s),{},HQ({},a+r,n))},{});return i[e]=n,i};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function g6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(n),!0).forEach(function(r){Pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KQ(r.key),r)}}function BBe(t,e,n){return e&&v6(t.prototype,e),n&&v6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WBe(t,e,n){return e=Hw(e),HBe(t,qQ()?Reflect.construct(e,n||[],Hw(t).constructor):e.apply(t,n))}function HBe(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qBe(t)}function qBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qQ=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hw(t)}function KBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZP(t,e)}function ZP(t,e){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZP(t,e)}function Pi(t,e,n){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KQ(t){var e=GBe(t,"string");return mh(e)=="symbol"?e:e+""}function GBe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YBe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Ym().domain(Bw(0,l)).range([s,s+a-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},y6=function(e){return e.changedTouches&&!!e.changedTouches.length},gh=function(t){function e(n){var r;return UBe(this,e),r=WBe(this,e,[n]),Pi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Pi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Pi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Pi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Pi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Pi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Pi(r,"handleSlideDragStart",function(i){var s=y6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return KBe(e,t),BBe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=e.getIndexInRange(a,f),g=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=tn(s[r],o,r);return Be(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,g=l.onChange,m=r.pageX-s;m>0?m=Math.min(m,u+d-f-o,u+d-f-a):m<0&&(m=Math.max(m,u-a,u-o));var v=this.getIndex({startX:a+m,endX:o+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:a+m,endX:o+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=y6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-s;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),y[a]=u+x;var _=this.getIndex(y),E=_.startIndex,S=_.endIndex,j=function(){var T=v.length-1;return a==="startX"&&(o>l?E%m===0:S%m===0)||o<l&&S===T||a==="endX"&&(o>l?S%m===0:E%m===0)||o>l&&S===T};this.setState(Pi(Pi({},a,u+x),"brushMoveStartX",r.pageX),function(){g&&j()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Pi({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,u=r.children,d=r.padding,f=b.Children.only(u);return f?M.cloneElement(f,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),x=fA(fA({},De(this.props,!1)),{},{x:y,y:u,width:d,height:f}),_=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return M.createElement(at,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return M.createElement(at,{className:"recharts-brush-texts"},M.createElement(Fu,Ww({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+o/2},g),this.getTextOfTick(i)),M.createElement(Fu,Ww({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ye(o)||!ye(l)||!ye(u)||!ye(d)||u<=0||d<=0)return null;var _=it("recharts-brush",s),E=M.Children.count(a)===1,S=zBe("userSelect","none");return M.createElement(at,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,u=Math.floor(s+o/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Be(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return fA({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?YBe({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(b.PureComponent);Pi(gh,"displayName","Brush");Pi(gh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var XBe=FO;function QBe(t,e){var n;return XBe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var ZBe=QBe,JBe=DY,e9e=Ga,t9e=ZBe,n9e=Ei,r9e=SS;function i9e(t,e,n){var r=n9e(t)?JBe:t9e;return n&&r9e(t,e,n)&&(e=void 0),r(t,e9e(e))}var s9e=i9e;const a9e=Nt(s9e);var Ia=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},x6=iX;function o9e(t,e,n){e=="__proto__"&&x6?x6(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var l9e=o9e,c9e=l9e,u9e=nX,d9e=Ga;function f9e(t,e){var n={};return e=d9e(e),u9e(t,function(r,i,s){c9e(n,i,e(r,i,s))}),n}var h9e=f9e;const p9e=Nt(h9e);function m9e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var g9e=m9e,v9e=FO;function y9e(t,e){var n=!0;return v9e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var x9e=y9e,b9e=g9e,w9e=x9e,_9e=Ga,S9e=Ei,E9e=SS;function T9e(t,e,n){var r=S9e(t)?b9e:w9e;return n&&E9e(t,e,n)&&(e=void 0),r(t,_9e(e))}var A9e=T9e;const GQ=Nt(A9e);var j9e=["x","y"];function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function JP(){return JP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JP.apply(this,arguments)}function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(n),!0).forEach(function(r){C9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C9e(t,e,n){return e=P9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P9e(t){var e=k9e(t,"string");return Nv(e)=="symbol"?e:e+""}function k9e(t,e){if(Nv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N9e(t,e){if(t==null)return{};var n=I9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O9e(t,e){var n=t.x,r=t.y,i=N9e(t,j9e),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return rm(rm(rm(rm(rm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function w6(t){return M.createElement(zw,JP({shapeType:"rectangle",propTransformer:O9e,activeClassName:"recharts-active-bar"},t))}var R9e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Uu(),n)}},M9e=["value","background"],YQ;function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function D9e(t,e){if(t==null)return{};var n=L9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function _6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_6(Object(n),!0).forEach(function(r){Rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QQ(r.key),r)}}function V9e(t,e,n){return e&&S6(t.prototype,e),n&&S6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F9e(t,e,n){return e=Kw(e),z9e(t,XQ()?Reflect.construct(e,n||[],Kw(t).constructor):e.apply(t,n))}function z9e(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U9e(t)}function U9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XQ=function(){return!!t})()}function Kw(t){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kw(t)}function B9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ek(t,e)}function ek(t,e){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ek(t,e)}function Rl(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=W9e(t,"string");return vh(e)=="symbol"?e:e+""}function W9e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Di=function(t){function e(){var n;$9e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=F9e(this,e,[].concat(i)),Rl(n,"state",{isAnimationFinished:!1}),Rl(n,"id",Pc("recharts-bar-")),Rl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Rl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return B9e(e,t),V9e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,u=s.activeBar,d=De(this.props,!1);return r&&r.map(function(f,h){var p=h===l,g=p?u:a,m=Rn(Rn(Rn({},d),f),{},{isActive:p,option:g,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(at,qw({className:"recharts-bar-rectangle"},vc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(w6,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(vs,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,y){var x=h&&h[y];if(x){var _=un(x.x,v.x),E=un(x.y,v.y),S=un(x.width,v.width),j=un(x.height,v.height);return Rn(Rn({},v),{},{x:_(g),y:E(g),width:S(g),height:j(g)})}if(a==="horizontal"){var A=un(0,v.height),T=A(g);return Rn(Rn({},v),{},{y:v.y+v.height-T,height:T})}var C=un(0,v.width),k=C(g);return Rn(Rn({},v),{},{width:k})});return M.createElement(at,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!yc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=De(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=D9e(u,M9e);if(!f)return null;var p=Rn(Rn(Rn(Rn(Rn({},h),{},{fill:"#eee"},f),l),vc(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(w6,qw({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=Qr(d,wp);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,y){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:tn(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(at,g,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,g=r.background,m=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=it("recharts-bar",a),x=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,E=x||_,S=We(m)?this.id:m;return M.createElement(at,{className:y},x||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?u:u-f/2,y:_?d:d-h/2,width:x?f:f*2,height:_?h:h*2}))):null,M.createElement(at,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!p||v)&&Hs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);YQ=Di;Rl(Di,"displayName","Bar");Rl(Di,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Rl(Di,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=_Fe(r,n);if(!p)return null;var g=e.layout,m=n.type.defaultProps,v=m!==void 0?Rn(Rn({},m),n.props):n.props,y=v.dataKey,x=v.children,_=v.minPointSize,E=g==="horizontal"?a:s,S=u?E.scale.domain():null,j=PFe({numericAxis:E}),A=Qr(x,Cy),T=f.map(function(C,k){var I,N,O,D,V,U;u?I=SFe(u[d+k],S):(I=tn(C,y),Array.isArray(I)||(I=[j,I]));var z=R9e(_,YQ.defaultProps.minPointSize)(I[1],k);if(g==="horizontal"){var L,F=[a.scale(I[0]),a.scale(I[1])],W=F[0],ne=F[1];N=p3({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:C,index:k}),O=(L=ne??W)!==null&&L!==void 0?L:void 0,D=p.size;var Q=W-ne;if(V=Number.isNaN(Q)?0:Q,U={x:N,y:a.y,width:D,height:a.height},Math.abs(z)>0&&Math.abs(V)<Math.abs(z)){var ie=qr(V||z)*(Math.abs(z)-Math.abs(V));O-=ie,V+=ie}}else{var xe=[s.scale(I[0]),s.scale(I[1])],Pe=xe[0],he=xe[1];if(N=Pe,O=p3({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:C,index:k}),D=he-Pe,V=p.size,U={x:s.x,y:O,width:s.width,height:V},Math.abs(z)>0&&Math.abs(D)<Math.abs(z)){var q=qr(D||z)*(Math.abs(z)-Math.abs(D));D+=q}}return Rn(Rn(Rn({},C),{},{x:N,y:O,width:D,height:V,value:u?I:I[1],payload:C,background:U},A&&A[k]&&A[k].props),{},{tooltipPayload:[bQ(n,C)],tooltipPosition:{x:N+D/2,y:O+V/2}})});return Rn({data:T,layout:g},h)});function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function H9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZQ(r.key),r)}}function q9e(t,e,n){return e&&E6(t.prototype,e),n&&E6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){FS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FS(t,e,n){return e=ZQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQ(t){var e=K9e(t,"string");return Iv(e)=="symbol"?e:e+""}function K9e(t,e){if(Iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zS=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},h=!!Ni(u,Di);return d.reduce(function(p,g){var m=n[g],v=m.orientation,y=m.domain,x=m.padding,_=x===void 0?{}:x,E=m.mirror,S=m.reversed,j="".concat(v).concat(E?"Mirror":""),A,T,C,k,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],O=1/0,D=m.categoricalDomain.sort(oCe);if(D.forEach(function(xe,Pe){Pe>0&&(O=Math.min((xe||0)-(D[Pe-1]||0),O))}),Number.isFinite(O)){var V=O/N,U=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(A=V*U/2),m.padding==="no-gap"){var z=Kr(e.barCategoryGap,V*U),L=V*U/2;A=L-z-(L-z)/U*z}}}i==="xAxis"?T=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:T=m.range,S&&(T=[T[1],T[0]]);var F=gQ(m,s,h),W=F.scale,ne=F.realScaleType;W.domain(y).range(T),vQ(W);var Q=yQ(W,Is(Is({},m),{},{realScaleType:ne}));i==="xAxis"?(I=v==="top"&&!E||v==="bottom"&&E,C=r.left,k=f[j]-I*m.height):i==="yAxis"&&(I=v==="left"&&!E||v==="right"&&E,C=f[j]-I*m.width,k=r.top);var ie=Is(Is(Is({},m),Q),{},{realScaleType:ne,x:C,y:k,scale:W,width:i==="xAxis"?r.width:m.width,height:i==="yAxis"?r.height:m.height});return ie.bandSize=kw(ie,Q),!m.hide&&i==="xAxis"?f[j]+=(I?-1:1)*ie.height:m.hide||(f[j]+=(I?-1:1)*ie.width),Is(Is({},p),{},FS({},g,ie))},{})},JQ=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},G9e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return JQ({x:n,y:r},{x:i,y:s})},eZ=function(){function t(e){H9e(this,t),this.scale=e}return q9e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();FS(eZ,"EPS",1e-4);var mR=function(e){var n=Object.keys(e).reduce(function(r,i){return Is(Is({},r),{},FS({},i,eZ.create(e[i])))},{});return Is(Is({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return p9e(i,function(l,u){return n[u].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return GQ(i,function(s,a){return n[a].isInRange(s)})}})};function Y9e(t){return(t%180+180)%180}var X9e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Y9e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Q9e=Ga,Z9e=jy,J9e=wS;function e8e(t){return function(e,n,r){var i=Object(e);if(!Z9e(e)){var s=Q9e(n);e=J9e(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var t8e=e8e,n8e=WQ;function r8e(t){var e=n8e(t),n=e%1;return e===e?n?e-n:e:0}var i8e=r8e,s8e=XY,a8e=Ga,o8e=i8e,l8e=Math.max;function c8e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:o8e(n);return i<0&&(i=l8e(r+i,0)),s8e(t,a8e(e),i)}var u8e=c8e,d8e=t8e,f8e=u8e,h8e=d8e(f8e),p8e=h8e;const m8e=Nt(p8e);var g8e=uje(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),gR=b.createContext(void 0),vR=b.createContext(void 0),tZ=b.createContext(void 0),nZ=b.createContext({}),rZ=b.createContext(void 0),iZ=b.createContext(0),sZ=b.createContext(0),A6=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,u=e.height,d=g8e(s);return M.createElement(gR.Provider,{value:r},M.createElement(vR.Provider,{value:i},M.createElement(nZ.Provider,{value:s},M.createElement(tZ.Provider,{value:d},M.createElement(rZ.Provider,{value:a},M.createElement(iZ.Provider,{value:u},M.createElement(sZ.Provider,{value:l},o)))))))},v8e=function(){return b.useContext(rZ)},aZ=function(e){var n=b.useContext(gR);n==null&&Uu();var r=n[e];return r==null&&Uu(),r},y8e=function(){var e=b.useContext(gR);return jl(e)},x8e=function(){var e=b.useContext(vR),n=m8e(e,function(r){return GQ(r.domain,Number.isFinite)});return n||jl(e)},oZ=function(e){var n=b.useContext(vR);n==null&&Uu();var r=n[e];return r==null&&Uu(),r},b8e=function(){var e=b.useContext(tZ);return e},w8e=function(){return b.useContext(nZ)},yR=function(){return b.useContext(sZ)},xR=function(){return b.useContext(iZ)};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function _8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cZ(r.key),r)}}function E8e(t,e,n){return e&&S8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T8e(t,e,n){return e=Gw(e),A8e(t,lZ()?Reflect.construct(e,n||[],Gw(t).constructor):e.apply(t,n))}function A8e(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j8e(t)}function j8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lZ=function(){return!!t})()}function Gw(t){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gw(t)}function C8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tk(t,e)}function j6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(n),!0).forEach(function(r){bR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bR(t,e,n){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=P8e(t,"string");return yh(e)=="symbol"?e:e+""}function P8e(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function k8e(t,e){return R8e(t)||O8e(t,e)||I8e(t,e)||N8e()}function N8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I8e(t,e){if(t){if(typeof t=="string")return P6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P6(t,e)}}function P6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function R8e(t){if(Array.isArray(t))return t}function nk(){return nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nk.apply(this,arguments)}var M8e=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Be(e)?r=e(n):r=M.createElement("line",nk({},n,{className:"recharts-reference-line-line"})),r},D8e=function(e,n,r,i,s,a,o,l,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(r){var g=u.y,m=e.y.apply(g,{position:a});if(Ia(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?v.reverse():v}if(n){var y=u.x,x=e.x.apply(y,{position:a});if(Ia(u,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:f+p},{x,y:f}];return o==="top"?_.reverse():_}if(i){var E=u.segment,S=E.map(function(j){return e.apply(j,{position:a})});return Ia(u,"discard")&&a9e(S,function(j){return!e.isInRange(j)})?null:S}return null};function L8e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,u=v8e(),d=aZ(i),f=oZ(s),h=b8e();if(!u||!h)return null;Ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=mR({x:d.scale,y:f.scale}),g=qn(e),m=qn(n),v=r&&r.length===2,y=D8e(p,g,m,v,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=k8e(y,2),_=x[0],E=_.x,S=_.y,j=x[1],A=j.x,T=j.y,C=Ia(t,"hidden")?"url(#".concat(u,")"):void 0,k=C6(C6({clipPath:C},De(t,!0)),{},{x1:E,y1:S,x2:A,y2:T});return M.createElement(at,{className:it("recharts-reference-line",o)},M8e(a,k),Jn.renderCallByParent(t,G9e({x1:E,y1:S,x2:A,y2:T})))}var wR=function(t){function e(){return _8e(this,e),T8e(this,e,arguments)}return C8e(e,t),E8e(e,[{key:"render",value:function(){return M.createElement(L8e,this.props)}}])}(M.Component);bR(wR,"displayName","ReferenceLine");bR(wR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rk(){return rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rk.apply(this,arguments)}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function k6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k6(Object(n),!0).forEach(function(r){US(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dZ(r.key),r)}}function F8e(t,e,n){return e&&V8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z8e(t,e,n){return e=Yw(e),U8e(t,uZ()?Reflect.construct(e,n||[],Yw(t).constructor):e.apply(t,n))}function U8e(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B8e(t)}function B8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uZ=function(){return!!t})()}function Yw(t){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yw(t)}function W8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ik(t,e)}function ik(t,e){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ik(t,e)}function US(t,e,n){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=H8e(t,"string");return xh(e)=="symbol"?e:e+""}function H8e(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q8e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=mR({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Ia(e,"discard")&&!a.isInRange(o)?null:o},BS=function(t){function e(){return $8e(this,e),z8e(this,e,arguments)}return W8e(e,t),F8e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,u=qn(i),d=qn(s);if(Ws(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=q8e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,y=Ia(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=N6(N6({clipPath:y},De(this.props,!0)),{},{cx:h,cy:p});return M.createElement(at,{className:it("recharts-reference-dot",v)},e.renderDot(m,x),Jn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(M.Component);US(BS,"displayName","ReferenceDot");US(BS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});US(BS,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Be(t)?n=t(e):n=M.createElement(Oy,rk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sk.apply(this,arguments)}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){WS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hZ(r.key),r)}}function Y8e(t,e,n){return e&&G8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X8e(t,e,n){return e=Xw(e),Q8e(t,fZ()?Reflect.construct(e,n||[],Xw(t).constructor):e.apply(t,n))}function Q8e(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z8e(t)}function Z8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fZ=function(){return!!t})()}function Xw(t){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xw(t)}function J8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ak(t,e)}function WS(t,e,n){return e=hZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hZ(t){var e=eWe(t,"string");return bh(e)=="symbol"?e:e+""}function eWe(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tWe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=mR({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ia(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:JQ(p,g)},HS=function(t){function e(){return K8e(this,e),X8e(this,e,arguments)}return J8e(e,t),Y8e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;Ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qn(i),h=qn(s),p=qn(a),g=qn(o),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=tWe(f,h,p,g,this.props);if(!v&&!m)return null;var y=Ia(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(at,{className:it("recharts-reference-area",l)},e.renderRect(m,O6(O6({clipPath:y},De(this.props,!0)),v)),Jn.renderCallByParent(this.props,v))}}])}(M.Component);WS(HS,"displayName","ReferenceArea");WS(HS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});WS(HS,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Be(t)?n=t(e):n=M.createElement(pR,sk({},e,{className:"recharts-reference-area-rect"})),n});function pZ(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nWe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return X9e(r,n)}function rWe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Qw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function iWe(t,e){return pZ(t,e+1)}function sWe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,u=1,d=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:pZ(r,u)};var m=l,v,y=function(){return v===void 0&&(v=n(g,m)),v},x=g.coordinate,_=l===0||Qw(t,x,y,d,o);_||(l=0,d=a,u+=1),_&&(d=x+t*(y()/2+i),l+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function R6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(n),!0).forEach(function(r){aWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aWe(t,e,n){return e=oWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oWe(t){var e=lWe(t,"string");return Ov(e)=="symbol"?e:e+""}function lWe(t,e){if(Ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cWe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=n(p,h)),g};if(h===a-1){var v=t*(p.coordinate+t*m()/2-l);s[h]=p=jr(jr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else s[h]=p=jr(jr({},p),{},{tickCoord:p.coordinate});var y=Qw(t,p.tickCoord,m,o,l);y&&(l=p.tickCoord-t*(m()/2+i),s[h]=jr(jr({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function uWe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,u=e.end;if(s){var d=r[o-1],f=n(d,o-1),h=t*(d.coordinate+t*f/2-u);a[o-1]=d=jr(jr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Qw(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),a[o-1]=jr(jr({},d),{},{isShow:!0}))}for(var g=s?o-1:o,m=function(x){var _=a[x],E,S=function(){return E===void 0&&(E=n(_,x)),E};if(x===0){var j=t*(_.coordinate-t*S()/2-l);a[x]=_=jr(jr({},_),{},{tickCoord:j<0?_.coordinate-j*t:_.coordinate})}else a[x]=_=jr(jr({},_),{},{tickCoord:_.coordinate});var A=Qw(t,_.tickCoord,S,l,u);A&&(l=_.tickCoord+t*(S()/2+i),a[x]=jr(jr({},_),{},{isShow:!0}))},v=0;v<g;v++)m(v);return a}function _R(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ye(l)||Yo.isSsr)return iWe(i,typeof l=="number"&&ye(l)?l:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Gm(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(_,E){var S=Be(u)?u(_.value,E):_.value;return p==="width"?nWe(Gm(S,{fontSize:e,letterSpacing:n}),g,f):Gm(S,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?qr(i[1].coordinate-i[0].coordinate):1,y=rWe(s,v,p);return l==="equidistantPreserveStart"?sWe(v,y,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=uWe(v,y,m,i,a,l==="preserveStartEnd"):h=cWe(v,y,m,i,a),h.filter(function(x){return x.isShow}))}var dWe=["viewBox"],fWe=["viewBox"],hWe=["ticks"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){SR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hA(t,e){if(t==null)return{};var n=pWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gZ(r.key),r)}}function gWe(t,e,n){return e&&D6(t.prototype,e),n&&D6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vWe(t,e,n){return e=Zw(e),yWe(t,mZ()?Reflect.construct(e,n||[],Zw(t).constructor):e.apply(t,n))}function yWe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xWe(t)}function xWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mZ=function(){return!!t})()}function Zw(t){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zw(t)}function bWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ok(t,e)}function ok(t,e){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ok(t,e)}function SR(t,e,n){return e=gZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=wWe(t,"string");return wh(e)=="symbol"?e:e+""}function wWe(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _p=function(t){function e(n){var r;return mWe(this,e),r=vWe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bWe(e,t),gWe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=hA(r,dWe),o=this.props,l=o.viewBox,u=hA(o,fWe);return!Sf(s,l)||!Sf(a,u)||!Sf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,m,v,y,x,_=f?-1:1,E=r.tickSize||d,S=ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=g=r.coordinate,v=a+ +!f*l,m=v-_*E,x=m-_*h,y=S;break;case"left":m=v=r.coordinate,g=s+ +!f*o,p=g-_*E,y=p-_*h,x=S;break;case"right":m=v=r.coordinate,g=s+ +f*o,p=g+_*E,y=p+_*h,x=S;break;default:p=g=r.coordinate,v=a+ +f*l,m=v+_*E,x=m+_*h,y=S;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=$r($r($r({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=$r($r({},f),{},{x1:i,y1:s+h*o,x2:i+a,y2:s+h*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=$r($r({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return M.createElement("line",sf({},f,{className:it("recharts-cartesian-axis-line",Hi(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=_R($r($r({},this.props),{},{ticks:r}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=De(this.props,!1),y=De(d,!1),x=$r($r({},v),{},{fill:"none"},De(l,!1)),_=p.map(function(E,S){var j=a.getTickLineCoord(E),A=j.line,T=j.tick,C=$r($r($r($r({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},y),T),{},{index:S,payload:E,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(at,sf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},vc(a.props,E,S)),l&&M.createElement("line",sf({},x,A,{className:it("recharts-cartesian-axis-tick-line",Hi(l,"className"))})),d&&e.renderTickItem(d,C,"".concat(Be(f)?f(E.value,S):E.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=hA(f,hWe),g=h;return Be(l)&&(g=h&&h.length>0?l(this.props):l(p)),a<=0||o<=0||!g||!g.length?null:M.createElement(at,{className:it("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Be(r)?a=r(i):a=M.createElement(Fu,sf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(b.Component);SR(_p,"displayName","CartesianAxis");SR(_p,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _We=["x1","y1","x2","y2","key"],SWe=["offset"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){EWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EWe(t,e,n){return e=TWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TWe(t){var e=AWe(t,"string");return Bu(e)=="symbol"?e:e+""}function AWe(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}function $6(t,e){if(t==null)return{};var n=jWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var CWe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return M.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vZ(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Be(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=$6(e,_We),u=De(l,!1);u.offset;var d=$6(u,SWe);n=M.createElement("line",fu({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function PWe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=Nr(Nr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return vZ(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function kWe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=Nr(Nr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return vZ(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function NWe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+a-h:d[p+1]-h;if(m<=0)return null;var v=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:m,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function IWe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var v=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var OWe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return mQ(_R(Nr(Nr(Nr({},_p.defaultProps),r),{},{ticks:po(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},RWe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return mQ(_R(Nr(Nr(Nr({},_p.defaultProps),r),{},{ticks:po(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Ed={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ml(t){var e,n,r,i,s,a,o=yR(),l=xR(),u=w8e(),d=Nr(Nr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ed.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ed.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ed.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ed.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Ed.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ed.verticalFill,x:ye(t.x)?t.x:u.left,y:ye(t.y)?t.y:u.top,width:ye(t.width)?t.width:u.width,height:ye(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,x=y8e(),_=x8e();if(!ye(p)||p<=0||!ye(g)||g<=0||!ye(f)||f!==+f||!ye(h)||h!==+h)return null;var E=d.verticalCoordinatesGenerator||OWe,S=d.horizontalCoordinatesGenerator||RWe,j=d.horizontalPoints,A=d.verticalPoints;if((!j||!j.length)&&Be(S)){var T=v&&v.length,C=S({yAxis:_?Nr(Nr({},_),{},{ticks:T?v:_.ticks}):void 0,width:o,height:l,offset:u},T?!0:m);Ws(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bu(C),"]")),Array.isArray(C)&&(j=C)}if((!A||!A.length)&&Be(E)){var k=y&&y.length,I=E({xAxis:x?Nr(Nr({},x),{},{ticks:k?y:x.ticks}):void 0,width:o,height:l,offset:u},k?!0:m);Ws(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bu(I),"]")),Array.isArray(I)&&(A=I)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(CWe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(PWe,fu({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:_})),M.createElement(kWe,fu({},d,{offset:u,verticalPoints:A,xAxis:x,yAxis:_})),M.createElement(NWe,fu({},d,{horizontalPoints:j})),M.createElement(IWe,fu({},d,{verticalPoints:A})))}Ml.displayName="CartesianGrid";var MWe=["type","layout","connectNulls","ref"],DWe=["key"];function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function V6(t,e){if(t==null)return{};var n=LWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){Os(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Td(t){return zWe(t)||FWe(t)||VWe(t)||$We()}function $We(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VWe(t,e){if(t){if(typeof t=="string")return lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lk(t,e)}}function FWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zWe(t){if(Array.isArray(t))return lk(t)}function lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xZ(r.key),r)}}function BWe(t,e,n){return e&&z6(t.prototype,e),n&&z6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WWe(t,e,n){return e=Jw(e),HWe(t,yZ()?Reflect.construct(e,n||[],Jw(t).constructor):e.apply(t,n))}function HWe(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qWe(t)}function qWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yZ=function(){return!!t})()}function Jw(t){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jw(t)}function KWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ck(t,e)}function Os(t,e,n){return e=xZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xZ(t){var e=GWe(t,"string");return _h(e)=="symbol"?e:e+""}function GWe(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=function(t){function e(){var n;UWe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=WWe(this,e,[].concat(i)),Os(n,"state",{isAnimationFinished:!0,totalLength:0}),Os(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Os(n,"getStrokeDasharray",function(a,o,l){var u=l.reduce(function(y,x){return y+x});if(!u)return n.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/u),f=a%u,h=o-a,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){p=[].concat(Td(l.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Td(e.repeat(l,d)),Td(p),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Os(n,"id",Pc("recharts-line-")),Os(n,"pathRef",function(a){n.mainCurve=a}),Os(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Os(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return KWe(e,t),BWe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,f=Qr(d,wp);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:tn(m.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(at,p,f.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,f=De(this.props,!1),h=De(l,!0),p=u.map(function(m,v){var y=ji(ji(ji({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return e.renderDotItem(l,y)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return M.createElement(at,eg({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=V6(o,MWe),h=ji(ji(ji({},De(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:d});return M.createElement(nc,eg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,m=a.width,v=a.height,y=this.state,x=y.prevPoints,_=y.totalLength;return M.createElement(vs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var S=E.t;if(x){var j=x.length/o.length,A=o.map(function(N,O){var D=Math.floor(O*j);if(x[D]){var V=x[D],U=un(V.x,N.x),z=un(V.y,N.y);return ji(ji({},N),{},{x:U(S),y:z(S)})}if(g){var L=un(m*2,N.x),F=un(v/2,N.y);return ji(ji({},N),{},{x:L(S),y:F(S)})}return ji(ji({},N),{},{x:N.x,y:N.y})});return s.renderCurveStatically(A,r,i)}var T=un(0,_),C=T(S),k;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});k=s.getStrokeDasharray(C,_,I)}else k=s.generateSimpleStrokeDasharray(_,C);return s.renderCurveStatically(o,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&a&&a.length&&(!u&&d>0||!yc(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,x=o.length===1,_=it("recharts-line",l),E=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,j=E||S,A=We(v)?this.id:v,T=(r=De(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=T.r,k=C===void 0?3:C,I=T.strokeWidth,N=I===void 0?2:I,O=oY(a)?a:{},D=O.clipDot,V=D===void 0?!0:D,U=k*2+N;return M.createElement(at,{className:_},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:E?h:h-p/2,y:S?f:f-g/2,width:E?p:p*2,height:S?g:g*2})),!V&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:h-U/2,y:f-U/2,width:p+U,height:g+U}))):null,!x&&this.renderCurve(j,A),this.renderErrorBar(j,A),(x||a)&&this.renderDots(j,V,A),(!m||y)&&Hs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Td(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(Td(a),Td(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(M.isValidElement(r))s=M.cloneElement(r,i);else if(Be(r))s=r(i);else{var a=i.key,o=V6(i,DWe),l=it("recharts-line-dot",typeof r!="boolean"?r.className:"");s=M.createElement(Oy,eg({key:a},o,{className:l}))}return s}}])}(b.PureComponent);Os(rc,"displayName","Line");Os(rc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Yo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Os(rc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,p){var g=tn(h,a);return d==="horizontal"?{x:uh({axis:n,ticks:i,bandSize:o,entry:h,index:p}),y:We(g)?null:r.scale(g),value:g,payload:h}:{x:We(g)?null:n.scale(g),y:uh({axis:r,ticks:s,bandSize:o,entry:h,index:p}),value:g,payload:h}});return ji({points:f,layout:d},u)});var YWe=["layout","type","stroke","connectNulls","isRange","ref"],XWe=["key"],bZ;function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function wZ(t,e){if(t==null)return{};var n=QWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function U6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U6(Object(n),!0).forEach(function(r){va(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SZ(r.key),r)}}function JWe(t,e,n){return e&&B6(t.prototype,e),n&&B6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e7e(t,e,n){return e=e1(e),t7e(t,_Z()?Reflect.construct(e,n||[],e1(t).constructor):e.apply(t,n))}function t7e(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n7e(t)}function n7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_Z=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e1(t)}function r7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uk(t,e)}function va(t,e,n){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SZ(t){var e=i7e(t,"string");return Sh(e)=="symbol"?e:e+""}function i7e(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Va=function(t){function e(){var n;ZWe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=e7e(this,e,[].concat(i)),va(n,"state",{isAnimationFinished:!0}),va(n,"id",Pc("recharts-area-")),va(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(a)&&a()}),va(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(a)&&a()}),n}return r7e(e,t),JWe(e,[{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=De(this.props,!1),p=De(u,!0),g=d.map(function(v,y){var x=dl(dl(dl({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,x)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return M.createElement(at,hu({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,d=r*Math.abs(l-u),f=Ol(a.map(function(h){return h.y||0}));return ye(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ol(s.map(function(h){return h.y||0})),f)),ye(f)?M.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,d=r*Math.abs(l-u),f=Ol(a.map(function(h){return h.x||0}));return ye(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Ol(s.map(function(h){return h.x||0})),f)),ye(f)?M.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,a){var o=this.props,l=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=wZ(o,YWe);return M.createElement(at,{clipPath:s?"url(#clipPath-".concat(a,")"):null},M.createElement(nc,hu({},De(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(nc,hu({},De(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&M.createElement(nc,hu({},De(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return M.createElement(vs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(m){var _=m.length/o.length,E=o.map(function(T,C){var k=Math.floor(C*_);if(m[k]){var I=m[k],N=un(I.x,T.x),O=un(I.y,T.y);return dl(dl({},T),{},{x:N(x),y:O(x)})}return T}),S;if(ye(l)&&typeof l=="number"){var j=un(v,l);S=j(x)}else if(We(l)||pp(l)){var A=un(v,0);S=A(x)}else S=l.map(function(T,C){var k=Math.floor(C*_);if(v[k]){var I=v[k],N=un(I.x,T.x),O=un(I.y,T.y);return dl(dl({},T),{},{x:N(x),y:O(x)})}return T});return s.renderAreaStatically(E,S,r,i)}return M.createElement(at,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(x))),M.createElement(at,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&a&&a.length&&(!d&&h>0||!yc(d,a)||!yc(f,o))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(a,o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,x=o.length===1,_=it("recharts-area",l),E=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,j=E||S,A=We(v)?this.id:v,T=(r=De(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=T.r,k=C===void 0?3:C,I=T.strokeWidth,N=I===void 0?2:I,O=oY(a)?a:{},D=O.clipDot,V=D===void 0?!0:D,U=k*2+N;return M.createElement(at,{className:_},E||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(A)},M.createElement("rect",{x:E?d:d-p/2,y:S?u:u-g/2,width:E?p:p*2,height:S?g:g*2})),!V&&M.createElement("clipPath",{id:"clipPath-dots-".concat(A)},M.createElement("rect",{x:d-U/2,y:u-U/2,width:p+U,height:g+U}))):null,x?null:this.renderArea(j,A),(a||x)&&this.renderDots(j,V,A),(!m||y)&&Hs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);bZ=Va;va(Va,"displayName","Area");va(Va,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});va(Va,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(ye(o)&&typeof o=="number")return o;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});va(Va,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,g=u&&u.length,m=bZ.getBaseValue(e,n,r,i),v=p==="horizontal",y=!1,x=f.map(function(E,S){var j;g?j=u[d+S]:(j=tn(E,l),Array.isArray(j)?y=!0:j=[m,j]);var A=j[1]==null||g&&tn(E,l)==null;return v?{x:uh({axis:r,ticks:s,bandSize:o,entry:E,index:S}),y:A?null:i.scale(j[1]),value:j,payload:E}:{x:A?null:r.scale(j[1]),y:uh({axis:i,ticks:a,bandSize:o,entry:E,index:S}),value:j,payload:E}}),_;return g||y?_=x.map(function(E){var S=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:S!=null&&E.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:E.y}}):_=v?i.scale(m):r.scale(m),dl({points:x,baseLine:_,layout:p,isRange:y},h)});va(Va,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Be(t))n=t(e);else{var r=it("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=wZ(e,XWe);n=M.createElement(Oy,hu({},s,{key:i,className:r}))}return n});function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function s7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AZ(r.key),r)}}function o7e(t,e,n){return e&&a7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l7e(t,e,n){return e=t1(e),c7e(t,EZ()?Reflect.construct(e,n||[],t1(t).constructor):e.apply(t,n))}function c7e(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u7e(t)}function u7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!t})()}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t1(t)}function d7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dk(t,e)}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dk(t,e)}function TZ(t,e,n){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=f7e(t,"string");return Eh(e)=="symbol"?e:e+""}function f7e(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qS=function(t){function e(){return s7e(this,e),l7e(this,e,arguments)}return d7e(e,t),o7e(e,[{key:"render",value:function(){return null}}])}(M.Component);TZ(qS,"displayName","ZAxis");TZ(qS,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var h7e=["option","isActive"];function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tg.apply(this,arguments)}function p7e(t,e){if(t==null)return{};var n=m7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g7e(t){var e=t.option,n=t.isActive,r=p7e(t,h7e);return typeof e=="string"?M.createElement(zw,tg({option:M.createElement(bS,tg({type:e},r)),isActive:n,shapeType:"symbols"},r)):M.createElement(zw,tg({option:e,isActive:n,shapeType:"symbols"},r))}function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function W6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CZ(r.key),r)}}function y7e(t,e,n){return e&&H6(t.prototype,e),n&&H6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x7e(t,e,n){return e=n1(e),b7e(t,jZ()?Reflect.construct(e,n||[],n1(t).constructor):e.apply(t,n))}function b7e(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w7e(t)}function w7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jZ=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n1(t)}function _7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fk(t,e)}function Dl(t,e,n){return e=CZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=S7e(t,"string");return Th(e)=="symbol"?e:e+""}function S7e(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ry=function(t){function e(){var n;v7e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=x7e(this,e,[].concat(i)),Dl(n,"state",{isAnimationFinished:!1}),Dl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Dl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Dl(n,"id",Pc("recharts-scatter-")),n}return _7e(e,t),y7e(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.activeShape,l=s.activeIndex,u=De(this.props,!1);return r.map(function(d,f){var h=l===f,p=h?o:a,g=ns(ns({},u),d);return M.createElement(at,ng({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},vc(i.props,d,f),{role:"img"}),M.createElement(g7e,ng({option:p,isActive:h,key:"symbol-".concat(f)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,s=i.points,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return M.createElement(vs,{begin:o,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,g=s.map(function(m,v){var y=f&&f[v];if(y){var x=un(y.cx,m.cx),_=un(y.cy,m.cy),E=un(y.size,m.size);return ns(ns({},m),{},{cx:x(p),cy:_(p),size:E(p)})}var S=un(0,m.size);return ns(ns({},m),{},{size:S(p)})});return M.createElement(at,null,r.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,a=this.state.prevPoints;return s&&i&&i.length&&(!a||!yc(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,a=i.xAxis,o=i.yAxis,l=i.children,u=Qr(l,wp);return u?u.map(function(d,f){var h=d.props,p=h.direction,g=h.dataKey;return M.cloneElement(d,{key:"".concat(p,"-").concat(g,"-").concat(s[f]),data:s,xAxis:a,yAxis:o,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(v,y){return{x:v.cx,y:v.cy,value:p==="x"?+v.node.x:+v.node.y,errorVal:tn(v,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,s=r.line,a=r.lineType,o=r.lineJointType,l=De(this.props,!1),u=De(s,!1),d,f;if(a==="joint")d=i.map(function(_){return{x:_.cx,y:_.cy}});else if(a==="fitting"){var h=aCe(i),p=h.xmin,g=h.xmax,m=h.a,v=h.b,y=function(E){return m*E+v};d=[{x:p,y:y(p)},{x:g,y:y(g)}]}var x=ns(ns(ns({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:d});return M.isValidElement(s)?f=M.cloneElement(s,x):Be(s)?f=s(x):f=M.createElement(nc,ng({},x,{type:o})),M.createElement(at,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.points,a=r.line,o=r.className,l=r.xAxis,u=r.yAxis,d=r.left,f=r.top,h=r.width,p=r.height,g=r.id,m=r.isAnimationActive;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=it("recharts-scatter",o),x=l&&l.allowDataOverflow,_=u&&u.allowDataOverflow,E=x||_,S=We(g)?this.id:g;return M.createElement(at,{className:y,clipPath:E?"url(#clipPath-".concat(S,")"):null},x||_?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?d:d-h/2,y:_?f:f-p/2,width:x?h:h*2,height:_?p:p*2}))):null,a&&this.renderLine(),this.renderErrorBar(),M.createElement(at,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||v)&&Hs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(b.PureComponent);Dl(Ry,"displayName","Scatter");Dl(Ry,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Yo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Dl(Ry,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,s=t.displayedData,a=t.xAxisTicks,o=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,d=Qr(i.props.children,Cy),f=We(e.dataKey)?i.props.dataKey:e.dataKey,h=We(n.dataKey)?i.props.dataKey:n.dataKey,p=r&&r.dataKey,g=r?r.range:qS.defaultProps.range,m=g&&g[0],v=e.scale.bandwidth?e.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,x=s.map(function(_,E){var S=tn(_,f),j=tn(_,h),A=!We(p)&&tn(_,p)||"-",T=[{name:We(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:_,dataKey:f,type:u},{name:We(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:j,payload:_,dataKey:h,type:u}];A!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:_,dataKey:p,type:u});var C=uh({axis:e,ticks:a,bandSize:v,entry:_,index:E,dataKey:f}),k=uh({axis:n,ticks:o,bandSize:y,entry:_,index:E,dataKey:h}),I=A!=="-"?r.scale(A):m,N=Math.sqrt(Math.max(I,0)/Math.PI);return ns(ns({},_),{},{cx:C,cy:k,x:C-N,y:k-N,xAxis:e,yAxis:n,zAxis:r,width:2*N,height:2*N,size:I,node:{x:S,y:j,z:A},tooltipPayload:T,tooltipPosition:{x:C,y:k},payload:_},d&&d[E]&&d[E].props)});return ns({points:x},l)});function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function E7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NZ(r.key),r)}}function A7e(t,e,n){return e&&T7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j7e(t,e,n){return e=r1(e),C7e(t,PZ()?Reflect.construct(e,n||[],r1(t).constructor):e.apply(t,n))}function C7e(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P7e(t)}function P7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PZ=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r1(t)}function k7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hk(t,e)}function hk(t,e){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hk(t,e)}function kZ(t,e,n){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=N7e(t,"string");return Ah(e)=="symbol"?e:e+""}function N7e(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pk.apply(this,arguments)}function I7e(t){var e=t.xAxisId,n=yR(),r=xR(),i=aZ(e);return i==null?null:M.createElement(_p,pk({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return po(a,!0)}}))}var Vi=function(t){function e(){return E7e(this,e),j7e(this,e,arguments)}return k7e(e,t),A7e(e,[{key:"render",value:function(){return M.createElement(I7e,this.props)}}])}(M.Component);kZ(Vi,"displayName","XAxis");kZ(Vi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function O7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RZ(r.key),r)}}function M7e(t,e,n){return e&&R7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D7e(t,e,n){return e=i1(e),L7e(t,IZ()?Reflect.construct(e,n||[],i1(t).constructor):e.apply(t,n))}function L7e(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $7e(t)}function $7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IZ=function(){return!!t})()}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i1(t)}function V7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mk(t,e)}function OZ(t,e,n){return e=RZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=F7e(t,"string");return jh(e)=="symbol"?e:e+""}function F7e(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gk.apply(this,arguments)}var z7e=function(e){var n=e.yAxisId,r=yR(),i=xR(),s=oZ(n);return s==null?null:M.createElement(_p,gk({},s,{className:it("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return po(o,!0)}}))},Fi=function(t){function e(){return O7e(this,e),D7e(this,e,arguments)}return V7e(e,t),M7e(e,[{key:"render",value:function(){return M.createElement(z7e,this.props)}}])}(M.Component);OZ(Fi,"displayName","YAxis");OZ(Fi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function q6(t){return H7e(t)||W7e(t)||B7e(t)||U7e()}function U7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7e(t,e){if(t){if(typeof t=="string")return vk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(t,e)}}function W7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H7e(t){if(Array.isArray(t))return vk(t)}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yk=function(e,n,r,i,s){var a=Qr(e,wR),o=Qr(e,BS),l=[].concat(q6(a),q6(o)),u=Qr(e,HS),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(m,v){if(v.props[d]===r&&Ia(v.props,"extendDomain")&&ye(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===r&&Ia(v.props,"extendDomain")&&ye(v.props[p])&&ye(v.props[g])){var y=v.props[p],x=v.props[g];return[Math.min(m[0],y,x),Math.max(m[1],y,x)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return ye(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},MZ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,x,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];v.fn.apply(v.context,x)}else{var E=v.length,S;for(_=0;_<E;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];v[_].fn.apply(v[_].context,x)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(MZ);var q7e=MZ.exports;const K7e=Nt(q7e);var pA=new K7e,mA="recharts.syncMouseEvents";function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function G7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DZ(r.key),r)}}function X7e(t,e,n){return e&&Y7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gA(t,e,n){return e=DZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DZ(t){var e=Q7e(t,"string");return Rv(e)=="symbol"?e:e+""}function Q7e(t,e){if(Rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z7e=function(){function t(){G7e(this,t),gA(this,"activeIndex",0),gA(this,"coordinateList",[]),gA(this,"layout","horizontal")}return X7e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+u,h=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function J7e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ye(r)&&ye(i))return!0}return!1}function eHe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LZ(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Kt(e,n,r,i),o=Kt(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function tHe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Kt(o,l,u,f),p=Kt(o,l,d,f);r=h.x,i=h.y,s=p.x,a=p.y}else return LZ(e);return[{x:r,y:i},{x:s,y:a}]}function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function K6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(n),!0).forEach(function(r){nHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nHe(t,e,n){return e=rHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rHe(t){var e=iHe(t,"string");return Mv(e)=="symbol"?e:e+""}function iHe(t,e){if(Mv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sHe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,m=nc;if(h==="ScatterChart")g=a,m=qze;else if(h==="BarChart")g=eHe(f,a,l,d),m=pR;else if(f==="radial"){var v=LZ(a),y=v.cx,x=v.cy,_=v.radius,E=v.startAngle,S=v.endAngle;g={cx:y,cy:x,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},m=AQ}else g={points:tHe(f,a,l)},m=nc;var j=Q0(Q0(Q0(Q0({stroke:"#ccc",pointerEvents:"none"},l),g),De(p,!1)),{},{payload:o,payloadIndex:u,className:it("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,j):b.createElement(m,j)}var aHe=["item"],oHe=["children","className","width","height","style","compact","title","desc"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},af.apply(this,arguments)}function G6(t,e){return uHe(t)||cHe(t,e)||VZ(t,e)||lHe()}function lHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function uHe(t){if(Array.isArray(t))return t}function Y6(t,e){if(t==null)return{};var n=dHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FZ(r.key),r)}}function pHe(t,e,n){return e&&hHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mHe(t,e,n){return e=s1(e),gHe(t,$Z()?Reflect.construct(e,n||[],s1(t).constructor):e.apply(t,n))}function gHe(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vHe(t)}function vHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Z=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s1(t)}function yHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xk(t,e)}function xk(t,e){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xk(t,e)}function Ph(t){return wHe(t)||bHe(t)||VZ(t)||xHe()}function xHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VZ(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wHe(t){if(Array.isArray(t))return bk(t)}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X6(Object(n),!0).forEach(function(r){He(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function He(t,e,n){return e=FZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=_He(t,"string");return Ch(e)=="symbol"?e:e+""}function _He(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SHe={xAxis:["bottom","top"],yAxis:["left","right"]},EHe={width:"100%",height:"100%"},zZ={x:0,y:0};function Z0(t){return t}var THe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},AHe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return se(se(se({},i),Kt(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,u=i.angle;return se(se(se({},i),Kt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return zZ},KS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Ph(o),Ph(u)):o},[]);return a.length>0?a:e&&e.length&&ye(i)&&ye(s)?e.slice(i,s+1):[]};function UZ(t){return t==="number"?[0,"auto"]:void 0}var wk=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=KS(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;h=nw(p,a.dataKey,i)}else h=f&&f[r]||o[r];return h?[].concat(Ph(l),[bQ(u,h)]):l},[])},Q6=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=THe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=gFe(a,o,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=wk(e,n,d,f),p=AHe(r,o,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},jHe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=pQ(d,s);return r.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,x=y.type,_=y.dataKey,E=y.allowDataOverflow,S=y.allowDuplicatedCategory,j=y.scale,A=y.ticks,T=y.includeHidden,C=y[a];if(g[C])return g;var k=KS(e.data,{graphicalItems:i.filter(function(Q){var ie,xe=a in Q.props?Q.props[a]:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie[a];return xe===C}),dataStartIndex:l,dataEndIndex:u}),I=k.length,N,O,D;J7e(y.domain,E,x)&&(N=IP(y.domain,null,E),p&&(x==="number"||j!=="auto")&&(D=Xm(k,_,"category")));var V=UZ(x);if(!N||N.length===0){var U,z=(U=y.domain)!==null&&U!==void 0?U:V;if(_){if(N=Xm(k,_,x),x==="category"&&p){var L=sCe(N);S&&L?(O=N,N=Bw(0,I)):S||(N=v3(z,N,m).reduce(function(Q,ie){return Q.indexOf(ie)>=0?Q:[].concat(Ph(Q),[ie])},[]))}else if(x==="category")S?N=N.filter(function(Q){return Q!==""&&!We(Q)}):N=v3(z,N,m).reduce(function(Q,ie){return Q.indexOf(ie)>=0||ie===""||We(ie)?Q:[].concat(Ph(Q),[ie])},[]);else if(x==="number"){var F=wFe(k,i.filter(function(Q){var ie,xe,Pe=a in Q.props?Q.props[a]:(ie=Q.type.defaultProps)===null||ie===void 0?void 0:ie[a],he="hide"in Q.props?Q.props.hide:(xe=Q.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Pe===C&&(T||!he)}),_,s,d);F&&(N=F)}p&&(x==="number"||j!=="auto")&&(D=Xm(k,_,"category"))}else p?N=Bw(0,I):o&&o[C]&&o[C].hasStack&&x==="number"?N=h==="expand"?[0,1]:xQ(o[C].stackGroups,l,u):N=hQ(k,i.filter(function(Q){var ie=a in Q.props?Q.props[a]:Q.type.defaultProps[a],xe="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ie===C&&(T||!xe)}),x,d,!0);if(x==="number")N=yk(f,N,C,s,A),z&&(N=IP(z,N,E));else if(x==="category"&&z){var W=z,ne=N.every(function(Q){return W.indexOf(Q)>=0});ne&&(N=W)}}return se(se({},g),{},He({},C,se(se({},y),{},{axisType:s,domain:N,categoricalDomain:D,duplicateDomain:O,originalDomain:(v=y.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:d})))},{})},CHe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=KS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,g=pQ(d,s),m=-1;return r.reduce(function(v,y){var x=y.type.defaultProps!==void 0?se(se({},y.type.defaultProps),y.props):y.props,_=x[a],E=UZ("number");if(!v[_]){m++;var S;return g?S=Bw(0,p):o&&o[_]&&o[_].hasStack?(S=xQ(o[_].stackGroups,l,u),S=yk(f,S,_,s)):(S=IP(E,hQ(h,r.filter(function(j){var A,T,C=a in j.props?j.props[a]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[a],k="hide"in j.props?j.props.hide:(T=j.type.defaultProps)===null||T===void 0?void 0:T.hide;return C===_&&!k}),"number",d),i.defaultProps.allowDataOverflow),S=yk(f,S,_,s)),se(se({},v),{},He({},_,se(se({axisType:s},i.defaultProps),{},{hide:!0,orientation:Hi(SHe,"".concat(s,".").concat(m%2),null),domain:S,originalDomain:E,isCategorical:g,layout:d})))}return v},{})},PHe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Qr(d,s),p={};return h&&h.length?p=jHe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=CHe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},kHe=function(e){var n=jl(e),r=po(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:zO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kw(n,r)}},Z6=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ni(n,gh),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},NHe=function(e){return!e||!e.length?!1:e.some(function(n){var r=bo(n&&n.type);return r&&r.indexOf("Bar")>=0})},J6=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IHe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Ni(f,gh),g=Ni(f,ec),m=Object.keys(l).reduce(function(S,j){var A=l[j],T=A.orientation;return!A.mirror&&!A.hide?se(se({},S),{},He({},T,S[T]+A.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(S,j){var A=a[j],T=A.orientation;return!A.mirror&&!A.hide?se(se({},S),{},He({},T,Hi(S,"".concat(T))+A.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=se(se({},v),m),x=y.bottom;p&&(y.bottom+=p.props.height||gh.defaultProps.height),g&&n&&(y=xFe(y,i,r,n));var _=u-y.left-y.right,E=d-y.top-y.bottom;return se(se({brushBottom:x},y),{},{width:Math.max(_,0),height:Math.max(E,0)})},OHe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},My=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var _=x.graphicalItems,E=x.stackGroups,S=x.offset,j=x.updateId,A=x.dataStartIndex,T=x.dataEndIndex,C=y.barSize,k=y.layout,I=y.barGap,N=y.barCategoryGap,O=y.maxBarSize,D=J6(k),V=D.numericAxisName,U=D.cateAxisName,z=NHe(_),L=[];return _.forEach(function(F,W){var ne=KS(y.data,{graphicalItems:[F],dataStartIndex:A,dataEndIndex:T}),Q=F.type.defaultProps!==void 0?se(se({},F.type.defaultProps),F.props):F.props,ie=Q.dataKey,xe=Q.maxBarSize,Pe=Q["".concat(V,"Id")],he=Q["".concat(U,"Id")],q={},oe=l.reduce(function(ht,B){var Y=x["".concat(B.axisType,"Map")],re=Q["".concat(B.axisType,"Id")];Y&&Y[re]||B.axisType==="zAxis"||Uu();var we=Y[re];return se(se({},ht),{},He(He({},B.axisType,we),"".concat(B.axisType,"Ticks"),po(we)))},q),Z=oe[U],J=oe["".concat(U,"Ticks")],ee=E&&E[Pe]&&E[Pe].hasStack&&kFe(F,E[Pe].stackGroups),H=bo(F.type).indexOf("Bar")>=0,Ae=kw(Z,J),je=[],$e=z&&vFe({barSize:C,stackGroups:E,totalSize:OHe(oe,U)});if(H){var de,Ve,bt=We(xe)?O:xe,pe=(de=(Ve=kw(Z,J,!0))!==null&&Ve!==void 0?Ve:bt)!==null&&de!==void 0?de:0;je=yFe({barGap:I,barCategoryGap:N,bandSize:pe!==Ae?pe:Ae,sizeList:$e[he],maxBarSize:bt}),pe!==Ae&&(je=je.map(function(ht){return se(se({},ht),{},{position:se(se({},ht.position),{},{offset:ht.position.offset-pe/2})})}))}var ut=F&&F.type&&F.type.getComposedData;ut&&L.push({props:se(se({},ut(se(se({},oe),{},{displayedData:ne,props:y,dataKey:ie,item:F,bandSize:Ae,barPosition:je,offset:S,stackedData:ee,layout:k,dataStartIndex:A,dataEndIndex:T}))),{},He(He(He({key:F.key||"item-".concat(W)},V,oe[V]),U,oe[U]),"animationId",j)),childIndex:yCe(F,y.children),item:F})}),L},p=function(y,x){var _=y.props,E=y.dataStartIndex,S=y.dataEndIndex,j=y.updateId;if(!dV({props:_}))return null;var A=_.children,T=_.layout,C=_.stackOffset,k=_.data,I=_.reverseStackOrder,N=J6(T),O=N.numericAxisName,D=N.cateAxisName,V=Qr(A,r),U=CFe(k,V,"".concat(O,"Id"),"".concat(D,"Id"),C,I),z=l.reduce(function(Q,ie){var xe="".concat(ie.axisType,"Map");return se(se({},Q),{},He({},xe,PHe(_,se(se({},ie),{},{graphicalItems:V,stackGroups:ie.axisType===O&&U,dataStartIndex:E,dataEndIndex:S}))))},{}),L=IHe(se(se({},z),{},{props:_,graphicalItems:V}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(Q){z[Q]=d(_,z[Q],L,Q.replace("Map",""),n)});var F=z["".concat(D,"Map")],W=kHe(F),ne=h(_,se(se({},z),{},{dataStartIndex:E,dataEndIndex:S,updateId:j,graphicalItems:V,stackGroups:U,offset:L}));return se(se({formattedGraphicalItems:ne,graphicalItems:V,offset:L,stackGroups:U},W),z)},g=function(v){function y(x){var _,E,S;return fHe(this,y),S=mHe(this,y,[x]),He(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(S,"accessibilityManager",new Z7e),He(S,"handleLegendBBoxUpdate",function(j){if(j){var A=S.state,T=A.dataStartIndex,C=A.dataEndIndex,k=A.updateId;S.setState(se({legendBBox:j},p({props:S.props,dataStartIndex:T,dataEndIndex:C,updateId:k},se(se({},S.state),{},{legendBBox:j}))))}}),He(S,"handleReceiveSyncEvent",function(j,A,T){if(S.props.syncId===j){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),He(S,"handleBrushChange",function(j){var A=j.startIndex,T=j.endIndex;if(A!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var C=S.state.updateId;S.setState(function(){return se({dataStartIndex:A,dataEndIndex:T},p({props:S.props,dataStartIndex:A,dataEndIndex:T,updateId:C},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),He(S,"handleMouseEnter",function(j){var A=S.getMouseInfo(j);if(A){var T=se(se({},A),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var C=S.props.onMouseEnter;Be(C)&&C(T,j)}}),He(S,"triggeredAfterMouseMove",function(j){var A=S.getMouseInfo(j),T=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var C=S.props.onMouseMove;Be(C)&&C(T,j)}),He(S,"handleItemMouseEnter",function(j){S.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),He(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),He(S,"handleMouseMove",function(j){j.persist(),S.throttleTriggeredAfterMouseMove(j)}),He(S,"handleMouseLeave",function(j){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var T=S.props.onMouseLeave;Be(T)&&T(A,j)}),He(S,"handleOuterEvent",function(j){var A=vCe(j),T=Hi(S.props,"".concat(A));if(A&&Be(T)){var C,k;/.*touch.*/i.test(A)?k=S.getMouseInfo(j.changedTouches[0]):k=S.getMouseInfo(j),T((C=k)!==null&&C!==void 0?C:{},j)}}),He(S,"handleClick",function(j){var A=S.getMouseInfo(j);if(A){var T=se(se({},A),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var C=S.props.onClick;Be(C)&&C(T,j)}}),He(S,"handleMouseDown",function(j){var A=S.props.onMouseDown;if(Be(A)){var T=S.getMouseInfo(j);A(T,j)}}),He(S,"handleMouseUp",function(j){var A=S.props.onMouseUp;if(Be(A)){var T=S.getMouseInfo(j);A(T,j)}}),He(S,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),He(S,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseDown(j.changedTouches[0])}),He(S,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&S.handleMouseUp(j.changedTouches[0])}),He(S,"handleDoubleClick",function(j){var A=S.props.onDoubleClick;if(Be(A)){var T=S.getMouseInfo(j);A(T,j)}}),He(S,"handleContextMenu",function(j){var A=S.props.onContextMenu;if(Be(A)){var T=S.getMouseInfo(j);A(T,j)}}),He(S,"triggerSyncEvent",function(j){S.props.syncId!==void 0&&pA.emit(mA,S.props.syncId,j,S.eventEmitterSymbol)}),He(S,"applySyncEvent",function(j){var A=S.props,T=A.layout,C=A.syncMethod,k=S.state.updateId,I=j.dataStartIndex,N=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)S.setState(se({dataStartIndex:I,dataEndIndex:N},p({props:S.props,dataStartIndex:I,dataEndIndex:N,updateId:k},S.state)));else if(j.activeTooltipIndex!==void 0){var O=j.chartX,D=j.chartY,V=j.activeTooltipIndex,U=S.state,z=U.offset,L=U.tooltipTicks;if(!z)return;if(typeof C=="function")V=C(L,j);else if(C==="value"){V=-1;for(var F=0;F<L.length;F++)if(L[F].value===j.activeLabel){V=F;break}}var W=se(se({},z),{},{x:z.left,y:z.top}),ne=Math.min(O,W.x+W.width),Q=Math.min(D,W.y+W.height),ie=L[V]&&L[V].value,xe=wk(S.state,S.props.data,V),Pe=L[V]?{x:T==="horizontal"?L[V].coordinate:ne,y:T==="horizontal"?Q:L[V].coordinate}:zZ;S.setState(se(se({},j),{},{activeLabel:ie,activeCoordinate:Pe,activePayload:xe,activeTooltipIndex:V}))}else S.setState(j)}),He(S,"renderCursor",function(j){var A,T=S.state,C=T.isTooltipActive,k=T.activeCoordinate,I=T.activePayload,N=T.offset,O=T.activeTooltipIndex,D=T.tooltipAxisBandSize,V=S.getTooltipEventType(),U=(A=j.props.active)!==null&&A!==void 0?A:C,z=S.props.layout,L=j.key||"_recharts-cursor";return M.createElement(sHe,{key:L,activeCoordinate:k,activePayload:I,activeTooltipIndex:O,chartName:n,element:j,isActive:U,layout:z,offset:N,tooltipAxisBandSize:D,tooltipEventType:V})}),He(S,"renderPolarAxis",function(j,A,T){var C=Hi(j,"type.axisType"),k=Hi(S.state,"".concat(C,"Map")),I=j.type.defaultProps,N=I!==void 0?se(se({},I),j.props):j.props,O=k&&k[N["".concat(C,"Id")]];return b.cloneElement(j,se(se({},O),{},{className:it(C,O.className),key:j.key||"".concat(A,"-").concat(T),ticks:po(O,!0)}))}),He(S,"renderPolarGrid",function(j){var A=j.props,T=A.radialLines,C=A.polarAngles,k=A.polarRadius,I=S.state,N=I.radiusAxisMap,O=I.angleAxisMap,D=jl(N),V=jl(O),U=V.cx,z=V.cy,L=V.innerRadius,F=V.outerRadius;return b.cloneElement(j,{polarAngles:Array.isArray(C)?C:po(V,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(k)?k:po(D,!0).map(function(W){return W.coordinate}),cx:U,cy:z,innerRadius:L,outerRadius:F,key:j.key||"polar-grid",radialLines:T})}),He(S,"renderLegend",function(){var j=S.state.formattedGraphicalItems,A=S.props,T=A.children,C=A.width,k=A.height,I=S.props.margin||{},N=C-(I.left||0)-(I.right||0),O=dQ({children:T,formattedGraphicalItems:j,legendWidth:N,legendContent:u});if(!O)return null;var D=O.item,V=Y6(O,aHe);return b.cloneElement(D,se(se({},V),{},{chartWidth:C,chartHeight:k,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),He(S,"renderTooltip",function(){var j,A=S.props,T=A.children,C=A.accessibilityLayer,k=Ni(T,Br);if(!k)return null;var I=S.state,N=I.isTooltipActive,O=I.activeCoordinate,D=I.activePayload,V=I.activeLabel,U=I.offset,z=(j=k.props.active)!==null&&j!==void 0?j:N;return b.cloneElement(k,{viewBox:se(se({},U),{},{x:U.left,y:U.top}),active:z,label:V,payload:z?D:[],coordinate:O,accessibilityLayer:C})}),He(S,"renderBrush",function(j){var A=S.props,T=A.margin,C=A.data,k=S.state,I=k.offset,N=k.dataStartIndex,O=k.dataEndIndex,D=k.updateId;return b.cloneElement(j,{key:j.key||"_recharts-brush",onChange:K0(S.handleBrushChange,j.props.onChange),data:C,x:ye(j.props.x)?j.props.x:I.left,y:ye(j.props.y)?j.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:ye(j.props.width)?j.props.width:I.width,startIndex:N,endIndex:O,updateId:"brush-".concat(D)})}),He(S,"renderReferenceElement",function(j,A,T){if(!j)return null;var C=S,k=C.clipPathId,I=S.state,N=I.xAxisMap,O=I.yAxisMap,D=I.offset,V=j.type.defaultProps||{},U=j.props,z=U.xAxisId,L=z===void 0?V.xAxisId:z,F=U.yAxisId,W=F===void 0?V.yAxisId:F;return b.cloneElement(j,{key:j.key||"".concat(A,"-").concat(T),xAxis:N[L],yAxis:O[W],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:k})}),He(S,"renderActivePoints",function(j){var A=j.item,T=j.activePoint,C=j.basePoint,k=j.childIndex,I=j.isRange,N=[],O=A.props.key,D=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,V=D.activeDot,U=D.dataKey,z=se(se({index:k,dataKey:U,cx:T.x,cy:T.y,r:4,fill:hR(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},De(V,!1)),rw(V));return N.push(y.renderActiveDot(V,z,"".concat(O,"-activePoint-").concat(k))),C?N.push(y.renderActiveDot(V,se(se({},z),{},{cx:C.x,cy:C.y}),"".concat(O,"-basePoint-").concat(k))):I&&N.push(null),N}),He(S,"renderGraphicChild",function(j,A,T){var C=S.filterFormatItem(j,A,T);if(!C)return null;var k=S.getTooltipEventType(),I=S.state,N=I.isTooltipActive,O=I.tooltipAxis,D=I.activeTooltipIndex,V=I.activeLabel,U=S.props.children,z=Ni(U,Br),L=C.props,F=L.points,W=L.isRange,ne=L.baseLine,Q=C.item.type.defaultProps!==void 0?se(se({},C.item.type.defaultProps),C.item.props):C.item.props,ie=Q.activeDot,xe=Q.hide,Pe=Q.activeBar,he=Q.activeShape,q=!!(!xe&&N&&z&&(ie||Pe||he)),oe={};k!=="axis"&&z&&z.props.trigger==="click"?oe={onClick:K0(S.handleItemMouseEnter,j.props.onClick)}:k!=="axis"&&(oe={onMouseLeave:K0(S.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:K0(S.handleItemMouseEnter,j.props.onMouseEnter)});var Z=b.cloneElement(j,se(se({},C.props),oe));function J(B){return typeof O.dataKey=="function"?O.dataKey(B.payload):null}if(q)if(D>=0){var ee,H;if(O.dataKey&&!O.allowDuplicatedCategory){var Ae=typeof O.dataKey=="function"?J:"payload.".concat(O.dataKey.toString());ee=nw(F,Ae,V),H=W&&ne&&nw(ne,Ae,V)}else ee=F==null?void 0:F[D],H=W&&ne&&ne[D];if(he||Pe){var je=j.props.activeIndex!==void 0?j.props.activeIndex:D;return[b.cloneElement(j,se(se(se({},C.props),oe),{},{activeIndex:je})),null,null]}if(!We(ee))return[Z].concat(Ph(S.renderActivePoints({item:C,activePoint:ee,basePoint:H,childIndex:D,isRange:W})))}else{var $e,de=($e=S.getItemByXY(S.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:Z},Ve=de.graphicalItem,bt=Ve.item,pe=bt===void 0?j:bt,ut=Ve.childIndex,ht=se(se(se({},C.props),oe),{},{activeIndex:ut});return[b.cloneElement(pe,ht),null,null]}return W?[Z,null,null]:[Z,null]}),He(S,"renderCustomized",function(j,A,T){return b.cloneElement(j,se(se({key:"recharts-customized-".concat(T)},S.props),S.state))}),He(S,"renderMap",{CartesianGrid:{handler:Z0,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Z0},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Z0},YAxis:{handler:Z0},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Pc("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=uX(S.triggeredAfterMouseMove,(E=x.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return yHe(y,v),pHe(y,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,j=_.height,A=_.layout,T=Ni(E,Br);if(T){var C=T.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=wk(this.state,S,C,k),N=this.state.tooltipTicks[C].coordinate,O=(this.state.offset.top+j)/2,D=A==="horizontal",V=D?{x:N,y:O}:{y:N,x:O},U=this.state.formattedGraphicalItems.find(function(L){var F=L.item;return F.type.name==="Scatter"});U&&(V=se(se({},V),U.props.points[C].tooltipPosition),I=U.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:k,activePayload:I,activeCoordinate:V};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,j;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(_){KC([Ni(_.children,Br)],[Ni(this.props.children,Br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ni(this.props.children,Br);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return o.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),j=WLe(S),A={chartX:Math.round(_.pageX-j.left),chartY:Math.round(_.pageY-j.top)},T=S.width/E.offsetWidth||1,C=this.inRange(A.chartX,A.chartY,T);if(!C)return null;var k=this.state,I=k.xAxisMap,N=k.yAxisMap,O=this.getTooltipEventType(),D=Q6(this.state,this.props.data,this.props.layout,C);if(O!=="axis"&&I&&N){var V=jl(I).scale,U=jl(N).scale,z=V&&V.invert?V.invert(A.chartX):null,L=U&&U.invert?U.invert(A.chartY):null;return se(se({},A),{},{xValue:z,yValue:L},D)}return D?se(se({},A),D):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=_/S,T=E/S;if(j==="horizontal"||j==="vertical"){var C=this.state.offset,k=A>=C.left&&A<=C.left+C.width&&T>=C.top&&T<=C.top+C.height;return k?{x:A,y:T}:null}var I=this.state,N=I.angleAxisMap,O=I.radiusAxisMap;if(N&&O){var D=jl(N);return b3({x:A,y:T},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=Ni(_,Br),j={};S&&E==="axis"&&(S.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=rw(this.props,this.handleOuterEvent);return se(se({},A),j)}},{key:"addListener",value:function(){pA.on(mA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){pA.removeListener(mA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var j=this.state.formattedGraphicalItems,A=0,T=j.length;A<T;A++){var C=j[A];if(C.item===_||C.props.key===_.key||E===bo(C.item.type)&&S===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,j=E.top,A=E.height,T=E.width;return M.createElement("defs",null,M.createElement("clipPath",{id:_},M.createElement("rect",{x:S,y:j,height:A,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var j=G6(S,2),A=j[0],T=j[1];return se(se({},E),{},He({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var j=G6(S,2),A=j[0],T=j[1];return se(se({},E),{},He({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,j=E.activeItem;if(S&&S.length)for(var A=0,T=S.length;A<T;A++){var C=S[A],k=C.props,I=C.item,N=I.type.defaultProps!==void 0?se(se({},I.type.defaultProps),I.props):I.props,O=bo(I.type);if(O==="Bar"){var D=(k.data||[]).find(function(L){return Aze(_,L)});if(D)return{graphicalItem:C,payload:D}}else if(O==="RadialBar"){var V=(k.data||[]).find(function(L){return b3(_,L)});if(V)return{graphicalItem:C,payload:V}}else if($S(C,j)||VS(C,j)||Pv(C,j)){var U=mBe({graphicalItem:C,activeTooltipItem:j,itemData:N.data}),z=N.activeIndex===void 0?U:N.activeIndex;return{graphicalItem:se(se({},C),{},{childIndex:z}),payload:Pv(C,j)?N.data[U]:C.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!dV(this))return null;var E=this.props,S=E.children,j=E.className,A=E.width,T=E.height,C=E.style,k=E.compact,I=E.title,N=E.desc,O=Y6(E,oHe),D=De(O,!1);if(k)return M.createElement(A6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(YC,af({},D,{width:A,height:T,title:I,desc:N}),this.renderClipPath(),hV(S,this.renderMap)));if(this.props.accessibilityLayer){var V,U;D.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,D.role=(U=this.props.role)!==null&&U!==void 0?U:"application",D.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},D.onFocus=function(){_.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return M.createElement(A6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",af({className:it("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:A,height:T},C)},z,{ref:function(F){_.container=F}}),M.createElement(YC,af({},D,{width:A,height:T,title:I,desc:N,style:EHe}),this.renderClipPath(),hV(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);He(g,"displayName",n),He(g,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(g,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,_=v.data,E=v.children,S=v.width,j=v.height,A=v.layout,T=v.stackOffset,C=v.margin,k=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var N=Z6(v);return se(se(se({},N),{},{updateId:0},p(se(se({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:j,prevLayout:A,prevStackOffset:T,prevMargin:C,prevChildren:E})}if(x!==y.prevDataKey||_!==y.prevData||S!==y.prevWidth||j!==y.prevHeight||A!==y.prevLayout||T!==y.prevStackOffset||!Sf(C,y.prevMargin)){var O=Z6(v),D={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=se(se({},Q6(y,_,A)),{},{updateId:y.updateId+1}),U=se(se(se({},O),D),V);return se(se(se({},U),p(se({props:v},U),y)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:j,prevLayout:A,prevStackOffset:T,prevMargin:C,prevChildren:E})}if(!KC(E,y.prevChildren)){var z,L,F,W,ne=Ni(E,gh),Q=ne&&(z=(L=ne.props)===null||L===void 0?void 0:L.startIndex)!==null&&z!==void 0?z:k,ie=ne&&(F=(W=ne.props)===null||W===void 0?void 0:W.endIndex)!==null&&F!==void 0?F:I,xe=Q!==k||ie!==I,Pe=!We(_),he=Pe&&!xe?y.updateId:y.updateId+1;return se(se({updateId:he},p(se(se({props:v},y),{},{updateId:he,dataStartIndex:Q,dataEndIndex:ie}),y)),{},{prevChildren:E,dataStartIndex:Q,dataEndIndex:ie})}return null}),He(g,"renderActiveDot",function(v,y,x){var _;return b.isValidElement(v)?_=b.cloneElement(v,y):Be(v)?_=v(y):_=M.createElement(Oy,y),M.createElement(at,{className:"recharts-active-dot",key:x},_)});var m=b.forwardRef(function(y,x){return M.createElement(g,af({},y,{ref:x}))});return m.displayName=g.displayName,m},BZ=My({chartName:"LineChart",GraphicalChild:rc,axisComponents:[{axisType:"xAxis",AxisComp:Vi},{axisType:"yAxis",AxisComp:Fi}],formatAxisMap:zS}),_k=My({chartName:"BarChart",GraphicalChild:Di,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vi},{axisType:"yAxis",AxisComp:Fi}],formatAxisMap:zS}),RHe=My({chartName:"PieChart",GraphicalChild:Qo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:LS},{axisType:"radiusAxis",AxisComp:MS}],formatAxisMap:FFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),MHe=My({chartName:"ScatterChart",GraphicalChild:Ry,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Vi},{axisType:"yAxis",AxisComp:Fi},{axisType:"zAxis",AxisComp:qS}],formatAxisMap:zS}),WZ=My({chartName:"AreaChart",GraphicalChild:Va,axisComponents:[{axisType:"xAxis",AxisComp:Vi},{axisType:"yAxis",AxisComp:Fi}],formatAxisMap:zS});const DHe={light:"",dark:".dark"},HZ=b.createContext(null);function qZ(){const t=b.useContext(HZ);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const _u=b.forwardRef(({id:t,className:e,children:n,config:r,...i},s)=>{const a=b.useId(),o=`chart-${t||a.replace(/:/g,"")}`;return c.jsx(HZ.Provider,{value:{config:r},children:c.jsxs("div",{"data-chart":o,ref:s,className:G("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[c.jsx(LHe,{id:o,config:r}),c.jsx(fa,{children:n})]})})});_u.displayName="Chart";const LHe=({id:t,config:e})=>{const n=Object.entries(e).filter(([r,i])=>i.theme||i.color);return n.length?c.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(DHe).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([s,a])=>{var l;const o=((l=a.theme)==null?void 0:l[r])||a.color;return o?`  --color-${s}: ${o};`:null}).join(`
`)}
}
`).join(`
`)}}):null},$x=Br,rg=b.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:a,labelFormatter:o,labelClassName:l,formatter:u,color:d,nameKey:f,labelKey:h},p)=>{const{config:g}=qZ(),m=b.useMemo(()=>{var S;if(i||!(e!=null&&e.length))return null;const[y]=e,x=`${h||y.dataKey||y.name||"value"}`,_=Sk(g,y,x),E=!h&&typeof a=="string"?((S=g[a])==null?void 0:S.label)||a:_==null?void 0:_.label;return o?c.jsx("div",{className:G("font-medium",l),children:o(E,e)}):E?c.jsx("div",{className:G("font-medium",l),children:E}):null},[a,o,e,i,l,g,h]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&r!=="dot";return c.jsxs("div",{ref:p,className:G("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[v?null:m,c.jsx("div",{className:"grid gap-1.5",children:e.map((y,x)=>{const _=`${f||y.name||y.dataKey||"value"}`,E=Sk(g,y,_),S=d||y.payload.fill||y.color;return c.jsx("div",{className:G("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,x,y.payload):c.jsxs(c.Fragment,{children:[E!=null&&E.icon?c.jsx(E.icon,{}):!s&&c.jsx("div",{className:G("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":v&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),c.jsxs("div",{className:G("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[c.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,c.jsx("span",{className:"text-muted-foreground",children:(E==null?void 0:E.label)||y.name})]}),y.value&&c.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});rg.displayName="ChartTooltip";const $He=b.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:a}=qZ();return n!=null&&n.length?c.jsx("div",{ref:s,className:G("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(o=>{const l=`${i||o.dataKey||"value"}`,u=Sk(a,o,l);return c.jsxs("div",{className:G("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?c.jsx(u.icon,{}):c.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),u==null?void 0:u.label]},o.value)})}):null});$He.displayName="ChartLegend";function Sk(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}const VHe=[{day:"01",amount:140},{day:"05",amount:180},{day:"10",amount:120},{day:"15",amount:160},{day:"20",amount:210},{day:"25",amount:190},{day:"30",amount:240}],FHe=({data:t=VHe,growthRate:e=0,className:n})=>{const r=e>=0;return c.jsxs("div",{className:G("w-full h-12 flex items-center gap-2",n),children:[c.jsx("div",{className:"flex-grow h-full",children:c.jsx(_u,{config:{revenue:{theme:{light:r?"#16a34a":"#dc2626",dark:r?"#22c55e":"#ef4444"}}},className:"h-full",children:c.jsx(fa,{width:"100%",height:"100%",children:c.jsxs(WZ,{data:t,margin:{top:0,right:0,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"var(--color-revenue)",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"var(--color-revenue)",stopOpacity:0})]})}),c.jsx($x,{content:({active:i,payload:s})=>i&&s&&s.length?c.jsx(rg,{children:c.jsxs("p",{className:"text-xs font-medium",children:["$",s[0].value]})}):null}),c.jsx(Va,{type:"monotone",dataKey:"amount",stroke:"var(--color-revenue)",strokeWidth:2,fillOpacity:1,fill:"url(#revenueGradient)"})]})})})}),e!==0&&c.jsxs("div",{className:G("flex items-center text-xs font-medium",r?"text-green-500":"text-red-500"),children:[r?c.jsx(Zh,{size:14,className:"mr-1"}):c.jsx(wve,{size:14,className:"mr-1"}),Math.abs(e),"%"]})]})},zHe=({title:t,time:e,type:n,countdown:r,className:i,onSubscribe:s})=>c.jsxs("div",{className:G("bg-black/5 dark:bg-white/5 rounded-lg p-3",i),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(L7,{size:16,className:"text-xvush-pink"}),c.jsx("span",{className:"text-xs font-medium",children:n==="live"?"Live à venir":n==="post"?"Nouvelle publication":"Événement"})]}),c.jsx("h4",{className:"font-medium text-sm mb-1",children:t}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs text-muted-foreground",children:[e," ",r&&c.jsxs("span",{className:"font-medium text-xvush-pink",children:["(",r,")"]})]}),c.jsx(K,{variant:"outline",size:"sm",className:"text-xs h-7 px-2",onClick:s,children:"Rappel"})]})]}),UHe=({isCreator:t=!1,isOwner:e=!1,revenue:n,growthRate:r=0,upcomingEvent:i,onSubscribe:s,className:a})=>c.jsxs("div",{className:G("space-y-4",a),children:[t&&e&&n!==void 0&&c.jsxs("div",{className:"glass-card p-4 rounded-lg",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Revenu mensuel"}),c.jsx(yu,{size:16,className:"text-muted-foreground"})]}),c.jsxs("div",{className:"text-2xl font-bold",children:["$",n]}),c.jsx(FHe,{growthRate:r,className:"mt-2"})]}),!t&&c.jsxs(K,{className:"w-full bg-xvush-pink hover:bg-xvush-pink-dark",children:[c.jsx(Kf,{className:"mr-2 h-4 w-4"}),"S'abonner"]}),i&&c.jsx(zHe,{title:i.title,time:i.time,type:i.type,countdown:i.countdown,onSubscribe:s})]}),BHe=({name:t,username:e,avatar:n,bio:r,tier:i,metrics:s,isCreator:a=!1,isOwner:o=!1,isOnline:l=!1,className:u})=>{const{triggerMicroReward:d}=gn(),f={title:"Session photo spéciale abonnés",time:"Demain, 20:00",type:"live",countdown:"23h 45m"},h=()=>{console.log("Reminder set for upcoming event")},p=()=>{d("navigate")};return c.jsx("div",{className:G("glass-card rounded-2xl p-6",u),children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx(_Ee,{avatar:n,isOnline:l}),c.jsx(K,{variant:"outline",size:"sm",className:"w-full flex items-center gap-2",asChild:!0,onClick:p,children:c.jsxs(Wr,{to:`/messages?username=${e}`,children:[c.jsx(Qh,{size:16}),"Envoyer un message"]})})]}),c.jsxs("div",{className:"flex-grow space-y-4",children:[c.jsx(EEe,{name:t,username:e,bio:r,tier:i}),c.jsx(Qg,{className:"my-3"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx("div",{className:"col-span-2",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx(TEe,{metrics:s}),s.nextTierProgress!==void 0&&i!=="diamond"&&c.jsx(jEe,{tier:i,progress:s.nextTierProgress})]})}),c.jsx("div",{className:"col-span-1",children:c.jsx(UHe,{isCreator:a,isOwner:o,revenue:s.revenue,growthRate:s.growthRate,upcomingEvent:f,onSubscribe:h})})]})]})]})})};function Wn({className:t,...e}){return c.jsx("div",{className:G("animate-pulse rounded-md bg-muted",t),...e})}function ER(){const{triggerMicroReward:t}=gn();return{triggerMediaReward:s=>{t("action",{type:"media_interaction",...s})},triggerNavigationReward:s=>{t("navigate",{...s})},triggerGestureReward:s=>{t("action",{type:"gesture_performed",...s})},triggerMilestoneReward:s=>{t("action",{type:"video_progress",progress:s})}}}const KZ=({containerRef:t,isMobile:e,onSeekForward:n,onSeekBackward:r})=>{const i=b.useRef(null),{triggerGestureReward:s}=ER();b.useEffect(()=>{const a=t.current;if(!a||!e)return;const o=u=>{const d=u.touches[0];i.current={x:d.clientX,y:d.clientY,time:Date.now()}},l=u=>{if(!i.current)return;const d=u.changedTouches[0],f=d.clientX-i.current.x,h=d.clientY-i.current.y;Date.now()-i.current.time<300&&Math.abs(f)>30&&Math.abs(f)>Math.abs(h)&&(f>0?(n(),s()):(r(),s())),i.current=null};return a.addEventListener("touchstart",o),a.addEventListener("touchend",l),()=>{a.removeEventListener("touchstart",o),a.removeEventListener("touchend",l)}},[e,t,n,r,s])},GZ=(t=!0)=>{const[e,n]=b.useState(t),r=b.useRef(null);return b.useEffect(()=>()=>{r.current&&window.clearTimeout(r.current)},[]),{showControls:e,setShowControls:n,setupControlsTimer:s=>{if(!s)return;const a=()=>{n(!1)},o=()=>{r.current&&window.clearTimeout(r.current),n(!0),r.current=window.setTimeout(a,3e3)};return s.addEventListener("mousemove",o),s.addEventListener("touchstart",o),o(),()=>{s.removeEventListener("mousemove",o),s.removeEventListener("touchstart",o),r.current&&window.clearTimeout(r.current)}}}};var vA=0;function TR(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ez()),document.body.insertAdjacentElement("beforeend",t[1]??ez()),vA++,()=>{vA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vA--}},[])}function ez(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yA="focusScope.autoFocusOnMount",xA="focusScope.autoFocusOnUnmount",tz={bubbles:!1,cancelable:!0},WHe="FocusScope",GS=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=b.useState(null),u=tr(i),d=tr(s),f=b.useRef(null),h=Ye(e,m=>l(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let m=function(_){if(p.paused||!o)return;const E=_.target;o.contains(E)?f.current=E:fl(f.current,{select:!0})},v=function(_){if(p.paused||!o)return;const E=_.relatedTarget;E!==null&&(o.contains(E)||fl(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&fl(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[r,o,p.paused]),b.useEffect(()=>{if(o){rz.add(p);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(yA,tz);o.addEventListener(yA,u),o.dispatchEvent(y),y.defaultPrevented||(HHe(XHe(YZ(o)),{select:!0}),document.activeElement===m&&fl(o))}return()=>{o.removeEventListener(yA,u),setTimeout(()=>{const y=new CustomEvent(xA,tz);o.addEventListener(xA,d),o.dispatchEvent(y),y.defaultPrevented||fl(m??document.body,{select:!0}),o.removeEventListener(xA,d),rz.remove(p)},0)}}},[o,u,d,p]);const g=b.useCallback(m=>{if(!n&&!r||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(v&&y){const x=m.currentTarget,[_,E]=qHe(x);_&&E?!m.shiftKey&&y===E?(m.preventDefault(),n&&fl(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),n&&fl(E,{select:!0})):y===x&&m.preventDefault()}},[n,r,p.paused]);return c.jsx(Me.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});GS.displayName=WHe;function HHe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fl(r,{select:e}),document.activeElement!==n)return}function qHe(t){const e=YZ(t),n=nz(e,t),r=nz(e.reverse(),t);return[n,r]}function YZ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nz(t,e){for(const n of t)if(!KHe(n,{upTo:e}))return n}function KHe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function GHe(t){return t instanceof HTMLInputElement&&"select"in t}function fl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&GHe(t)&&e&&t.select()}}var rz=YHe();function YHe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iz(t,e),t.unshift(e)},remove(e){var n;t=iz(t,e),(n=t[0])==null||n.resume()}}}function iz(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XHe(t){return t.filter(e=>e.tagName!=="A")}var QHe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ad=new WeakMap,J0=new WeakMap,ex={},bA=0,XZ=function(t){return t&&(t.host||XZ(t.parentNode))},ZHe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=XZ(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},JHe=function(t,e,n,r){var i=ZHe(e,Array.isArray(t)?t:[t]);ex[n]||(ex[n]=new WeakMap);var s=ex[n],a=[],o=new Set,l=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Ad.get(h)||0)+1,v=(s.get(h)||0)+1;Ad.set(h,m),s.set(h,v),a.push(h),m===1&&g&&J0.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),o.clear(),bA++,function(){a.forEach(function(f){var h=Ad.get(f)-1,p=s.get(f)-1;Ad.set(f,h),s.set(f,p),h||(J0.has(f)||f.removeAttribute(r),J0.delete(f)),p||f.removeAttribute(n)}),bA--,bA||(Ad=new WeakMap,Ad=new WeakMap,J0=new WeakMap,ex={})}},AR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=QHe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),JHe(r,i,n,"aria-hidden")):function(){return null}},Vx="right-scroll-bar-position",Fx="width-before-scroll-bar",eqe="with-scroll-bars-hidden",tqe="--removed-body-scroll-bar-size";function wA(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nqe(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var rqe=typeof window<"u"?b.useLayoutEffect:b.useEffect,sz=new WeakMap;function iqe(t,e){var n=nqe(null,function(r){return t.forEach(function(i){return wA(i,r)})});return rqe(function(){var r=sz.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||wA(o,null)}),s.forEach(function(o){i.has(o)||wA(o,a)})}sz.set(n,t)},[t]),n}function sqe(t){return t}function aqe(t,e){e===void 0&&(e=sqe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function oqe(t){t===void 0&&(t={});var e=aqe(null);return e.options=da({async:!0,ssr:!1},t),e}var QZ=function(t){var e=t.sideCar,n=Jv(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,da({},n))};QZ.isSideCarExport=!0;function lqe(t,e){return t.useMedium(e),QZ}var ZZ=oqe(),_A=function(){},YS=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:_A,onWheelCapture:_A,onTouchMoveCapture:_A}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,x=t.gapMode,_=Jv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,S=iqe([n,e]),j=da(da({},_),i);return b.createElement(b.Fragment,null,d&&b.createElement(E,{sideCar:ZZ,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:x}),a?b.cloneElement(b.Children.only(o),da(da({},j),{ref:S})):b.createElement(y,da({},j,{className:l,ref:S}),o))});YS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};YS.classNames={fullWidth:Fx,zeroRight:Vx};var cqe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uqe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cqe();return e&&t.setAttribute("nonce",e),t}function dqe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fqe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hqe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uqe())&&(dqe(e,n),fqe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pqe=function(){var t=hqe();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JZ=function(){var t=pqe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},mqe={left:0,top:0,right:0,gap:0},SA=function(t){return parseInt(t||"",10)||0},gqe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[SA(n),SA(r),SA(i)]},vqe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mqe;var e=gqe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},yqe=JZ(),Af="data-scroll-locked",xqe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(eqe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Af,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vx,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Fx,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Vx," .").concat(Vx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fx," .").concat(Fx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Af,`] {
    `).concat(tqe,": ").concat(o,`px;
  }
`)},az=function(){var t=parseInt(document.body.getAttribute(Af)||"0",10);return isFinite(t)?t:0},bqe=function(){b.useEffect(function(){return document.body.setAttribute(Af,(az()+1).toString()),function(){var t=az()-1;t<=0?document.body.removeAttribute(Af):document.body.setAttribute(Af,t.toString())}},[])},wqe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;bqe();var s=b.useMemo(function(){return vqe(i)},[i]);return b.createElement(yqe,{styles:xqe(s,!e,i,n?"":"!important")})},Ek=!1;if(typeof window<"u")try{var tx=Object.defineProperty({},"passive",{get:function(){return Ek=!0,!0}});window.addEventListener("test",tx,tx),window.removeEventListener("test",tx,tx)}catch{Ek=!1}var jd=Ek?{passive:!1}:!1,_qe=function(t){return t.tagName==="TEXTAREA"},eJ=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_qe(t)&&n[e]==="visible")},Sqe=function(t){return eJ(t,"overflowY")},Eqe=function(t){return eJ(t,"overflowX")},oz=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=tJ(t,r);if(i){var s=nJ(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Tqe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Aqe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},tJ=function(t,e){return t==="v"?Sqe(e):Eqe(e)},nJ=function(t,e){return t==="v"?Tqe(e):Aqe(e)},jqe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Cqe=function(t,e,n,r,i){var s=jqe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),u=!1,d=a>0,f=0,h=0;do{var p=nJ(t,o),g=p[0],m=p[1],v=p[2],y=m-v-s*g;(g||y)&&tJ(t,o)&&(f+=y,h+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},nx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lz=function(t){return[t.deltaX,t.deltaY]},cz=function(t){return t&&"current"in t?t.current:t},Pqe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kqe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Nqe=0,Cd=[];function Iqe(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(Nqe++)[0],s=b.useState(JZ)[0],a=b.useRef(t);b.useEffect(function(){a.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=tce([t.lockRef.current],(t.shards||[]).map(cz),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=b.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var y=nx(m),x=n.current,_="deltaX"in m?m.deltaX:x[0]-y[0],E="deltaY"in m?m.deltaY:x[1]-y[1],S,j=m.target,A=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in m&&A==="h"&&j.type==="range")return!1;var T=oz(A,j);if(!T)return!0;if(T?S=A:(S=A==="v"?"h":"v",T=oz(A,j)),!T)return!1;if(!r.current&&"changedTouches"in m&&(_||E)&&(r.current=S),!S)return!0;var C=r.current||S;return Cqe(C,v,m,C==="h"?_:E)},[]),l=b.useCallback(function(m){var v=m;if(!(!Cd.length||Cd[Cd.length-1]!==s)){var y="deltaY"in v?lz(v):nx(v),x=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Pqe(S.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var _=(a.current.shards||[]).map(cz).filter(Boolean).filter(function(S){return S.contains(v.target)}),E=_.length>0?o(v,_[0]):!a.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(m,v,y,x){var _={name:m,delta:v,target:y,should:x,shadowParent:Oqe(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),d=b.useCallback(function(m){n.current=nx(m),r.current=void 0},[]),f=b.useCallback(function(m){u(m.type,lz(m),m.target,o(m,t.lockRef.current))},[]),h=b.useCallback(function(m){u(m.type,nx(m),m.target,o(m,t.lockRef.current))},[]);b.useEffect(function(){return Cd.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,jd),document.addEventListener("touchmove",l,jd),document.addEventListener("touchstart",d,jd),function(){Cd=Cd.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,jd),document.removeEventListener("touchmove",l,jd),document.removeEventListener("touchstart",d,jd)}},[]);var p=t.removeScrollBar,g=t.inert;return b.createElement(b.Fragment,null,g?b.createElement(s,{styles:kqe(i)}):null,p?b.createElement(wqe,{gapMode:t.gapMode}):null)}function Oqe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Rqe=lqe(ZZ,Iqe);var XS=b.forwardRef(function(t,e){return b.createElement(YS,da({},t,{ref:e,sideCar:Rqe}))});XS.classNames=YS.classNames;var Tk=["Enter"," "],Mqe=["ArrowDown","PageUp","Home"],rJ=["ArrowUp","PageDown","End"],Dqe=[...Mqe,...rJ],Lqe={ltr:[...Tk,"ArrowRight"],rtl:[...Tk,"ArrowLeft"]},$qe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dy="Menu",[Dv,Vqe,Fqe]=B_(Dy),[hd,iJ]=xr(Dy,[Fqe,lp,sp]),QS=lp(),sJ=sp(),[zqe,pd]=hd(Dy),[Uqe,Ly]=hd(Dy),aJ=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=QS(e),[l,u]=b.useState(null),d=b.useRef(!1),f=tr(s),h=ad(i);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),c.jsx(pO,{...o,children:c.jsx(zqe,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(Uqe,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};aJ.displayName=Dy;var Bqe="MenuAnchor",jR=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=QS(n);return c.jsx(mO,{...i,...r,ref:e})});jR.displayName=Bqe;var CR="MenuPortal",[Wqe,oJ]=hd(CR,{forceMount:void 0}),lJ=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=pd(CR,e);return c.jsx(Wqe,{scope:e,forceMount:n,children:c.jsx(Lr,{present:n||s.open,children:c.jsx(Q_,{asChild:!0,container:i,children:r})})})};lJ.displayName=CR;var us="MenuContent",[Hqe,PR]=hd(us),cJ=b.forwardRef((t,e)=>{const n=oJ(us,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=pd(us,t.__scopeMenu),a=Ly(us,t.__scopeMenu);return c.jsx(Dv.Provider,{scope:t.__scopeMenu,children:c.jsx(Lr,{present:r||s.open,children:c.jsx(Dv.Slot,{scope:t.__scopeMenu,children:a.modal?c.jsx(qqe,{...i,ref:e}):c.jsx(Kqe,{...i,ref:e})})})})}),qqe=b.forwardRef((t,e)=>{const n=pd(us,t.__scopeMenu),r=b.useRef(null),i=Ye(e,r);return b.useEffect(()=>{const s=r.current;if(s)return AR(s)},[]),c.jsx(kR,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Kqe=b.forwardRef((t,e)=>{const n=pd(us,t.__scopeMenu);return c.jsx(kR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Gqe=Du("MenuContent.ScrollLock"),kR=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=t,v=pd(us,n),y=Ly(us,n),x=QS(n),_=sJ(n),E=Vqe(n),[S,j]=b.useState(null),A=b.useRef(null),T=Ye(e,A,v.onContentChange),C=b.useRef(0),k=b.useRef(""),I=b.useRef(0),N=b.useRef(null),O=b.useRef("right"),D=b.useRef(0),V=g?XS:b.Fragment,U=g?{as:Gqe,allowPinchZoom:!0}:void 0,z=F=>{var q,oe;const W=k.current+F,ne=E().filter(Z=>!Z.disabled),Q=document.activeElement,ie=(q=ne.find(Z=>Z.ref.current===Q))==null?void 0:q.textValue,xe=ne.map(Z=>Z.textValue),Pe=aKe(xe,W,ie),he=(oe=ne.find(Z=>Z.textValue===Pe))==null?void 0:oe.ref.current;(function Z(J){k.current=J,window.clearTimeout(C.current),J!==""&&(C.current=window.setTimeout(()=>Z(""),1e3))})(W),he&&setTimeout(()=>he.focus())};b.useEffect(()=>()=>window.clearTimeout(C.current),[]),TR();const L=b.useCallback(F=>{var ne,Q;return O.current===((ne=N.current)==null?void 0:ne.side)&&lKe(F,(Q=N.current)==null?void 0:Q.area)},[]);return c.jsx(Hqe,{scope:n,searchRef:k,onItemEnter:b.useCallback(F=>{L(F)&&F.preventDefault()},[L]),onItemLeave:b.useCallback(F=>{var W;L(F)||((W=A.current)==null||W.focus(),j(null))},[L]),onTriggerLeave:b.useCallback(F=>{L(F)&&F.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:b.useCallback(F=>{N.current=F},[]),children:c.jsx(V,{...U,children:c.jsx(GS,{asChild:!0,trapped:i,onMountAutoFocus:be(s,F=>{var W;F.preventDefault(),(W=A.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(Ey,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:c.jsx(Q2,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:be(l,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(gO,{role:"menu","aria-orientation":"vertical","data-state":TJ(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...m,ref:T,style:{outline:"none",...m.style},onKeyDown:be(m.onKeyDown,F=>{const ne=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Q=F.ctrlKey||F.altKey||F.metaKey,ie=F.key.length===1;ne&&(F.key==="Tab"&&F.preventDefault(),!Q&&ie&&z(F.key));const xe=A.current;if(F.target!==xe||!Dqe.includes(F.key))return;F.preventDefault();const he=E().filter(q=>!q.disabled).map(q=>q.ref.current);rJ.includes(F.key)&&he.reverse(),iKe(he)}),onBlur:be(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(C.current),k.current="")}),onPointerMove:be(t.onPointerMove,Lv(F=>{const W=F.target,ne=D.current!==F.clientX;if(F.currentTarget.contains(W)&&ne){const Q=F.clientX>D.current?"right":"left";O.current=Q,D.current=F.clientX}}))})})})})})})});cJ.displayName=us;var Yqe="MenuGroup",NR=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(Me.div,{role:"group",...r,ref:e})});NR.displayName=Yqe;var Xqe="MenuLabel",uJ=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(Me.div,{...r,ref:e})});uJ.displayName=Xqe;var a1="MenuItem",uz="menu.itemSelect",ZS=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=b.useRef(null),a=Ly(a1,t.__scopeMenu),o=PR(a1,t.__scopeMenu),l=Ye(e,s),u=b.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(uz,{bubbles:!0,cancelable:!0});f.addEventListener(uz,p=>r==null?void 0:r(p),{once:!0}),tH(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return c.jsx(dJ,{...i,ref:l,disabled:n,onClick:be(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:be(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:be(t.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||Tk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ZS.displayName=a1;var dJ=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=PR(a1,n),o=sJ(n),l=b.useRef(null),u=Ye(e,l),[d,f]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[s.children]),c.jsx(Dv.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:c.jsx(Z2,{asChild:!0,...o,focusable:!r,children:c.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:be(t.onPointerMove,Lv(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,Lv(g=>a.onItemLeave(g))),onFocus:be(t.onFocus,()=>f(!0)),onBlur:be(t.onBlur,()=>f(!1))})})})}),Qqe="MenuCheckboxItem",fJ=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return c.jsx(vJ,{scope:t.__scopeMenu,checked:n,children:c.jsx(ZS,{role:"menuitemcheckbox","aria-checked":o1(n)?"mixed":n,...i,ref:e,"data-state":OR(n),onSelect:be(i.onSelect,()=>r==null?void 0:r(o1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fJ.displayName=Qqe;var hJ="MenuRadioGroup",[Zqe,Jqe]=hd(hJ,{value:void 0,onValueChange:()=>{}}),pJ=b.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=tr(r);return c.jsx(Zqe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:c.jsx(NR,{...i,ref:e})})});pJ.displayName=hJ;var mJ="MenuRadioItem",gJ=b.forwardRef((t,e)=>{const{value:n,...r}=t,i=Jqe(mJ,t.__scopeMenu),s=n===i.value;return c.jsx(vJ,{scope:t.__scopeMenu,checked:s,children:c.jsx(ZS,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":OR(s),onSelect:be(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});gJ.displayName=mJ;var IR="MenuItemIndicator",[vJ,eKe]=hd(IR,{checked:!1}),yJ=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=eKe(IR,n);return c.jsx(Lr,{present:r||o1(s.checked)||s.checked===!0,children:c.jsx(Me.span,{...i,ref:e,"data-state":OR(s.checked)})})});yJ.displayName=IR;var tKe="MenuSeparator",xJ=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});xJ.displayName=tKe;var nKe="MenuArrow",bJ=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=QS(n);return c.jsx(vO,{...i,...r,ref:e})});bJ.displayName=nKe;var rKe="MenuSub",[qtt,wJ]=hd(rKe),_m="MenuSubTrigger",_J=b.forwardRef((t,e)=>{const n=pd(_m,t.__scopeMenu),r=Ly(_m,t.__scopeMenu),i=wJ(_m,t.__scopeMenu),s=PR(_m,t.__scopeMenu),a=b.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),c.jsx(jR,{asChild:!0,...u,children:c.jsx(dJ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":TJ(n.open),...t,ref:a2(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,Lv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:be(t.onPointerLeave,Lv(f=>{var p,g;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=n.content)==null?void 0:g.dataset.side,v=m==="right",y=v?-5:5,x=h[v?"left":"right"],_=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";t.disabled||h&&f.key===" "||Lqe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});_J.displayName=_m;var SJ="MenuSubContent",EJ=b.forwardRef((t,e)=>{const n=oJ(us,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=pd(us,t.__scopeMenu),a=Ly(us,t.__scopeMenu),o=wJ(SJ,t.__scopeMenu),l=b.useRef(null),u=Ye(e,l);return c.jsx(Dv.Provider,{scope:t.__scopeMenu,children:c.jsx(Lr,{present:r||s.open,children:c.jsx(Dv.Slot,{scope:t.__scopeMenu,children:c.jsx(kR,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:be(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=$qe[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});EJ.displayName=SJ;function TJ(t){return t?"open":"closed"}function o1(t){return t==="indeterminate"}function OR(t){return o1(t)?"indeterminate":t?"checked":"unchecked"}function iKe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function sKe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function aKe(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=sKe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function oKe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,d=o.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function lKe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return oKe(n,e)}function Lv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var cKe=aJ,uKe=jR,dKe=lJ,fKe=cJ,hKe=NR,pKe=uJ,mKe=ZS,gKe=fJ,vKe=pJ,yKe=gJ,xKe=yJ,bKe=xJ,wKe=bJ,_Ke=_J,SKe=EJ,JS="DropdownMenu",[EKe,Ktt]=xr(JS,[iJ]),ni=iJ(),[TKe,AJ]=EKe(JS),jJ=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=ni(e),u=b.useRef(null),[d,f]=Qs({prop:i,defaultProp:s??!1,onChange:a,caller:JS});return c.jsx(TKe,{scope:e,triggerId:Bs(),triggerRef:u,contentId:Bs(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:o,children:c.jsx(cKe,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};jJ.displayName=JS;var CJ="DropdownMenuTrigger",PJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=AJ(CJ,n),a=ni(n);return c.jsx(uKe,{asChild:!0,...a,children:c.jsx(Me.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:a2(e,s.triggerRef),onPointerDown:be(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:be(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});PJ.displayName=CJ;var AKe="DropdownMenuPortal",kJ=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ni(e);return c.jsx(dKe,{...r,...n})};kJ.displayName=AKe;var NJ="DropdownMenuContent",IJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=AJ(NJ,n),s=ni(n),a=b.useRef(!1);return c.jsx(fKe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:be(t.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IJ.displayName=NJ;var jKe="DropdownMenuGroup",OJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(hKe,{...i,...r,ref:e})});OJ.displayName=jKe;var CKe="DropdownMenuLabel",RJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(pKe,{...i,...r,ref:e})});RJ.displayName=CKe;var PKe="DropdownMenuItem",MJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(mKe,{...i,...r,ref:e})});MJ.displayName=PKe;var kKe="DropdownMenuCheckboxItem",DJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(gKe,{...i,...r,ref:e})});DJ.displayName=kKe;var NKe="DropdownMenuRadioGroup",LJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(vKe,{...i,...r,ref:e})});LJ.displayName=NKe;var IKe="DropdownMenuRadioItem",$J=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(yKe,{...i,...r,ref:e})});$J.displayName=IKe;var OKe="DropdownMenuItemIndicator",VJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(xKe,{...i,...r,ref:e})});VJ.displayName=OKe;var RKe="DropdownMenuSeparator",FJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(bKe,{...i,...r,ref:e})});FJ.displayName=RKe;var MKe="DropdownMenuArrow",DKe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(wKe,{...i,...r,ref:e})});DKe.displayName=MKe;var LKe="DropdownMenuSubTrigger",zJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(_Ke,{...i,...r,ref:e})});zJ.displayName=LKe;var $Ke="DropdownMenuSubContent",UJ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ni(n);return c.jsx(SKe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UJ.displayName=$Ke;var VKe=jJ,FKe=PJ,zKe=kJ,BJ=IJ,UKe=OJ,WJ=RJ,HJ=MJ,qJ=DJ,BKe=LJ,KJ=$J,GJ=VJ,YJ=FJ,XJ=zJ,QJ=UJ;const RR=VKe,MR=FKe,EA=UKe,TA=BKe,WKe=b.forwardRef(({className:t,inset:e,children:n,...r},i)=>c.jsxs(XJ,{ref:i,className:G("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(ZI,{className:"ml-auto h-4 w-4"})]}));WKe.displayName=XJ.displayName;const HKe=b.forwardRef(({className:t,...e},n)=>c.jsx(QJ,{ref:n,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));HKe.displayName=QJ.displayName;const eE=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(zKe,{children:c.jsx(BJ,{ref:r,sideOffset:e,className:G("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));eE.displayName=BJ.displayName;const ig=b.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(HJ,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ig.displayName=HJ.displayName;const qKe=b.forwardRef(({className:t,children:e,checked:n,...r},i)=>c.jsxs(qJ,{ref:i,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(GJ,{children:c.jsx(C_,{className:"h-4 w-4"})})}),e]}));qKe.displayName=qJ.displayName;const Ci=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(KJ,{ref:r,className:G("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(GJ,{children:c.jsx(F7,{className:"h-2 w-2 fill-current"})})}),e]}));Ci.displayName=KJ.displayName;const of=b.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(WJ,{ref:r,className:G("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));of.displayName=WJ.displayName;const jf=b.forwardRef(({className:t,...e},n)=>c.jsx(YJ,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",t),...e}));jf.displayName=YJ.displayName;const ZJ=({isPlaying:t,isMuted:e,volume:n,isFullscreen:r,isMobile:i,quality:s,qualityOptions:a,onPlayPause:o,onMuteToggle:l,onVolumeChange:u,onSkipBackward:d,onSkipForward:f,onFullscreenToggle:h,onQualityChange:p,onLike:g,isLiked:m=!1})=>{const{isTouch:v}=by(),y=v?"h-10 w-10":"h-8 w-8",x=v?22:18;return c.jsxs("div",{className:G("flex items-center justify-between",v&&"py-2"),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),onClick:o,children:t?c.jsx(G7,{size:x}):c.jsx(Y7,{size:x})}),(!i||!v)&&c.jsxs(c.Fragment,{children:[c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),onClick:d,children:c.jsx(gve,{size:x})}),c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),onClick:f,children:c.jsx(vve,{size:x})})]}),!v&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),onClick:l,children:e||n===0?c.jsx(zg,{size:x}):c.jsx(xf,{size:x})}),c.jsx("div",{className:"relative w-20 md:w-24",children:c.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:n,onChange:u,className:"w-full h-2 bg-white/20 rounded-full appearance-none cursor-pointer",style:{WebkitAppearance:"none",background:`linear-gradient(to right, white ${n*100}%, rgba(255, 255, 255, 0.2) ${n*100}%)`}})})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[v&&g&&c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y,m&&"text-red-500"),onClick:g,children:c.jsx(er,{size:x,fill:m?"currentColor":"none"})}),v&&c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),onClick:l,children:e?c.jsx(zg,{size:x}):c.jsx(xf,{size:x})}),c.jsxs(RR,{children:[c.jsx(MR,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),children:c.jsx(I_,{size:x})})}),c.jsx(eE,{align:"end",className:"bg-black/80 backdrop-blur-md border-white/10",children:a.map(_=>c.jsx(ig,{className:G("text-white",v&&"text-base py-3",s===_.value&&"bg-primary/20"),onClick:()=>p(_.value),children:_.label},_.value))})]}),c.jsx(K,{variant:"ghost",size:"icon",className:G("text-white hover:bg-white/10",y),onClick:h,children:r?c.jsx(K7,{size:x}):c.jsx(H7,{size:x})})]})]})},JJ=({currentTime:t,duration:e,buffered:n,onSeek:r,formatTime:i})=>{const s=b.useRef(null),[a,o]=b.useState(!1),[l,u]=b.useState(null),{isTouch:d}=by(),f=e>0?t/e*100:0,h=e>0?n/e*100:0,p=x=>{if(!s.current)return;const _=s.current.getBoundingClientRect(),S=(x.clientX-_.left)/_.width*e;r(S)},g=x=>{if(!s.current||!a)return;const _=s.current.getBoundingClientRect(),E=x.touches[0],S=Math.max(0,Math.min(1,(E.clientX-_.left)/_.width));u(S*e),x.preventDefault()},m=x=>{!s.current||!a||l===null||(r(l),o(!1),u(null))},v=x=>{if(!s.current||d)return;const _=s.current.getBoundingClientRect(),E=(x.clientX-_.left)/_.width;u(E*e)},y=()=>{u(null)};return c.jsxs("div",{className:"w-full mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-white mb-1",children:[c.jsx("span",{children:i(t)}),c.jsx("span",{children:i(e)})]}),c.jsxs("div",{ref:s,className:G("relative w-full h-1.5 bg-white/20 rounded-full cursor-pointer group",d&&"h-3",a&&"h-4"),onClick:p,onMouseMove:v,onMouseLeave:y,onTouchStart:()=>o(!0),onTouchMove:g,onTouchEnd:m,children:[c.jsx("div",{className:"absolute top-0 left-0 h-full bg-white/30 rounded-full",style:{width:`${h}%`}}),c.jsx("div",{className:"absolute top-0 left-0 h-full bg-primary rounded-full",style:{width:`${f}%`}}),c.jsx("div",{className:G("absolute top-1/2 -translate-y-1/2 h-3 w-3 rounded-full bg-primary transform -translate-x-1/2 transition-opacity",a||d?"opacity-100":"opacity-0 group-hover:opacity-100"),style:{left:`${f}%`}}),l!==null&&!d&&c.jsx("div",{className:"absolute bottom-full mb-2 px-2 py-1 bg-black/80 text-white text-xs rounded transform -translate-x-1/2",style:{left:`${l/e*100}%`},children:i(l)})]})]})},eee=()=>c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:c.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-primary border-t-transparent animate-spin"})}),tee=({message:t,onRetry:e})=>c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 text-white text-center p-4",children:[c.jsx("div",{className:"text-lg font-semibold mb-2",children:"Oups, une erreur est survenue"}),c.jsx("p",{className:"text-sm text-gray-300 mb-4",children:t}),c.jsx(K,{variant:"outline",onClick:e,children:"Réessayer"})]}),KKe=t=>{const e=b.useCallback((r,i)=>{console.info(`Video metric: ${r} for video ${t}`,i||{}),["like","play","seek"].includes(r)&&"vibrate"in navigator&&Eye("light")},[t]),n=b.useCallback((r,i)=>{const s=r/i*100;s>=25&&s<26?e("seek",{progress:25}):s>=50&&s<51?e("seek",{progress:50}):s>=75&&s<76?e("seek",{progress:75}):s>=99&&s<=100&&e("seek",{progress:100})},[e]);return{trackEvent:e,updateProgress:n}},GKe=({src:t,thumbnailUrl:e,title:n,autoPlay:r=!1,loop:i=!1,muted:s=!1,className:a,onClose:o,onPlay:l,onPause:u,onEnded:d,onError:f,onTimeUpdate:h})=>{console.log("XteaseVideoPlayer - URL de la vidéo:",t);const p=b.useRef(null),g=b.useRef(null),[m,v]=b.useState(r),[y,x]=b.useState(s),[_,E]=b.useState(1),[S,j]=b.useState(0),[A,T]=b.useState(0),[C,k]=b.useState(0),[I,N]=b.useState(!1),[O,D]=b.useState("auto"),[V,U]=b.useState(!0),[z,L]=b.useState(!1),[F,W]=b.useState(""),[ne,Q]=b.useState(!1),{isMobile:ie,isTouch:xe}=by(),{showControls:Pe,setupControlsTimer:he}=GZ(!0),{trackEvent:q,updateProgress:oe}=KKe(t);b.useEffect(()=>{if(!t){console.error("URL vidéo invalide ou manquante:",t),L(!0),W("L'URL de la vidéo est invalide ou manquante.");return}fetch(t,{method:"HEAD"}).then(pe=>{if(!pe.ok)throw new Error(`Erreur HTTP: ${pe.status}`)}).catch(pe=>{console.error("Erreur lors de la vérification de l'URL vidéo:",pe),L(!0),W(`La vidéo n'est pas accessible. ${pe.message}`),f&&f(pe)})},[t,f]);const Z=[{label:"Auto",value:"auto"},{label:"1080p",value:"1080"},{label:"720p",value:"720"},{label:"480p",value:"480"},{label:"360p",value:"360"}];b.useEffect(()=>he(g.current),[he]);const J=()=>{const pe=p.current;if(pe){if(m)pe.pause(),q("pause"),u&&u();else{const ut=pe.play();ut!==void 0&&ut.then(()=>{q("play"),l&&l()}).catch(ht=>{console.error("Play error:",ht),L(!0),W(`Erreur de lecture: ${ht.message||"Erreur inconnue"}`),q("error",{message:"Playback failed"}),f&&f(ht)})}v(!m)}},ee=()=>{const pe=p.current;if(!pe)return;const ut=!y;pe.muted=ut,x(ut),q("mute",{isMuted:ut})},H=pe=>{const ut=p.current;if(!ut)return;const ht=parseFloat(pe.target.value);ut.volume=ht,E(ht),ht===0&&!y?(ut.muted=!0,x(!0)):ht>0&&y&&(ut.muted=!1,x(!1)),q("volume_change",{volume:ht})},Ae=pe=>{const ut=p.current;ut&&(ut.currentTime=pe,j(pe),q("seek",{position:pe}))},je=()=>{const pe=g.current;pe&&(I?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),q("fullscreen",{isFullscreen:!1})):(pe.requestFullscreen?pe.requestFullscreen():pe.webkitRequestFullscreen?pe.webkitRequestFullscreen():pe.msRequestFullscreen&&pe.msRequestFullscreen(),q("fullscreen",{isFullscreen:!0})))},$e=()=>{const pe=p.current;pe&&(pe.currentTime=Math.min(pe.currentTime+10,pe.duration),j(pe.currentTime),q("skip",{direction:"forward",seconds:10}))},de=()=>{const pe=p.current;pe&&(pe.currentTime=Math.max(pe.currentTime-10,0),j(pe.currentTime),q("skip",{direction:"backward",seconds:10}))},Ve=()=>{Q(!ne),q("like",{isLiked:!ne}),navigator.vibrate&&xe&&navigator.vibrate(50)};KZ({containerRef:g,isMobile:xe,onSeekForward:$e,onSeekBackward:de}),b.useEffect(()=>{const pe=p.current;if(!pe)return;const ut=()=>{j(pe.currentTime),T(pe.duration),pe.buffered.length>0&&k(pe.buffered.end(pe.buffered.length-1)),h&&h(pe.currentTime,pe.duration),oe(pe.currentTime,pe.duration)},ht=()=>{v(!1),q("ended"),d&&d()},B=()=>{U(!0),q("buffer_start")},Y=()=>{U(!1),L(!1),q("buffer_end"),r&&pe.paused&&(pe.play().catch(we=>{console.error("Auto-play failed:",we),f&&f(we)}),v(!0))},re=we=>{const ce=we.target.error;console.error("Erreur de lecture vidéo:",ce),L(!0),U(!1);let le="Une erreur s'est produite lors du chargement de la vidéo.";if(ce)switch(ce.code){case 1:le="Le chargement de la vidéo a été interrompu.";break;case 2:le="La connexion réseau a échoué.";break;case 3:le="Le décodage de la vidéo a échoué.";break;case 4:le="La vidéo n'est pas disponible ou non prise en charge.";break;default:le=`Erreur de lecture: ${ce.message||"Erreur inconnue"}`}W(le),q("error",{message:le}),f&&f(ce)};return pe.addEventListener("timeupdate",ut),pe.addEventListener("ended",ht),pe.addEventListener("loadstart",B),pe.addEventListener("canplay",Y),pe.addEventListener("error",re),()=>{pe.removeEventListener("timeupdate",ut),pe.removeEventListener("ended",ht),pe.removeEventListener("loadstart",B),pe.removeEventListener("canplay",Y),pe.removeEventListener("error",re)}},[q,oe,r,h,d,f]),b.useEffect(()=>{const pe=()=>{const ut=document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;N(!!ut)};return document.addEventListener("fullscreenchange",pe),document.addEventListener("webkitfullscreenchange",pe),document.addEventListener("msfullscreenchange",pe),()=>{document.removeEventListener("fullscreenchange",pe),document.removeEventListener("webkitfullscreenchange",pe),document.removeEventListener("msfullscreenchange",pe)}},[]);const bt=pe=>{if(isNaN(pe))return"00:00";const ut=Math.floor(pe/60),ht=Math.floor(pe%60);return`${ut.toString().padStart(2,"0")}:${ht.toString().padStart(2,"0")}`};return b.useEffect(()=>{if(ie&&r&&g.current){const pe=setTimeout(()=>{g.current&&(g.current.requestFullscreen?g.current.requestFullscreen():g.current.webkitRequestFullscreen&&g.current.webkitRequestFullscreen(),N(!0))},300);return()=>clearTimeout(pe)}},[ie,r]),c.jsx("div",{ref:g,className:G("relative overflow-hidden bg-black group touch-manipulation",I?"fixed inset-0 z-50":"xtease-video-container",a),children:c.jsxs("div",{className:G("relative w-full h-full",I?"":"aspect-[9/16]"),children:[!z&&c.jsx("video",{ref:p,src:t,poster:e,className:G("w-full h-full object-contain xtease-video",I&&"xtease-fullscreen"),autoPlay:r,loop:i,muted:s||y,playsInline:!0,onClick:()=>J(),onDoubleClick:()=>{}}),V&&!z&&c.jsx(eee,{}),z&&c.jsx(tee,{message:F,onRetry:()=>{L(!1),U(!0);const pe=p.current;pe&&(pe.load(),pe.play().catch(ut=>{console.error("Retry failed:",ut),L(!0),W(`La lecture a échoué: ${ut.message||"Erreur inconnue"}`)}))}}),!z&&c.jsxs("div",{className:G("absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300",Pe?"opacity-100":"opacity-0 pointer-events-none","group-hover:opacity-100",xe?"pb-safe":""),children:[n&&c.jsx("div",{className:"text-white font-medium mb-2 line-clamp-1",children:n}),c.jsx(JJ,{currentTime:S,duration:A,buffered:C,onSeek:Ae,formatTime:bt}),c.jsx(ZJ,{isPlaying:m,isMuted:y,volume:_,isFullscreen:I,isMobile:ie,currentTime:S,duration:A,quality:O,qualityOptions:Z,onPlayPause:J,onMuteToggle:ee,onVolumeChange:H,onSkipBackward:de,onSkipForward:$e,onFullscreenToggle:je,onQualityChange:D,onLike:Ve,isLiked:ne})]})]})})},nee=({isOpen:t,onClose:e,videoSrc:n,thumbnailUrl:r,title:i})=>{const{triggerHaptic:s}=ld();b.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);const a=()=>{s("medium"),e()};return t?c.jsxs("div",{className:"fixed inset-0 z-50 bg-black xtease-fullscreen",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 bg-black/50 rounded-full",onClick:a,children:c.jsx(bi,{className:"h-5 w-5 text-white"})}),c.jsx("div",{className:"xtease-video-container h-full w-full",children:c.jsx(GKe,{src:n,thumbnailUrl:r,title:i,autoPlay:!0,loop:!0,className:"xtease-video"})})]}):null},YKe=()=>{const{creatorId:t}=S9(),{user:e,isLoading:n}=Ut();Xi();const[r,i]=b.useState(null),[s,a]=b.useState([]),[o,l]=b.useState(!0),[u,d]=b.useState(!0),[f,h]=b.useState(!1),[p,g]=b.useState(0),[m,v]=b.useState(!1),[y,x]=b.useState(null),[_,E]=b.useState(!1),[S,j]=b.useState("videos");b.useEffect(()=>{n||(e&&t===e.id?v(!0):v(!1))},[t,e,n]),b.useEffect(()=>{(async()=>{var k;if(t){l(!0);try{const I=await getCreatorById(t);if(I){i(I);const N=await nG(t);a(N),g(((k=I.metrics)==null?void 0:k.followers)||0),h(!1)}}catch(I){console.error("Error fetching creator data:",I),me.error("Erreur de chargement du profil: "+I.message)}finally{l(!1)}}})()},[t]);const A=C=>{x(C),E(!0)};if(o||n)return c.jsxs("div",{className:"container mx-auto p-4",children:[c.jsx(Wn,{className:"h-32 w-full mb-4"}),c.jsx(Wn,{className:"h-8 w-1/2 mb-2"}),c.jsx(Wn,{className:"h-6 w-1/3 mb-4"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(8)].map((C,k)=>c.jsx(Wn,{className:"h-64 w-full"},k))})]});if(!r)return c.jsx("div",{className:"container mx-auto p-4 text-center",children:"Profil créateur non trouvé."});const T=s.map(C=>{var k;return{id:((k=C.id)==null?void 0:k.toString())||Math.random().toString(),title:C.title||"Vidéo sans titre",type:C.type==="teaser"?"teaser":C.is_premium?"premium":"standard",format:C.format||"16:9",thumbnailUrl:C.thumbnail_url||void 0,originalVideo:C}});return c.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r&&c.jsxs(c.Fragment,{children:[c.jsx(BHe,{name:r.displayName||r.username||"Créateur",username:r.username||"username",avatar:r.avatarUrl||"/placeholder-avatar.jpg",bio:r.bio||"Aucune biographie disponible.",tier:"bronze",metrics:{followers:p,revenue:0,nextTierProgress:45},isOwner:m}),c.jsx("div",{className:"mt-8 space-y-6",children:c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs(Zr,{value:S,onValueChange:j,children:[c.jsxs(Dr,{className:"mb-4",children:[c.jsx(Je,{value:"videos",children:"Vidéos"}),c.jsx(Je,{value:"images",children:"Photos"}),c.jsx(Je,{value:"audio",children:"Audio"}),c.jsx(Je,{value:"stats",children:"Statistiques"})]}),c.jsx(mt,{value:"videos",className:"space-y-6",children:u?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(4)].map((C,k)=>c.jsx(Wn,{className:"h-64 w-full rounded-lg"},k))}):s.length>0?c.jsx(K2,{contents:T,layout:"masonry",onItemClick:A}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(dy,{size:48,className:"mx-auto text-muted-foreground mb-4"}),c.jsx("p",{children:"Aucune vidéo disponible pour ce créateur."})]})}),c.jsx(mt,{value:"images",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Fb,{size:48,className:"mx-auto text-muted-foreground mb-4"}),c.jsx("p",{children:"Les photos seront disponibles prochainement."})]})}),c.jsx(mt,{value:"audio",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(cve,{size:48,className:"mx-auto text-muted-foreground mb-4"}),c.jsx("p",{children:"Les contenus audio seront disponibles prochainement."})]})}),c.jsx(mt,{value:"stats",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(QI,{size:48,className:"mx-auto text-muted-foreground mb-4"}),c.jsx("p",{children:"Les statistiques seront disponibles prochainement."})]})})]})})})]}),y&&c.jsx(nee,{isOpen:_,onClose:()=>E(!1),videoSrc:`https://stream.mux.com/${y.mux_playback_id}.m3u8`,thumbnailUrl:y.thumbnail_url||void 0,title:y.title||"Vidéo"})]})},XKe=my("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $n({className:t,variant:e,...n}){return c.jsx("div",{className:G(XKe({variant:e}),t),...n})}const QKe=({id:t,username:e,displayName:n,avatarUrl:r,bio:i,followersCount:s,isOnline:a})=>{const{user:o}=Ut(),{toast:l}=br(),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(s);M.useEffect(()=>{(async()=>{if(o)try{const x=await tO(o.id,t);d(x)}catch(x){console.error("Error checking follow status:",x)}})()},[t,o]);const m=async()=>{if(!o){l({title:"Authentification requise",description:"Vous devez être connecté pour suivre un créateur",variant:"destructive"});return}h(!0);try{u?await rO(o.id,t)&&(d(!1),g(x=>x-1),l({title:"Désabonnement",description:`Vous ne suivez plus ${n}`})):await nO(o.id,t)&&(d(!0),g(x=>x+1),l({title:"Abonnement",description:`Vous suivez maintenant ${n}`}))}catch(y){console.error("Failed to toggle follow status:",y),l({title:"Erreur",description:"Une erreur s'est produite. Veuillez réessayer.",variant:"destructive"})}finally{h(!1)}},v=y=>y.substring(0,2).toUpperCase();return c.jsxs("div",{className:"border rounded-lg p-4 transition hover:shadow-md flex flex-col",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Wr,{to:`/creator/${t}`,className:"relative",children:[c.jsxs(fy,{className:"h-12 w-12",children:[c.jsx(hy,{src:r,alt:n}),c.jsx(py,{children:v(n)})]}),a&&c.jsx("span",{className:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx(Wr,{to:`/creator/${t}`,className:"hover:underline",children:c.jsx("h3",{className:"font-medium truncate",children:n})}),c.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["@",e]})]}),a&&c.jsx($n,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"En ligne"})]}),c.jsx("p",{className:"text-sm mt-3 line-clamp-2 flex-1",children:i||"Ce créateur n'a pas encore ajouté de bio."}),c.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:c.jsxs("span",{children:[p," abonné",p!==1?"s":""]})}),c.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[c.jsx(K,{variant:u?"outline":"default",size:"sm",className:"flex-1",onClick:m,disabled:f,children:u?c.jsxs(c.Fragment,{children:[c.jsx(Z7,{className:"mr-1 h-4 w-4"}),"Suivi"]}):c.jsxs(c.Fragment,{children:[c.jsx(R_,{className:"mr-1 h-4 w-4"}),"Suivre"]})}),c.jsx(K,{variant:"outline",size:"icon",asChild:!0,children:c.jsx(Wr,{to:`/secure-messaging?userId=${t}`,children:c.jsx(Qh,{className:"h-4 w-4"})})})]})]})},ZKe=async t=>{try{const e=Gn(_n(Vt,"stories"),gr("creatorId","==",t),gr("expiresAt",">",uy()),Jl("expiresAt","desc"));return(await ms(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error fetching stories:",e),[]}},JKe=async t=>{try{const e=ln(Vt,"stories",t),n=await Al(e);if(!n.exists())return!1;const r=n.data().views||0;return await BI(e,{views:r+1}),!0}catch(e){return console.error("Error incrementing story views:",e),!1}},dz=t=>{var e,n,r,i,s,a,o,l;return{id:t.id,creator_id:t.creatorId,media_url:t.content,thumbnail_url:(e=t.metadata)==null?void 0:e.thumbnailUrl,caption:"",filter_used:((n=t.metadata)==null?void 0:n.filterUsed)||"none",format:"16:9",duration:((r=t.metadata)==null?void 0:r.duration)||5,created_at:t.createdAt.toDate().toISOString(),expires_at:t.expiresAt.toDate().toISOString(),view_count:t.views,is_highlighted:!1,metadata:{location:(i=t.metadata)==null?void 0:i.location,mentions:(s=t.metadata)==null?void 0:s.mentions,hashtags:(a=t.metadata)==null?void 0:a.hashtags,music:(o=t.metadata)==null?void 0:o.music,interactive:(l=t.metadata)==null?void 0:l.interactive},viewed:!1}},DR=()=>{const[t,e]=b.useState([]),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(0),[l,u]=b.useState(0),{user:d,profile:f}=Ut(),{triggerMicroReward:h}=gn(),{toast:p}=br(),g=b.useCallback(async()=>{if(d!=null&&d.uid)try{s(!0);const j=(await ZKe(d.uid)).map(dz);e(j);const A={};j.forEach(C=>{if(!C.creator_id)return;const k=C.creator_id;A[k]||(A[k]={creator:{id:k,username:"",display_name:"",avatar_url:"",bio:"",role:"creator"},stories:[],lastUpdated:C.created_at,hasUnviewed:!1}),A[k].stories.push(C),new Date(C.created_at)>new Date(A[k].lastUpdated)&&(A[k].lastUpdated=C.created_at),C.viewed||(A[k].hasUnviewed=!0)});const T=Object.values(A).sort((C,k)=>new Date(k.lastUpdated).getTime()-new Date(C.lastUpdated).getTime());r(T)}catch(S){console.error("Error loading stories:",S),p({title:"Erreur",description:"Impossible de charger les stories",variant:"destructive"})}finally{s(!1)}},[d,p,h]),m=b.useCallback(async S=>{var j,A,T,C,k;if(!(d!=null&&d.uid)||!f)return p({title:"Erreur",description:"Vous devez être connecté pour publier une story",variant:"destructive"}),null;try{const I=await m({creatorId:d.uid,content:URL.createObjectURL(S.mediaFile),type:S.mediaFile.type.startsWith("video/")?"video":"image",metadata:{duration:S.duration,thumbnailUrl:S.thumbnailFile?URL.createObjectURL(S.thumbnailFile):void 0,filterUsed:S.filter,location:(j=S.metadata)==null?void 0:j.location,mentions:(A=S.metadata)==null?void 0:A.mentions,hashtags:(T=S.metadata)==null?void 0:T.hashtags,music:(C=S.metadata)==null?void 0:C.music,interactive:(k=S.metadata)==null?void 0:k.interactive}});return I&&(e(N=>[dz(I),...N]),h("creative",{type:"story_created"}),p({title:"Succès",description:"Votre story a été publiée"})),I}catch(I){return console.error("Error creating story:",I),p({title:"Erreur",description:"Impossible de publier votre story",variant:"destructive"}),null}},[d,f,p,h]),v=b.useCallback(async(S,j=0)=>{if(d!=null&&d.uid)try{await JKe(S),e(A=>A.map(T=>T.id===S?{...T,viewed:!0}:T))}catch(A){console.error("Error marking story as viewed:",A)}},[d]),y=b.useCallback(async S=>{if(!(d!=null&&d.uid))return!1;try{return await y(S),e(j=>j.filter(A=>A.id!==S)),p({title:"Succès",description:"Story supprimée avec succès"}),!0}catch(j){return console.error("Error deleting story:",j),p({title:"Erreur",description:"Impossible de supprimer la story",variant:"destructive"}),!1}},[d,p]),x=b.useCallback(()=>{if(!n.length)return;const S=n[l];a<S.stories.length-1?o(j=>j+1):l<n.length-1?(u(j=>j+1),o(0)):(u(0),o(0))},[n,l,a]),_=b.useCallback(()=>{if(n.length)if(a>0)o(S=>S-1);else if(l>0){u(j=>j-1);const S=n[l-1].stories.length;o(S-1)}else{u(n.length-1);const S=n[n.length-1].stories.length;o(S-1)}},[n,l,a]);b.useEffect(()=>{g()},[g]);const E=n.length>0&&l<n.length?n[l].stories[a]:null;return{stories:t,storyGroups:n,loading:i,activeStory:E,activeStoryIndex:a,activeGroupIndex:l,loadStories:g,createStory:m,markStoryAsViewed:v,deleteStory:y,nextStory:x,prevStory:_,setActiveGroupIndex:u,setActiveStoryIndex:o}};var LR="Progress",$R=100,[eGe,Gtt]=xr(LR),[tGe,nGe]=eGe(LR),ree=b.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=rGe,...a}=t;(i||i===0)&&!fz(i)&&console.error(iGe(`${i}`,"Progress"));const o=fz(i)?i:$R;r!==null&&!hz(r,o)&&console.error(sGe(`${r}`,"Progress"));const l=hz(r,o)?r:null,u=l1(l)?s(l,o):void 0;return c.jsx(tGe,{scope:n,value:l,max:o,children:c.jsx(Me.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":l1(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":aee(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});ree.displayName=LR;var iee="ProgressIndicator",see=b.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=nGe(iee,n);return c.jsx(Me.div,{"data-state":aee(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});see.displayName=iee;function rGe(t,e){return`${Math.round(t/e*100)}%`}function aee(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function l1(t){return typeof t=="number"}function fz(t){return l1(t)&&!isNaN(t)&&t>0}function hz(t,e){return l1(t)&&!isNaN(t)&&t<=e&&t>=0}function iGe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$R}\`.`}function sGe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$R} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oee=ree,aGe=see;const tE=b.forwardRef(({className:t,value:e,...n},r)=>c.jsx(oee,{ref:r,className:G("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(aGe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));tE.displayName=oee.displayName;var nE="Dialog",[lee,Ytt]=xr(nE),[oGe,ra]=lee(nE),cee=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=b.useRef(null),l=b.useRef(null),[u,d]=Qs({prop:r,defaultProp:i??!1,onChange:s,caller:nE});return c.jsx(oGe,{scope:e,triggerRef:o,contentRef:l,contentId:Bs(),titleId:Bs(),descriptionId:Bs(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};cee.displayName=nE;var uee="DialogTrigger",dee=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ra(uee,n),s=Ye(e,i.triggerRef);return c.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":zR(i.open),...r,ref:s,onClick:be(t.onClick,i.onOpenToggle)})});dee.displayName=uee;var VR="DialogPortal",[lGe,fee]=lee(VR,{forceMount:void 0}),hee=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=ra(VR,e);return c.jsx(lGe,{scope:e,forceMount:n,children:b.Children.map(r,a=>c.jsx(Lr,{present:n||s.open,children:c.jsx(Q_,{asChild:!0,container:i,children:a})}))})};hee.displayName=VR;var c1="DialogOverlay",pee=b.forwardRef((t,e)=>{const n=fee(c1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ra(c1,t.__scopeDialog);return s.modal?c.jsx(Lr,{present:r||s.open,children:c.jsx(uGe,{...i,ref:e})}):null});pee.displayName=c1;var cGe=Du("DialogOverlay.RemoveScroll"),uGe=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ra(c1,n);return c.jsx(XS,{as:cGe,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Me.div,{"data-state":zR(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Wu="DialogContent",mee=b.forwardRef((t,e)=>{const n=fee(Wu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=ra(Wu,t.__scopeDialog);return c.jsx(Lr,{present:r||s.open,children:s.modal?c.jsx(dGe,{...i,ref:e}):c.jsx(fGe,{...i,ref:e})})});mee.displayName=Wu;var dGe=b.forwardRef((t,e)=>{const n=ra(Wu,t.__scopeDialog),r=b.useRef(null),i=Ye(e,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return AR(s)},[]),c.jsx(gee,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:be(t.onFocusOutside,s=>s.preventDefault())})}),fGe=b.forwardRef((t,e)=>{const n=ra(Wu,t.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return c.jsx(gee,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),gee=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=ra(Wu,n),l=b.useRef(null),u=Ye(e,l);return TR(),c.jsxs(c.Fragment,{children:[c.jsx(GS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(Ey,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":zR(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(hGe,{titleId:o.titleId}),c.jsx(mGe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),FR="DialogTitle",vee=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ra(FR,n);return c.jsx(Me.h2,{id:i.titleId,...r,ref:e})});vee.displayName=FR;var yee="DialogDescription",xee=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ra(yee,n);return c.jsx(Me.p,{id:i.descriptionId,...r,ref:e})});xee.displayName=yee;var bee="DialogClose",wee=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=ra(bee,n);return c.jsx(Me.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});wee.displayName=bee;function zR(t){return t?"open":"closed"}var _ee="DialogTitleWarning",[Xtt,See]=_ve(_ee,{contentName:Wu,titleName:FR,docsSlug:"dialog"}),hGe=({titleId:t})=>{const e=See(_ee),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pGe="DialogDescriptionWarning",mGe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${See(pGe).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Eee=cee,gGe=dee,Tee=hee,rE=pee,iE=mee,sE=vee,aE=xee,UR=wee;const Zo=Eee,vGe=Tee,yGe=UR,Aee=b.forwardRef(({className:t,...e},n)=>c.jsx(rE,{ref:n,className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Aee.displayName=rE.displayName;const Ya=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(vGe,{children:[c.jsx(Aee,{}),c.jsxs(iE,{ref:r,className:G("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(UR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(bi,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ya.displayName=iE.displayName;const Oc=({className:t,...e})=>c.jsx("div",{className:G("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Oc.displayName="DialogHeader";const $y=({className:t,...e})=>c.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$y.displayName="DialogFooter";const Rc=b.forwardRef(({className:t,...e},n)=>c.jsx(sE,{ref:n,className:G("text-lg font-semibold leading-none tracking-tight",t),...e}));Rc.displayName=sE.displayName;const BR=b.forwardRef(({className:t,...e},n)=>c.jsx(aE,{ref:n,className:G("text-sm text-muted-foreground",t),...e}));BR.displayName=aE.displayName;function tt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function _i(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function zr(t,e){const n=tt(t);return isNaN(e)?_i(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ea(t,e){const n=tt(t);if(isNaN(e))return _i(t,NaN);if(!e)return n;const r=n.getDate(),i=_i(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const WR=6048e5,xGe=864e5,rx=43200,pz=1440;let bGe={};function Sp(){return bGe}function Fa(t,e){var o,l,u,d;const n=Sp(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=tt(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hu(t){return Fa(t,{weekStartsOn:1})}function jee(t){const e=tt(t),n=e.getFullYear(),r=_i(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Hu(r),s=_i(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Hu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function kh(t){const e=tt(t);return e.setHours(0,0,0,0),e}function Nh(t){const e=tt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ya(t,e){const n=kh(t),r=kh(e),i=+n-Nh(n),s=+r-Nh(r);return Math.round((i-s)/xGe)}function wGe(t){const e=jee(t),n=_i(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Hu(n)}function Ak(t,e){const n=e*7;return zr(t,n)}function _Ge(t,e){return ea(t,e*12)}function SGe(t){let e;return t.forEach(function(n){const r=tt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function EGe(t){let e;return t.forEach(n=>{const r=tt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function zx(t,e){const n=tt(t),r=tt(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function TGe(t){return _i(t,Date.now())}function hi(t,e){const n=kh(t),r=kh(e);return+n==+r}function HR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function AGe(t){if(!HR(t)&&typeof t!="number")return!1;const e=tt(t);return!isNaN(Number(e))}function Ih(t,e){const n=tt(t),r=tt(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function jGe(t,e,n){const r=Fa(t,n),i=Fa(e,n),s=+r-Nh(r),a=+i-Nh(i);return Math.round((s-a)/WR)}function CGe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function PGe(t,e){return+tt(t)-+tt(e)}function kGe(t){const e=tt(t);return e.setHours(23,59,59,999),e}function oE(t){const e=tt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function NGe(t){const e=tt(t);return+kGe(e)==+oE(e)}function IGe(t,e){const n=tt(t),r=tt(e),i=zx(n,r),s=Math.abs(Ih(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let o=zx(n,r)===-i;NGe(tt(t))&&s===1&&zx(t,r)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function OGe(t,e,n){const r=PGe(t,e)/1e3;return CGe(n==null?void 0:n.roundingMethod)(r)}function wi(t){const e=tt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Cee(t){const e=tt(t),n=_i(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function qR(t,e){var o,l,u,d;const n=Sp(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=tt(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function Pee(t){return qR(t,{weekStartsOn:1})}const RGe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MGe=(t,e,n)=>{let r;const i=RGe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DGe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LGe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$Ge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VGe={date:Cf({formats:DGe,defaultWidth:"full"}),time:Cf({formats:LGe,defaultWidth:"full"}),dateTime:Cf({formats:$Ge,defaultWidth:"full"})},FGe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zGe=(t,e,n,r)=>FGe[t];function ha(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const UGe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BGe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WGe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HGe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GGe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},YGe={ordinalNumber:GGe,era:ha({values:UGe,defaultWidth:"wide"}),quarter:ha({values:BGe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ha({values:WGe,defaultWidth:"wide"}),day:ha({values:HGe,defaultWidth:"wide"}),dayPeriod:ha({values:qGe,defaultWidth:"wide",formattingValues:KGe,defaultFormattingWidth:"wide"})};function pa(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?QGe(o,f=>f.test(a)):XGe(o,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function XGe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function QGe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function kee(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const ZGe=/^(\d+)(th|st|nd|rd)?/i,JGe=/\d+/i,eYe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tYe={any:[/^b/i,/^(a|c)/i]},nYe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rYe={any:[/1/i,/2/i,/3/i,/4/i]},iYe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sYe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aYe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oYe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lYe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cYe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uYe={ordinalNumber:kee({matchPattern:ZGe,parsePattern:JGe,valueCallback:t=>parseInt(t,10)}),era:pa({matchPatterns:eYe,defaultMatchWidth:"wide",parsePatterns:tYe,defaultParseWidth:"any"}),quarter:pa({matchPatterns:nYe,defaultMatchWidth:"wide",parsePatterns:rYe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pa({matchPatterns:iYe,defaultMatchWidth:"wide",parsePatterns:sYe,defaultParseWidth:"any"}),day:pa({matchPatterns:aYe,defaultMatchWidth:"wide",parsePatterns:oYe,defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:lYe,defaultMatchWidth:"any",parsePatterns:cYe,defaultParseWidth:"any"})},KR={code:"en-US",formatDistance:MGe,formatLong:VGe,formatRelative:zGe,localize:YGe,match:uYe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dYe(t){const e=tt(t);return ya(e,Cee(e))+1}function Nee(t){const e=tt(t),n=+Hu(e)-+wGe(e);return Math.round(n/WR)+1}function Iee(t,e){var d,f,h,p;const n=tt(t),r=n.getFullYear(),i=Sp(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=_i(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Fa(a,e),l=_i(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Fa(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function fYe(t,e){var o,l,u,d;const n=Sp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Iee(t,e),s=_i(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Fa(s,e)}function Oee(t,e){const n=tt(t),r=+Fa(n,e)-+fYe(n,e);return Math.round(r/WR)+1}function It(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const cl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return It(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):It(n+1,2)},d(t,e){return It(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return It(t.getHours()%12||12,e.length)},H(t,e){return It(t.getHours(),e.length)},m(t,e){return It(t.getMinutes(),e.length)},s(t,e){return It(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return It(i,e.length)}},Pd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mz={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return cl.y(t,e)},Y:function(t,e,n,r){const i=Iee(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return It(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):It(s,e.length)},R:function(t,e){const n=jee(t);return It(n,e.length)},u:function(t,e){const n=t.getFullYear();return It(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return It(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return It(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return cl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return It(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Oee(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):It(i,e.length)},I:function(t,e,n){const r=Nee(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):It(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):cl.d(t,e)},D:function(t,e,n){const r=dYe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):It(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return It(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return It(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return It(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Pd.noon:r===0?i=Pd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Pd.evening:r>=12?i=Pd.afternoon:r>=4?i=Pd.morning:i=Pd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return cl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):cl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):cl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):cl.s(t,e)},S:function(t,e){return cl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vz(r);case"XXXX":case"XX":return tu(r);case"XXXXX":case"XXX":default:return tu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vz(r);case"xxxx":case"xx":return tu(r);case"xxxxx":case"xxx":default:return tu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gz(r,":");case"OOOO":default:return"GMT"+tu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gz(r,":");case"zzzz":default:return"GMT"+tu(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return It(r,e.length)},T:function(t,e,n){const r=t.getTime();return It(r,e.length)}};function gz(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+It(s,2)}function vz(t,e){return t%60===0?(t>0?"-":"+")+It(Math.abs(t)/60,2):tu(t,e)}function tu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=It(Math.trunc(r/60),2),s=It(r%60,2);return n+i+e+s}const yz=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ree=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},hYe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return yz(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",yz(r,e)).replace("{{time}}",Ree(i,e))},pYe={p:Ree,P:hYe},mYe=/^D+$/,gYe=/^Y+$/,vYe=["D","DD","YY","YYYY"];function yYe(t){return mYe.test(t)}function xYe(t){return gYe.test(t)}function bYe(t,e,n){const r=wYe(t,e,n);if(console.warn(r),vYe.includes(t))throw new RangeError(r)}function wYe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _Ye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SYe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EYe=/^'([^]*?)'?$/,TYe=/''/g,AYe=/[a-zA-Z]/;function md(t,e,n){var d,f,h,p,g,m,v,y;const r=Sp(),i=(n==null?void 0:n.locale)??r.locale??KR,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((m=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=tt(t);if(!AGe(o))throw new RangeError("Invalid time value");let l=e.match(SYe).map(x=>{const _=x[0];if(_==="p"||_==="P"){const E=pYe[_];return E(x,i.formatLong)}return x}).join("").match(_Ye).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:jYe(x)};if(mz[_])return{isToken:!0,value:x};if(_.match(AYe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xYe(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&yYe(_))&&bYe(_,e,String(t));const E=mz[_[0]];return E(o,_,i.localize,u)}).join("")}function jYe(t){const e=t.match(EYe);return e?e[1].replace(TYe,"'"):t}function CYe(t,e,n){const r=Sp(),i=(n==null?void 0:n.locale)??r.locale??KR,s=2520,a=zx(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let l,u;a>0?(l=tt(e),u=tt(t)):(l=tt(t),u=tt(e));const d=OGe(u,l),f=(Nh(u)-Nh(l))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<pz){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<rx){const g=Math.round(h/pz);return i.formatDistance("xDays",g,o)}else if(h<rx*2)return p=Math.round(h/rx),i.formatDistance("aboutXMonths",p,o)}if(p=IGe(u,l),p<12){const g=Math.round(h/rx);return i.formatDistance("xMonths",g,o)}else{const g=p%12,m=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",m,o):g<9?i.formatDistance("overXYears",m,o):i.formatDistance("almostXYears",m+1,o)}}function Mee(t,e){return CYe(t,TGe(t),e)}function PYe(t){const e=tt(t),n=e.getFullYear(),r=e.getMonth(),i=_i(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function kYe(t){return Math.trunc(+tt(t)/1e3)}function NYe(t){const e=tt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function IYe(t,e){return jGe(NYe(t),wi(t),e)+1}function jk(t,e){const n=tt(t),r=tt(e);return n.getTime()>r.getTime()}function Dee(t,e){const n=tt(t),r=tt(e);return+n<+r}function GR(t,e){const n=tt(t),r=tt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function OYe(t,e){const n=tt(t),r=tt(e);return n.getFullYear()===r.getFullYear()}function AA(t,e){return zr(t,-e)}function jA(t,e){const n=tt(t),r=n.getFullYear(),i=n.getDate(),s=_i(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=PYe(s);return n.setMonth(e,Math.min(i,a)),n}function xz(t,e){const n=tt(t);return isNaN(+n)?_i(t,NaN):(n.setFullYear(e),n)}const RYe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},MYe=(t,e,n)=>{let r;const i=RYe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},DYe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},LYe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$Ye={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VYe={date:Cf({formats:DYe,defaultWidth:"full"}),time:Cf({formats:LYe,defaultWidth:"full"}),dateTime:Cf({formats:$Ye,defaultWidth:"full"})},FYe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},zYe=(t,e,n,r)=>FYe[t],UYe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},BYe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},WYe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},HYe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},qYe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},KYe=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let s;return n===1?s=r&&i.includes(r)?"ère":"er":s="ème",n+s},GYe=["MMM","MMMM"],YYe={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&GYe.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:KYe,era:ha({values:UYe,defaultWidth:"wide"}),quarter:ha({values:BYe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ha({values:WYe,defaultWidth:"wide"}),day:ha({values:HYe,defaultWidth:"wide"}),dayPeriod:ha({values:qYe,defaultWidth:"wide"})},XYe=/^(\d+)(ième|ère|ème|er|e)?/i,QYe=/\d+/i,ZYe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},JYe={any:[/^av/i,/^ap/i]},eXe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},tXe={any:[/1/i,/2/i,/3/i,/4/i]},nXe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},rXe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},iXe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},sXe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},aXe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},oXe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},lXe={ordinalNumber:kee({matchPattern:XYe,parsePattern:QYe,valueCallback:t=>parseInt(t)}),era:pa({matchPatterns:ZYe,defaultMatchWidth:"wide",parsePatterns:JYe,defaultParseWidth:"any"}),quarter:pa({matchPatterns:eXe,defaultMatchWidth:"wide",parsePatterns:tXe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pa({matchPatterns:nXe,defaultMatchWidth:"wide",parsePatterns:rXe,defaultParseWidth:"any"}),day:pa({matchPatterns:iXe,defaultMatchWidth:"wide",parsePatterns:sXe,defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:aXe,defaultMatchWidth:"any",parsePatterns:oXe,defaultParseWidth:"any"})},Lee={code:"fr",formatDistance:MYe,formatLong:VYe,formatRelative:zYe,localize:YYe,match:lXe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function cXe(t){const[e,n]=b.useState(()=>typeof window>"u"?!1:window.matchMedia(t).matches);return b.useEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia(t);n(r.matches);const i=s=>{n(s.matches)};return r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[t]),e}const uXe=({src:t,thumbnailUrl:e,title:n,autoPlay:r=!1,loop:i=!1,muted:s=!1,className:a,onTimeUpdate:o,onEnded:l,onPlay:u,onPause:d,onVolumeChange:f,onFullscreenChange:h,onError:p})=>{const g=b.useRef(null),m=b.useRef(null),[v,y]=b.useState(r),[x,_]=b.useState(s),[E,S]=b.useState(1),[j,A]=b.useState(0),[T,C]=b.useState(0),[k,I]=b.useState(0),[N,O]=b.useState(!1),[D,V]=b.useState("auto"),[U,z]=b.useState(!0),[L,F]=b.useState(!1),[W,ne]=b.useState(""),Q=cXe("(max-width: 768px)");gn();const{triggerMediaReward:ie}=ER(),{showControls:xe,setupControlsTimer:Pe}=GZ(!0),he=[{label:"Auto",value:"auto"},{label:"1080p",value:"1080"},{label:"720p",value:"720"},{label:"480p",value:"480"},{label:"360p",value:"360"}];b.useEffect(()=>Pe(m.current),[]);const q=()=>{const de=g.current;if(de){if(v)de.pause(),d==null||d();else{const Ve=de.play();Ve!==void 0&&Ve.then(()=>{ie(),u==null||u()}).catch(bt=>{console.error("Play error:",bt),F(!0),ne("Video playback failed. Please try again."),p==null||p(bt)})}y(!v)}},oe=()=>{const de=g.current;if(!de)return;const Ve=!x;de.muted=Ve,_(Ve),f==null||f(E,Ve)},Z=de=>{const Ve=g.current;if(!Ve)return;const bt=parseFloat(de.target.value);Ve.volume=bt,S(bt),bt===0&&!x?(Ve.muted=!0,_(!0)):bt>0&&x&&(Ve.muted=!1,_(!1)),f==null||f(bt,Ve.muted)},J=de=>{const Ve=g.current;Ve&&(Ve.currentTime=de,A(de))},ee=()=>{const de=m.current;de&&(N?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():de.requestFullscreen?de.requestFullscreen():de.webkitRequestFullscreen?de.webkitRequestFullscreen():de.msRequestFullscreen&&de.msRequestFullscreen())},H=de=>{V(de),console.log(`Quality changed to ${de}`)},Ae=()=>{const de=g.current;de&&(de.currentTime=Math.min(de.currentTime+10,de.duration),A(de.currentTime))},je=()=>{const de=g.current;de&&(de.currentTime=Math.max(de.currentTime-10,0),A(de.currentTime))};KZ({containerRef:m,isMobile:Q,onSeekForward:Ae,onSeekBackward:je}),b.useEffect(()=>{const de=g.current;if(!de)return;const Ve=()=>{A(de.currentTime),C(de.duration),de.buffered.length>0&&I(de.buffered.end(de.buffered.length-1)),o==null||o(de.currentTime,de.duration)},bt=()=>{y(!1),l==null||l()},pe=()=>{z(!0)},ut=()=>{z(!1)},ht=B=>{F(!0),z(!1),ne("An error occurred while loading the video."),p==null||p(B)};return de.addEventListener("timeupdate",Ve),de.addEventListener("ended",bt),de.addEventListener("loadstart",pe),de.addEventListener("canplay",ut),de.addEventListener("error",ht),()=>{de.removeEventListener("timeupdate",Ve),de.removeEventListener("ended",bt),de.removeEventListener("loadstart",pe),de.removeEventListener("canplay",ut),de.removeEventListener("error",ht)}},[o,l,p]),b.useEffect(()=>{const de=()=>{const Ve=document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement;O(!!Ve),h==null||h(!!Ve)};return document.addEventListener("fullscreenchange",de),document.addEventListener("webkitfullscreenchange",de),document.addEventListener("msfullscreenchange",de),()=>{document.removeEventListener("fullscreenchange",de),document.removeEventListener("webkitfullscreenchange",de),document.removeEventListener("msfullscreenchange",de)}},[h]);const $e=de=>{if(isNaN(de))return"00:00";const Ve=Math.floor(de/60),bt=Math.floor(de%60);return`${Ve.toString().padStart(2,"0")}:${bt.toString().padStart(2,"0")}`};return c.jsxs("div",{ref:m,className:G("relative w-full aspect-video bg-black rounded-lg overflow-hidden group",N&&"fixed inset-0 z-50 rounded-none",a),onClick:de=>{(de.target===m.current||de.target.tagName==="VIDEO")&&q()},children:[c.jsx("video",{ref:g,src:t,poster:e,className:"w-full h-full object-contain",autoPlay:r,loop:i,muted:s,playsInline:!0}),U&&c.jsx(eee,{}),L&&c.jsx(tee,{message:W,onRetry:()=>{F(!1);const de=g.current;de&&de.load()}}),c.jsxs("div",{className:G("absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 transition-opacity duration-300",xe?"opacity-100":"opacity-0 pointer-events-none","group-hover:opacity-100"),children:[n&&c.jsx("div",{className:"text-white font-medium mb-2 line-clamp-1",children:n}),c.jsx(JJ,{currentTime:j,duration:T,buffered:k,onSeek:J,formatTime:$e}),c.jsx(ZJ,{isPlaying:v,isMuted:x,volume:E,isFullscreen:N,isMobile:Q,currentTime:j,duration:T,quality:D,qualityOptions:he,onPlayPause:q,onMuteToggle:oe,onVolumeChange:Z,onSkipBackward:je,onSkipForward:Ae,onFullscreenToggle:ee,onQualityChange:H})]})]})},dXe=({isOpen:t,onClose:e,initialGroupIndex:n=0})=>{var oe,Z;const{storyGroups:r,activeStoryIndex:i,activeGroupIndex:s,loadStories:a,nextStory:o,prevStory:l,markStoryAsViewed:u,setActiveGroupIndex:d,setActiveStoryIndex:f}=DR(),[h,p]=b.useState(0),[g,m]=b.useState(!1),[v,y]=b.useState(!0),[x,_]=b.useState(!1),[E,S]=b.useState(!1),[j,A]=b.useState(0),T=b.useRef(null),C=b.useRef(Date.now()),{triggerMicroReward:k}=gn(),{triggerGestureReward:I,triggerNavigationReward:N}=ER(),{user:O}=Ut();b.useEffect(()=>{if(t&&n!==void 0&&r.length>0){const J=Math.min(n,r.length-1);d(J),f(0)}},[t,n,r.length,d,f]);const D=r[s]||null,V=(D==null?void 0:D.stories[i])||null;b.useEffect(()=>{if(!t||!V||g||x)return;const J=V.duration*1e3;p(0),C.current=Date.now(),u(V.id),(async()=>{const je=[];if(D&&i<D.stories.length-1&&je.push(D.stories[i+1]),s<r.length-1){const $e=r[s+1];$e&&$e.stories.length>0&&je.push($e.stories[0])}je.forEach($e=>{if($e){if($e.media_url.includes(".mp4")||$e.media_url.includes(".webm"))fetch($e.media_url,{method:"HEAD"}).catch(()=>{});else{const Ve=new Image;Ve.src=$e.media_url}if($e.thumbnail_url){const Ve=new Image;Ve.src=$e.thumbnail_url}}})})();const H=Date.now(),Ae=()=>{const je=Date.now()-H,$e=Math.min(je/J*100,100);p($e),$e<100?T.current=window.requestAnimationFrame(Ae):o()};return T.current=window.requestAnimationFrame(Ae),()=>{T.current!==null&&window.cancelAnimationFrame(T.current)}},[t,V,g,x,o,u,D,i,s,r]);const U=()=>{if(T.current!==null&&window.cancelAnimationFrame(T.current),V){const J=Math.round((Date.now()-C.current)/1e3);u(V.id,J)}e()},z=J=>{J.stopPropagation(),o(),N()},L=J=>{J.stopPropagation(),l(),N()},F=J=>{m(!0),S(!0),A(J.touches[0].clientX)},W=J=>{E&&J.touches[0].clientX},ne=J=>{if(!E)return;const H=J.changedTouches[0].clientX-j;Math.abs(H)>50&&(H>0?l():o(),I()),S(!1),m(!1)},Q=J=>{J.stopPropagation();const ee=J.clientX,H=J.currentTarget.offsetWidth;ee<H/2?l():o()},ie=J=>{switch(J){case"like":k("like",{type:"story_liked"});break;case"comment":k("message",{type:"story_comment"});break;case"share":k("action",{type:"story_shared"});break}},xe=()=>{_(!0),m(!0)},Pe=()=>{_(!1),m(!1)},he=()=>{_(!1),m(!1),o()};if(b.useEffect(()=>{t&&a()},[t,a]),!t)return null;const q=(V==null?void 0:V.media_url.includes(".mp4"))||(V==null?void 0:V.media_url.includes(".webm"));return c.jsx(Zo,{open:t,onOpenChange:J=>!J&&U(),children:c.jsx(Ya,{className:"p-0 max-w-md h-[90vh] max-h-[90vh] bg-black relative overflow-hidden",children:V?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 flex space-x-1 p-2 bg-gradient-to-b from-black/80 to-transparent",children:D==null?void 0:D.stories.map((J,ee)=>c.jsx(tE,{value:ee===i?h:ee<i?100:0,className:"h-1 flex-1"},ee))}),c.jsxs("div",{className:"absolute top-6 left-0 right-0 z-10 flex items-center justify-between px-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(fy,{className:"h-8 w-8 border border-white",children:[c.jsx(hy,{src:(D==null?void 0:D.creator.avatar_url)||void 0}),c.jsx(py,{children:((oe=D==null?void 0:D.creator.display_name)==null?void 0:oe.charAt(0))||(D==null?void 0:D.creator.username.charAt(0))})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white text-sm font-medium",children:(D==null?void 0:D.creator.display_name)||(D==null?void 0:D.creator.username)}),c.jsx("p",{className:"text-gray-300 text-xs",children:V.created_at&&Mee(new Date(V.created_at),{addSuffix:!0,locale:Lee})})]})]}),c.jsx(K,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:U,children:c.jsx(bi,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-900",onClick:Q,onTouchStart:F,onTouchMove:W,onTouchEnd:ne,children:q?c.jsx(uXe,{src:V.media_url,thumbnailUrl:V.thumbnail_url||void 0,autoPlay:v,className:`max-h-full max-w-full ${V.filter_used&&V.filter_used!=="none"?`filter-${V.filter_used}`:""}`,onPlay:xe,onPause:Pe,onEnded:he}):c.jsx("img",{src:V.media_url,alt:"Story",className:`max-h-full max-w-full object-contain ${V.filter_used&&V.filter_used!=="none"?`filter-${V.filter_used}`:""}`})}),(V.caption||((Z=V.tags)==null?void 0:Z.length))&&c.jsxs("div",{className:"absolute bottom-16 left-0 right-0 z-10 p-4 bg-gradient-to-t from-black/80 to-transparent",children:[V.caption&&c.jsx("p",{className:"text-white text-sm mb-2",children:V.caption}),V.tags&&V.tags.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1",children:V.tags.map(J=>c.jsxs($n,{variant:"secondary",className:"bg-white/20 hover:bg-white/30",children:["#",J.tag_name]},J.id))})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10 flex justify-between items-center p-4 bg-gradient-to-t from-black/80 to-transparent",children:c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>ie("like"),children:c.jsx(er,{className:"h-5 w-5"})}),c.jsx(K,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>ie("comment"),children:c.jsx(P_,{className:"h-5 w-5"})}),c.jsx(K,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",onClick:()=>ie("share"),children:c.jsx(Q7,{className:"h-5 w-5"})})]})}),c.jsx(K,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-white/70 hover:bg-black/30 z-20",onClick:L,children:c.jsx(V7,{className:"h-6 w-6"})}),c.jsx(K,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white/70 hover:bg-black/30 z-20",onClick:z,children:c.jsx(ZI,{className:"h-6 w-6"})})]}):c.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center",children:[c.jsx("p",{className:"text-white text-center p-8",children:r.length===0?"Aucune story disponible. Soyez le premier à partager une story !":"Chargement..."}),c.jsx(K,{variant:"outline",onClick:U,children:"Fermer"})]})})})},fXe=Eee,hXe=gGe,pXe=Tee,$ee=b.forwardRef(({className:t,...e},n)=>c.jsx(rE,{className:G("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$ee.displayName=rE.displayName;const mXe=my("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Vee=b.forwardRef(({side:t="right",className:e,children:n,...r},i)=>c.jsxs(pXe,{children:[c.jsx($ee,{}),c.jsxs(iE,{ref:i,className:G(mXe({side:t}),e),...r,children:[n,c.jsxs(UR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(bi,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vee.displayName=iE.displayName;const Fee=({className:t,...e})=>c.jsx("div",{className:G("flex flex-col space-y-2 text-center sm:text-left",t),...e});Fee.displayName="SheetHeader";const zee=({className:t,...e})=>c.jsx("div",{className:G("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});zee.displayName="SheetFooter";const Uee=b.forwardRef(({className:t,...e},n)=>c.jsx(sE,{ref:n,className:G("text-lg font-semibold text-foreground",t),...e}));Uee.displayName=sE.displayName;const gXe=b.forwardRef(({className:t,...e},n)=>c.jsx(aE,{ref:n,className:G("text-sm text-muted-foreground",t),...e}));gXe.displayName=aE.displayName;const Bee=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState("camera"),[i,s]=b.useState(null),[a,o]=b.useState(null),[l,u]=b.useState(""),[d,f]=b.useState("none"),[h,p]=b.useState(10),[g,m]=b.useState(24),[v,y]=b.useState(""),[x,_]=b.useState(!1),[E,S]=b.useState(!1),[j,A]=b.useState(!1),T=b.useRef(null),C=b.useRef(null),k=b.useRef(null),I=b.useRef(null),N=b.useRef([]),{createStory:O}=DR(),{triggerMicroReward:D}=gn(),{isCreator:V}=Ut(),{toast:U}=br(),{trackInteraction:z}=rp(),L=b.useCallback(async()=>{try{if(!C.current)return;const he=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!0});C.current.srcObject=he,I.current=new MediaRecorder(he),I.current.ondataavailable=q=>{q.data.size>0&&N.current.push(q.data)},I.current.onstop=()=>{const q=new Blob(N.current,{type:"video/webm"}),oe=new File([q],`video-${Date.now()}.webm`,{type:"video/webm"});o(oe),s(URL.createObjectURL(q)),N.current=[]}}catch(he){console.error("Error accessing camera:",he),U({title:"Erreur",description:"Impossible d'accéder à votre caméra",variant:"destructive"}),r("gallery")}},[U]),F=()=>{I.current&&(N.current=[],I.current.start(),S(!0),setTimeout(()=>{var he;((he=I.current)==null?void 0:he.state)==="recording"&&W()},h*1e3))},W=()=>{I.current&&(I.current.state==="recording"&&I.current.stop(),S(!1))},ne=()=>{if(!C.current||!k.current)return;const he=C.current,q=k.current;q.width=he.videoWidth,q.height=he.videoHeight;const oe=q.getContext("2d");oe==null||oe.drawImage(he,0,0),q.toBlob(Z=>{if(!Z)return;const J=new File([Z],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});o(J),s(URL.createObjectURL(Z))},"image/jpeg",.9)},Q=he=>{var oe;const q=(oe=he.target.files)==null?void 0:oe[0];q&&(o(q),s(URL.createObjectURL(q)),z("select",{feature:"story_media"}))},ie=he=>{!k.current||!i||(f(he),D("creative",{type:"filter_applied"}))},xe=async()=>{if(!a){U({title:"Erreur",description:"Veuillez sélectionner un média à publier",variant:"destructive"});return}try{_(!0);const he={mediaFile:a,caption:l,filter:d,duration:h,expiresIn:g,tags:v.split(",").map(oe=>oe.trim()).filter(oe=>oe.length>0),metadata:{}};if(j){const oe=await new Promise((Z,J)=>{navigator.geolocation.getCurrentPosition(Z,J)});he.metadata={location:{latitude:oe.coords.latitude,longitude:oe.coords.longitude}}}await O(he)&&(o(null),s(null),u(""),f("none"),p(10),y(""),e(!1),D("achievement",{type:"story_published"}))}catch(he){console.error("Error publishing story:",he),U({title:"Erreur",description:"Impossible de publier votre story",variant:"destructive"})}finally{_(!1)}},Pe=()=>{var he;(he=C.current)!=null&&he.srcObject&&C.current.srcObject.getTracks().forEach(oe=>oe.stop()),e(!1),r("camera"),o(null),s(null),u(""),f("none"),p(10),m(24),y("")};return M.useEffect(()=>(t&&n==="camera"&&L(),()=>{var he;(he=C.current)!=null&&he.srcObject&&C.current.srcObject.getTracks().forEach(oe=>oe.stop())}),[t,n,L]),V?c.jsxs(fXe,{open:t,onOpenChange:e,children:[c.jsx(hXe,{asChild:!0,children:c.jsx(K,{className:"rounded-full",variant:"outline",size:"icon",onClick:()=>{e(!0),z("click",{feature:"open_story_publisher"})},children:c.jsx(Px,{className:"h-5 w-5"})})}),c.jsxs(Vee,{className:"sm:max-w-md",side:"bottom",children:[c.jsxs(Fee,{children:[c.jsx(Uee,{children:"Créer une Story"}),c.jsxs("div",{className:"flex space-x-2 pt-2",children:[c.jsxs(K,{variant:n==="camera"?"default":"outline",onClick:()=>r("camera"),children:[c.jsx(Px,{className:"mr-2 h-4 w-4"}),"Caméra"]}),c.jsxs(K,{variant:n==="gallery"?"default":"outline",onClick:()=>r("gallery"),children:[c.jsx(Fb,{className:"mr-2 h-4 w-4"}),"Galerie"]})]})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[n==="camera"&&c.jsxs("div",{className:"relative",children:[c.jsx("video",{ref:C,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-[60vh] object-cover rounded-lg ${d!=="none"?`filter-${d}`:""}`}),c.jsx("canvas",{ref:k,className:"hidden"}),c.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:E?c.jsx(K,{variant:"destructive",size:"icon",className:"rounded-full w-12 h-12",onClick:W,children:c.jsx(bi,{className:"h-6 w-6"})}):c.jsxs(c.Fragment,{children:[c.jsx(K,{variant:"secondary",size:"icon",className:"rounded-full w-12 h-12",onClick:ne,children:c.jsx(Px,{className:"h-6 w-6"})}),c.jsx(K,{variant:"default",size:"icon",className:"rounded-full w-12 h-12",onClick:F,children:c.jsx(dy,{className:"h-6 w-6"})})]})})]}),n==="gallery"&&c.jsx("div",{className:"flex flex-col items-center justify-center h-[60vh] border-2 border-dashed rounded-lg p-12",children:i?c.jsxs("div",{className:"relative w-full h-full",children:[a!=null&&a.type.startsWith("video")?c.jsx("video",{src:i,controls:!0,className:"w-full h-full object-contain rounded-lg"}):c.jsx("img",{src:i,alt:"Preview",className:`w-full h-full object-contain rounded-lg ${d!=="none"?`filter-${d}`:""}`}),c.jsx(K,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 rounded-full",onClick:()=>{o(null),s(null)},children:c.jsx(bi,{className:"h-4 w-4"})})]}):c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",ref:T,accept:"image/*,video/*",className:"hidden",onChange:Q}),c.jsxs(K,{variant:"outline",onClick:()=>{var he;return(he=T.current)==null?void 0:he.click()},children:[c.jsx(Fb,{className:"mr-2 h-4 w-4"}),"Sélectionner un média"]})]})}),i&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ct,{children:"Filtres"}),c.jsx(wf,{value:d,onValueChange:he=>ie(he),className:"flex flex-wrap gap-2 mt-2",children:["none","sepia","grayscale","blur","vintage","neon","vibrant","minimal"].map(he=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(si,{value:he,id:`filter-${he}`,className:"sr-only"}),c.jsx(ct,{htmlFor:`filter-${he}`,className:`cursor-pointer p-2 rounded-full border-2 ${d===he?"border-primary":"border-transparent"}`,children:c.jsx("div",{className:`w-12 h-12 rounded-full bg-background filter-${he}`})}),c.jsx("span",{className:"text-xs mt-1 capitalize",children:he})]},he))})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"caption",children:"Légende"}),c.jsx(en,{id:"caption",placeholder:"Ajouter une légende...",value:l,onChange:he=>u(he.target.value)})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"tags",children:"Tags (séparés par des virgules)"}),c.jsx(en,{id:"tags",placeholder:"tag1, tag2, tag3",value:v,onChange:he=>y(he.target.value)})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ct,{htmlFor:"duration",children:"Durée (secondes)"}),c.jsxs("span",{children:[h,"s"]})]}),c.jsx(Xg,{id:"duration",min:5,max:60,step:5,value:[h],onValueChange:he=>p(he[0]),className:"mt-2"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx(ct,{htmlFor:"expires",children:"Expire après (heures)"}),c.jsxs("span",{children:[g,"h"]})]}),c.jsx(Xg,{id:"expires",min:1,max:48,step:1,value:[g],onValueChange:he=>m(he[0]),className:"mt-2"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(eO,{id:"location",checked:j,onCheckedChange:A}),c.jsx(ct,{htmlFor:"location",children:"Ajouter ma localisation"})]})]})]}),c.jsxs(zee,{children:[c.jsx(K,{variant:"outline",onClick:Pe,children:"Annuler"}),c.jsxs(K,{onClick:xe,disabled:!a||x,children:[x?"Publication...":"Publier",!x&&c.jsx(X7,{className:"ml-2 h-4 w-4"})]})]})]})]}):null},vXe=()=>{const{storyGroups:t,loading:e}=DR(),[n,r]=b.useState(!1),[i,s]=b.useState(0),{user:a,isCreator:o}=Ut(),{trackInteraction:l}=rp(),u=d=>{s(d),r(!0),l("click",{feature:"open_story",index:d})};return e?c.jsx("div",{className:"w-full overflow-x-auto py-4",children:c.jsx("div",{className:"flex space-x-4 px-4",children:Array(5).fill(0).map((d,f)=>c.jsxs("div",{className:"flex flex-col items-center space-y-1 animate-pulse",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-300"}),c.jsx("div",{className:"w-14 h-3 rounded bg-gray-300"})]},f))})}):t.length===0&&!o?null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-full overflow-x-auto py-4 no-scrollbar",children:c.jsxs("div",{className:"flex space-x-4 px-4",children:[o&&c.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[c.jsx(Bee,{}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveau"})]}),t.map((d,f)=>{var h;return c.jsxs(Oe.div,{className:"flex flex-col items-center space-y-1 cursor-pointer",onClick:()=>u(f),whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.jsx("div",{className:`rounded-full p-[2px] ${d.hasUnviewed?"bg-gradient-to-tr from-pink-500 via-red-500 to-yellow-500":"bg-muted"}`,children:c.jsxs(fy,{className:"w-16 h-16 border-2 border-background",children:[c.jsx(hy,{src:d.creator.avatar_url||void 0}),c.jsx(py,{className:"text-lg",children:((h=d.creator.display_name)==null?void 0:h.charAt(0))||d.creator.username.charAt(0)})]})}),c.jsx("span",{className:"text-xs truncate w-16 text-center",children:d.creator.id===(a==null?void 0:a.id)?"Votre story":d.creator.display_name||d.creator.username})]},d.creator.id)})]})}),c.jsx(dXe,{isOpen:n,onClose:()=>r(!1),initialGroupIndex:i})]})},yXe=()=>{const[t,e]=b.useState(""),[n,r]=b.useState("all"),[i,s]=b.useState([]),[a,o]=b.useState([]),[l,u]=b.useState(!0),[d,f]=b.useState(null),[h,p]=b.useState({});b.useEffect(()=>{(async()=>{try{u(!0),f(null);const x=await Qb();s(x);const _={};for(const E of x)_[E.uid]=0;p(_)}catch(x){console.error("Failed to fetch creators:",x),f("Impossible de charger les créateurs. Veuillez réessayer.")}finally{u(!1)}})()},[]),b.useEffect(()=>{if(!i)return;let y=[...i];const x=t.toLowerCase().trim();x&&(y=y.filter(_=>_.username.toLowerCase().includes(x)||_.displayName&&_.displayName.toLowerCase().includes(x)||_.bio&&_.bio.toLowerCase().includes(x))),n==="online"?y=y.filter(_=>_.isOnline):n==="popular"&&y.sort((_,E)=>(h[E.uid]||0)-(h[_.uid]||0)),o(y)},[t,n,i,h]);const g=y=>{e(y.target.value)},m=y=>{r(y)},v=()=>{u(!0),f(null),Qb().then(y=>{s(y)}).catch(y=>{console.error("Failed to refetch creators:",y),f("Impossible de charger les créateurs. Veuillez réessayer.")}).finally(()=>{u(!1)})};return c.jsxs("div",{className:"container mx-auto px-4 py-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Créateurs"}),c.jsx(Bee,{})]}),c.jsx(vXe,{}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx(N_,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(en,{placeholder:"Rechercher un créateur...",className:"pl-10",value:t,onChange:g})]}),c.jsx(Zr,{defaultValue:"all",value:n,onValueChange:m,className:"mb-6",children:c.jsxs(Dr,{className:"grid grid-cols-3",children:[c.jsx(Je,{value:"all",children:"Tous"}),c.jsx(Je,{value:"online",children:"En ligne"}),c.jsx(Je,{value:"popular",children:"Populaires"})]})}),l?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(6)].map((y,x)=>c.jsxs("div",{className:"p-4 border rounded-lg animate-pulse",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Wn,{className:"h-12 w-12 rounded-full"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Wn,{className:"h-4 w-24"}),c.jsx(Wn,{className:"h-3 w-16"})]})]}),c.jsx(Wn,{className:"h-4 w-full mt-4"}),c.jsxs("div",{className:"flex justify-between mt-4",children:[c.jsx(Wn,{className:"h-8 w-20"}),c.jsx(Wn,{className:"h-8 w-20"})]})]},x))}):d?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("p",{className:"text-lg text-red-500",children:d}),c.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Réessayer"})]}):a.length>0?c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.map(y=>c.jsx(QKe,{id:y.uid,username:y.username,displayName:y.displayName||y.username,avatarUrl:y.avatarUrl||"https://via.placeholder.com/150",bio:y.bio||"Aucune bio disponible",followersCount:h[y.uid]||0,isOnline:y.isOnline||!1},y.uid))}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-lg text-muted-foreground",children:"Aucun créateur trouvé correspondant à vos critères."})})]})},bz=[{name:"Abonnements",value:65},{name:"Contenus Premium",value:20},{name:"Tips",value:10},{name:"Merchandising",value:5}],xXe=Array(100).fill(null).map((t,e)=>({id:`fan-${e}`,engagement:Math.random()*100,value:10+Math.random()*150,risk:Math.random()*10,lifetime:Math.random()*12,x:Math.random()*100,y:Math.random()*100})),bXe=[{date:"Jan",revenue:2400,predicted:2600},{date:"Fév",revenue:1398,predicted:1550},{date:"Mar",revenue:9800,predicted:10200},{date:"Avr",revenue:3908,predicted:4100},{date:"Mai",revenue:4800,predicted:5300},{date:"Juin",revenue:3800,predicted:4200},{date:"Juil",revenue:4300,predicted:5e3}],wXe=[{content:"Tutorial #23",joy:67,interest:82,surprise:45,anger:5,sadness:3},{content:"Behind Scenes",joy:78,interest:65,surprise:60,anger:2,sadness:5},{content:"Q&A Session",joy:45,interest:90,surprise:30,anger:10,sadness:8},{content:"Product Review",joy:55,interest:75,surprise:50,anger:15,sadness:10}],_Xe=[{day:"Lun",productivity:65,wellbeing:70,balance:60},{day:"Mar",productivity:70,wellbeing:65,balance:67},{day:"Mer",productivity:60,wellbeing:50,balance:55},{day:"Jeu",productivity:80,wellbeing:75,balance:77},{day:"Ven",productivity:70,wellbeing:80,balance:75},{day:"Sam",productivity:50,wellbeing:90,balance:70},{day:"Dim",productivity:30,wellbeing:95,balance:62}],SXe=[{id:1,name:"Super Fans",count:128,growth:"+12%",value:"$35/mois",color:"#D946EF"},{id:2,name:"Réguliers",count:952,growth:"+7%",value:"$17/mois",color:"#8B5CF6"},{id:3,name:"Occasionnels",count:2048,growth:"+15%",value:"$8/mois",color:"#0EA5E9"},{id:4,name:"À risque",count:341,growth:"-4%",value:"$12/mois",color:"#F97316"}],wz=["#D946EF","#8B5CF6","#0EA5E9","#F97316"],EXe=()=>{const[t,e]=b.useState("overview"),[n,r]=b.useState([]),[i,s]=b.useState(0),{triggerMicroReward:a}=gn({}),[o,l]=b.useState(!1),u="visuel";b.useEffect(()=>{const f=["Vos revenus sont en hausse de 23% par rapport au mois dernier","Votre contenu 'Tutorial #23' génère un engagement émotionnel très positif","72 fans à risque identifiés - une campagne de rétention est recommandée","Opportunité: Augmenter vos offres premium de 5% pourrait générer +15% de revenus","Alerte bien-être: Votre rythme actuel pourrait mener à un épuisement dans 3 semaines"];r(f);const h=setInterval(()=>{s(p=>(p+1)%f.length)},8e3);return()=>clearInterval(h)},[]),b.useEffect(()=>{const f=setTimeout(()=>{me("Opportunité détectée",{description:"Un groupe de fans est prêt pour une offre spéciale",action:{label:"Explorer",onClick:()=>a("opportunity")}})},15e3);return()=>clearTimeout(f)},[a]);const d=()=>{l(f=>!f),a("click")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/10",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[c.jsx(Oe.div,{className:"relative bg-primary/10 rounded-lg p-4 mb-6 overflow-hidden border border-primary/20",whileHover:{scale:1.005},children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"bg-primary/20 p-2 rounded-full mr-4",children:c.jsx(Vg,{className:"text-primary h-5 w-5"})}),c.jsx("div",{children:c.jsx(Oo,{mode:"wait",children:c.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"font-medium",children:n[i]},i)})})]})}),c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-display font-bold flex items-center gap-3",children:["Tableau de Bord",c.jsxs($n,{variant:"outline",className:"bg-primary/10 text-xs font-normal",children:["Profil ",u]})]}),c.jsx("p",{className:"text-muted-foreground",children:"Votre centre de commande créatif intelligent"})]}),c.jsxs(K,{onClick:d,className:"flex items-center gap-2",variant:o?"default":"outline",children:[c.jsx(mC,{size:16}),"Centre de Commande"]})]}),c.jsx(Oo,{children:o&&c.jsx(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:c.jsxs(Fe,{className:"border border-primary/20 bg-background/70 backdrop-blur-sm",children:[c.jsxs(st,{children:[c.jsxs(dt,{className:"flex items-center gap-2",children:[c.jsx(cs,{className:"h-5 w-5 text-primary"}),"Centre de Commande"]}),c.jsx(Tn,{children:"Actions rapides et décisions critiques"})]}),c.jsx(Ue,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(K,{variant:"secondary",className:"flex items-center justify-start gap-2",onClick:()=>a("action"),children:[c.jsx(B7,{size:16}),"Générer nouveau contenu"]}),c.jsxs(K,{variant:"secondary",className:"flex items-center justify-start gap-2",onClick:()=>a("action"),children:[c.jsx(Cx,{size:16}),"Analyser performances"]}),c.jsxs(K,{variant:"secondary",className:"flex items-center justify-start gap-2",onClick:()=>a("action"),children:[c.jsx(pr,{size:16}),"Campagne de rétention"]}),c.jsxs(K,{variant:"secondary",className:"flex items-center justify-start gap-2",onClick:()=>a("action"),children:[c.jsx(sd,{size:16}),"Optimiser prix"]}),c.jsxs(K,{variant:"secondary",className:"flex items-center justify-start gap-2",onClick:()=>a("action"),children:[c.jsx(Ru,{size:16}),"Planifier publications"]}),c.jsxs(K,{variant:"secondary",className:"flex items-center justify-start gap-2",onClick:()=>a("action"),children:[c.jsx(er,{size:16}),"Engagement communauté"]})]})})]})})}),c.jsxs(Zr,{defaultValue:"overview",value:t,onValueChange:f=>{e(f),a("tab")},className:"space-y-6",children:[c.jsxs(Dr,{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[c.jsxs(Je,{value:"overview",className:"flex items-center gap-2",children:[c.jsx(mC,{size:16}),"Vue d'ensemble"]}),c.jsxs(Je,{value:"revenue",className:"flex items-center gap-2",children:[c.jsx(u4,{size:16}),"Revenus"]}),c.jsxs(Je,{value:"audience",className:"flex items-center gap-2",children:[c.jsx(pr,{size:16}),"Audience"]}),c.jsxs(Je,{value:"wellbeing",className:"flex items-center gap-2",children:[c.jsx(er,{size:16}),"Bien-être"]})]}),c.jsxs(mt,{value:"overview",className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(ix,{title:"Revenus",value:"€4,285",change:"+23%",trend:"up",icon:c.jsx(u4,{className:"text-emerald-500"}),onClick:()=>e("revenue")}),c.jsx(ix,{title:"Fans actifs",value:"3,472",change:"+7%",trend:"up",icon:c.jsx(pr,{className:"text-blue-500"}),onClick:()=>e("audience")}),c.jsx(ix,{title:"Engagement",value:"68%",change:"+12%",trend:"up",icon:c.jsx(er,{className:"text-pink-500"})}),c.jsx(ix,{title:"Score bien-être",value:"84/100",change:"-3%",trend:"down",icon:c.jsx(Cx,{className:"text-purple-500"}),onClick:()=>e("wellbeing")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{className:"pb-2",children:[c.jsxs(dt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(id,{size:18,className:"text-primary"}),"Revenue Telescope"]}),c.jsx(Tn,{children:"Visualisation temporelle des revenus"})]}),c.jsx(Ue,{className:"h-80",children:c.jsx(_u,{config:{revenue:{label:"Actuel",color:"#8B5CF6"},predicted:{label:"Prédit",color:"#D946EF"}},children:c.jsx(fa,{width:"100%",height:"100%",children:c.jsxs(WZ,{data:bXe,children:[c.jsx(Ml,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Vi,{dataKey:"date"}),c.jsx(Fi,{}),c.jsx(Br,{content:({active:f,payload:h,label:p})=>f&&h&&h.length?c.jsxs("div",{className:"bg-background border border-border rounded-md p-2 shadow-md text-xs",children:[c.jsx("p",{className:"font-medium",children:p}),c.jsxs("p",{className:"text-purple-500",children:["Actuel: €",h[0].value]}),c.jsxs("p",{className:"text-pink-500",children:["Prédit: €",h[1].value]})]}):null}),c.jsx(Va,{type:"monotone",dataKey:"revenue",name:"revenue",stroke:"var(--color-revenue)",fill:"var(--color-revenue)",fillOpacity:.3}),c.jsx(Va,{type:"monotone",dataKey:"predicted",name:"predicted",stroke:"var(--color-predicted)",fill:"var(--color-predicted)",fillOpacity:.3,strokeDasharray:"5 5"})]})})})})]}),c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{className:"pb-2",children:[c.jsxs(dt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(er,{size:18,className:"text-pink-500"}),"Emotional Intelligence Layer"]}),c.jsx(Tn,{children:"Analyse des réactions émotionnelles par contenu"})]}),c.jsx(Ue,{className:"h-80",children:c.jsx(fa,{width:"100%",height:"100%",children:c.jsxs(_k,{data:wXe,margin:{top:20,right:30,left:20,bottom:10},children:[c.jsx(Ml,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Vi,{dataKey:"content"}),c.jsx(Fi,{}),c.jsx(Br,{}),c.jsx(ec,{}),c.jsx(Di,{dataKey:"joy",name:"Joie",fill:"#F59E0B"}),c.jsx(Di,{dataKey:"interest",name:"Intérêt",fill:"#3B82F6"}),c.jsx(Di,{dataKey:"surprise",name:"Surprise",fill:"#10B981"}),c.jsx(Di,{dataKey:"anger",name:"Colère",fill:"#EF4444"}),c.jsx(Di,{dataKey:"sadness",name:"Tristesse",fill:"#6B7280"})]})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{className:"pb-2",children:[c.jsxs(dt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(pr,{size:18,className:"text-blue-500"}),"Fan Value Cartography"]}),c.jsx(Tn,{children:"Visualisation de la valeur et de l'engagement des fans"})]}),c.jsx(Ue,{className:"h-80",children:c.jsx(fa,{width:"100%",height:"100%",children:c.jsxs(MHe,{margin:{top:20,right:20,bottom:20,left:20},children:[c.jsx(Ml,{strokeDasharray:"3 3"}),c.jsx(Vi,{type:"number",dataKey:"engagement",name:"Engagement",label:{value:"Engagement",position:"bottom"}}),c.jsx(Fi,{type:"number",dataKey:"value",name:"Valeur",label:{value:"Valeur (€)",angle:-90,position:"insideLeft"}}),c.jsx(Br,{cursor:{strokeDasharray:"3 3"},content:({active:f,payload:h})=>f&&h&&h.length?c.jsxs("div",{className:"bg-background border border-border rounded-md p-2 shadow-md",children:[c.jsxs("p",{className:"font-medium text-xs",children:["Fan #",h[0].payload.id]}),c.jsxs("p",{className:"text-xs",children:["Valeur: €",h[1].value]}),c.jsxs("p",{className:"text-xs",children:["Engagement: ",h[0].value,"%"]}),c.jsxs("p",{className:"text-xs",children:["Risque de départ: ",h[0].payload.risk.toFixed(1),"/10"]})]}):null}),c.jsx(Ry,{name:"Fans",data:xXe,fill:"#8884d8",shape:f=>{const{cx:h,cy:p,payload:g}=f,m=4+g.lifetime*.8,v=g.risk>7?"#EF4444":g.risk>4?"#F59E0B":"#10B981";return c.jsx("circle",{cx:h,cy:p,r:m,fill:v,fillOpacity:.7,stroke:"none"})}})]})})})]}),c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{className:"pb-2",children:[c.jsxs(dt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(Cx,{size:18,className:"text-emerald-500"}),"Revenue DNA Visualization"]}),c.jsx(Tn,{children:"Décomposition de vos sources de revenus"})]}),c.jsxs(Ue,{className:"h-80 flex flex-col",children:[c.jsx(fa,{width:"100%",height:"80%",children:c.jsxs(RHe,{children:[c.jsx(Qo,{data:bz,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:({name:f,percent:h})=>`${f} ${(h*100).toFixed(0)}%`,children:bz.map((f,h)=>c.jsx(Cy,{fill:wz[h%wz.length]},`cell-${h}`))}),c.jsx(Br,{formatter:f=>[`${f}%`,"Proportion"]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[c.jsx(K,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>{e("revenue"),a("navigate")},children:"Analyse détaillée"}),c.jsx(K,{size:"sm",className:"text-xs",onClick:()=>{me("Quantum Revenue Projection lancée",{description:"Analyse en cours..."}),a("analyze")},children:"Projections avancées"})]})]})]})]})]}),c.jsx(mt,{value:"revenue",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Quantum Revenue Projector"}),c.jsx(Tn,{children:"Simulez l'impact financier de différentes décisions"})]}),c.jsx(Ue,{children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"Module d'analyse prédictive avancée"}),c.jsx(K,{onClick:()=>{me("Simulation lancée",{description:"Analyse des scénarios de monétisation en cours"}),a("analyze")},children:"Lancer une simulation"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Dynamic Pricing Engine"}),c.jsx(Tn,{children:"Optimisations tarifaires basées sur la demande"})]}),c.jsx(Ue,{className:"h-60 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-2",children:"Analyses d'élasticité des prix en cours"}),c.jsx(K,{variant:"outline",children:"Afficher les recommandations"})]})})]}),c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Monetization Mix Optimizer"}),c.jsx(Tn,{children:"Répartition idéale entre types de revenus"})]}),c.jsx(Ue,{className:"h-60 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-2",children:"Analyse des flux de revenus"}),c.jsx(K,{variant:"outline",children:"Optimiser la répartition"})]})})]})]})]})}),c.jsx(mt,{value:"audience",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Segmentation des fans"}),c.jsx(Tn,{children:"Analyse et catégorisation de votre communauté"})]}),c.jsx(Ue,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:SXe.map(f=>c.jsxs("div",{className:"border border-muted rounded-lg p-4 hover:border-primary/30 transition-all cursor-pointer",style:{borderLeftWidth:"4px",borderLeftColor:f.color},onClick:()=>a("select"),children:[c.jsx("h3",{className:"font-semibold mb-2",children:f.name}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:[f.count," fans"]}),c.jsx("span",{className:G(f.growth.startsWith("+")?"text-green-500":"text-red-500"),children:f.growth})]}),c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Valeur moyenne: ",f.value]})]},f.id))})})]}),c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Super-Fan Detection System"}),c.jsx(Tn,{children:"Identification des opportunités d'upsell"})]}),c.jsx(Ue,{className:"h-60 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-2",children:"42 super-fans potentiels identifiés"}),c.jsx(K,{variant:"outline",children:"Explorer les opportunités"})]})})]})]})}),c.jsx(mt,{value:"wellbeing",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Creator Wellbeing Matrix"}),c.jsx(Tn,{children:"Équilibre entre productivité et bien-être"})]}),c.jsx(Ue,{className:"h-80",children:c.jsx(_u,{config:{productivity:{label:"Productivité",color:"#0EA5E9"},wellbeing:{label:"Bien-être",color:"#8B5CF6"},balance:{label:"Équilibre",color:"#10B981"}},children:c.jsx(fa,{width:"100%",height:"100%",children:c.jsxs(BZ,{data:_Xe,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(Ml,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Vi,{dataKey:"day"}),c.jsx(Fi,{domain:[0,100]}),c.jsx(Br,{}),c.jsx(ec,{}),c.jsx(rc,{type:"monotone",dataKey:"productivity",name:"productivity",stroke:"var(--color-productivity)",activeDot:{r:8}}),c.jsx(rc,{type:"monotone",dataKey:"wellbeing",name:"wellbeing",stroke:"var(--color-wellbeing)"}),c.jsx(rc,{type:"monotone",dataKey:"balance",name:"balance",stroke:"var(--color-balance)",strokeDasharray:"5 5"})]})})})})]}),c.jsxs(Fe,{className:"border border-primary/20",children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Creator Wellbeing Optimizer"}),c.jsx(Tn,{children:"Recommandations personnalisées pour votre équilibre"})]}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded-md",children:[c.jsx("h4",{className:"font-medium text-sm",children:"Recommandations du jour:"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Ru,{size:16,className:"text-blue-500"}),"Prendre une pause de 30 minutes après 2h de travail continu"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(pr,{size:16,className:"text-purple-500"}),"Déléguer la modération des commentaires pour réduire la charge"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(er,{size:16,className:"text-pink-500"}),"Prévoir une journée sans création cette semaine"]})]}),c.jsx(K,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>a("wellbeing"),children:"Plus de recommandations"})]})})]})]})})]})]})})},ix=({title:t,value:e,change:n,trend:r,icon:i,onClick:s})=>c.jsx(Fe,{className:"border border-primary/20 hover:border-primary/40 transition-all",onClick:s,children:c.jsx(Ue,{className:`pt-6 ${s?"cursor-pointer":""}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:t}),c.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[c.jsx("h3",{className:"text-2xl font-bold",children:e}),n&&c.jsxs("span",{className:G("text-xs font-medium",r==="up"?"text-green-500":"text-red-500"),children:[r==="up"?c.jsx(Lge,{size:12,className:"inline mr-0.5"}):c.jsx(Dge,{size:12,className:"inline mr-0.5"}),n]})]})]}),c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:i})]})})}),qu=({size:t="md",className:e,color:n="primary",label:r})=>{const i={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-8 w-8 border-3",xl:"h-12 w-12 border-4"},s={default:"border-muted-foreground/30 border-t-muted-foreground",primary:"border-primary/30 border-t-primary",secondary:"border-secondary/30 border-t-secondary",success:"border-green-300/30 border-t-green-500",warning:"border-amber-300/30 border-t-amber-500",danger:"border-red-300/30 border-t-red-500"};return c.jsxs("div",{className:"flex flex-col items-center justify-center",children:[c.jsx("div",{className:G("animate-spin rounded-full",i[t],s[n],e),"aria-label":r||"Chargement en cours",role:"status"}),r&&c.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:r})]})},TXe=()=>{const t=Xi();return b.useEffect(()=>{const e=setTimeout(()=>{t("/secure-messaging")},1e3);return()=>clearTimeout(e)},[t]),c.jsxs("div",{className:"flex flex-col items-center justify-center h-[80vh] gap-4",children:[c.jsx(qu,{size:"xl",color:"primary",label:"Redirection vers la messagerie sécurisée..."}),c.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:"Mise à jour vers notre nouvelle expérience de messagerie..."})]})};var Vy=t=>t.type==="checkbox",pu=t=>t instanceof Date,Ur=t=>t==null;const Wee=t=>typeof t=="object";var Pn=t=>!Ur(t)&&!Array.isArray(t)&&Wee(t)&&!pu(t),Hee=t=>Pn(t)&&t.target?Vy(t.target)?t.target.checked:t.target.value:t,AXe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qee=(t,e)=>t.has(AXe(e)),jXe=t=>{const e=t.constructor&&t.constructor.prototype;return Pn(e)&&e.hasOwnProperty("isPrototypeOf")},YR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function or(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(YR&&(t instanceof Blob||r))&&(n||Pn(t)))if(e=n?[]:{},!n&&!jXe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=or(t[i]));else return t;return e}var lE=t=>Array.isArray(t)?t.filter(Boolean):[],jn=t=>t===void 0,Ee=(t,e,n)=>{if(!e||!Pn(t))return n;const r=lE(e.split(/[,[\].]+?/)).reduce((i,s)=>Ur(i)?i:i[s],t);return jn(r)||r===t?jn(t[e])?n:t[e]:r},Ii=t=>typeof t=="boolean",XR=t=>/^\w*$/.test(t),Kee=t=>lE(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Pt=(t,e,n)=>{let r=-1;const i=XR(e)?[e]:Kee(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let l=n;if(r!==a){const u=t[o];l=Pn(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const u1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},to={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Gee=M.createContext(null),cE=()=>M.useContext(Gee),CXe=t=>{const{children:e,...n}=t;return M.createElement(Gee.Provider,{value:n},e)};var Yee=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ds.all&&(e._proxyFormState[a]=!r||Ds.all),n&&(n[a]=!0),t[a]}});return i};const QR=typeof window<"u"?b.useLayoutEffect:b.useEffect;function PXe(t){const e=cE(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[a,o]=M.useState(n._formState),l=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return QR(()=>n._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!r&&o({...n._formState,...u})}}),[i,r,s]),M.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),M.useMemo(()=>Yee(a,n,l.current,!1),[a,n])}var xa=t=>typeof t=="string",Xee=(t,e,n,r,i)=>xa(t)?(r&&e.watch.add(t),Ee(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Ee(n,s))):(r&&(e.watchAll=!0),n);function kXe(t){const e=cE(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:a}=t||{},o=M.useRef(i),[l,u]=M.useState(n._getWatch(r,o.current));return QR(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:d=>!s&&u(Xee(r,n._names,d.values||n._formValues,!1,o.current))}),[r,n,s,a]),M.useEffect(()=>n._removeUnmounted()),l}function NXe(t){const e=cE(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,a=qee(i._names.array,n),o=kXe({control:i,name:n,defaultValue:Ee(i._formValues,n,Ee(i._defaultValues,n,t.defaultValue)),exact:!0}),l=PXe({control:i,name:n,exact:!0}),u=M.useRef(t),d=M.useRef(i.register(n,{...t.rules,value:o,...Ii(t.disabled)?{disabled:t.disabled}:{}})),f=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ee(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ee(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ee(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ee(l.validatingFields,n)},error:{enumerable:!0,get:()=>Ee(l.errors,n)}}),[l,n]),h=M.useCallback(v=>d.current.onChange({target:{value:Hee(v),name:n},type:u1.CHANGE}),[n]),p=M.useCallback(()=>d.current.onBlur({target:{value:Ee(i._formValues,n),name:n},type:u1.BLUR}),[n,i._formValues]),g=M.useCallback(v=>{const y=Ee(i._fields,n);y&&v&&(y._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:x=>v.setCustomValidity(x),reportValidity:()=>v.reportValidity()})},[i._fields,n]),m=M.useMemo(()=>({name:n,value:o,...Ii(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:h,onBlur:p,ref:g}),[n,r,l.disabled,h,p,g,o]);return M.useEffect(()=>{const v=i._options.shouldUnregister||s;i.register(n,{...u.current.rules,...Ii(u.current.disabled)?{disabled:u.current.disabled}:{}});const y=(x,_)=>{const E=Ee(i._fields,x);E&&E._f&&(E._f.mount=_)};if(y(n,!0),v){const x=or(Ee(i._options.defaultValues,n));Pt(i._defaultValues,n,x),jn(Ee(i._formValues,n))&&Pt(i._formValues,n,x)}return!a&&i.register(n),()=>{(a?v&&!i._state.action:v)?i.unregister(n):y(n,!1)}},[n,i,a,s]),M.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),M.useMemo(()=>({field:m,formState:l,fieldState:f}),[m,l,f])}const IXe=t=>t.render(NXe(t));var Qee=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},sg=t=>Array.isArray(t)?t:[t],_z=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Ck=t=>Ur(t)||!Wee(t);function Cl(t,e){if(Ck(t)||Ck(e))return t===e;if(pu(t)&&pu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(pu(s)&&pu(a)||Pn(s)&&Pn(a)||Array.isArray(s)&&Array.isArray(a)?!Cl(s,a):s!==a)return!1}}return!0}var Vr=t=>Pn(t)&&!Object.keys(t).length,ZR=t=>t.type==="file",Ls=t=>typeof t=="function",d1=t=>{if(!YR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zee=t=>t.type==="select-multiple",JR=t=>t.type==="radio",OXe=t=>JR(t)||Vy(t),CA=t=>d1(t)&&t.isConnected;function RXe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=jn(t)?r++:t[e[r++]];return t}function MXe(t){for(const e in t)if(t.hasOwnProperty(e)&&!jn(t[e]))return!1;return!0}function Un(t,e){const n=Array.isArray(e)?e:XR(e)?[e]:Kee(e),r=n.length===1?t:RXe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Pn(r)&&Vr(r)||Array.isArray(r)&&MXe(r))&&Un(t,n.slice(0,-1)),t}var Jee=t=>{for(const e in t)if(Ls(t[e]))return!0;return!1};function f1(t,e={}){const n=Array.isArray(t);if(Pn(t)||n)for(const r in t)Array.isArray(t[r])||Pn(t[r])&&!Jee(t[r])?(e[r]=Array.isArray(t[r])?[]:{},f1(t[r],e[r])):Ur(t[r])||(e[r]=!0);return e}function ete(t,e,n){const r=Array.isArray(t);if(Pn(t)||r)for(const i in t)Array.isArray(t[i])||Pn(t[i])&&!Jee(t[i])?jn(e)||Ck(n[i])?n[i]=Array.isArray(t[i])?f1(t[i],[]):{...f1(t[i])}:ete(t[i],Ur(e)?{}:e[i],n[i]):n[i]=!Cl(t[i],e[i]);return n}var im=(t,e)=>ete(t,e,f1(e));const Sz={value:!1,isValid:!1},Ez={value:!0,isValid:!0};var tte=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jn(t[0].attributes.value)?jn(t[0].value)||t[0].value===""?Ez:{value:t[0].value,isValid:!0}:Ez:Sz}return Sz},nte=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>jn(t)?t:e?t===""?NaN:t&&+t:n&&xa(t)?new Date(t):r?r(t):t;const Tz={isValid:!1,value:null};var rte=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Tz):Tz;function Az(t){const e=t.ref;return ZR(e)?e.files:JR(e)?rte(t.refs).value:Zee(e)?[...e.selectedOptions].map(({value:n})=>n):Vy(e)?tte(t.refs).value:nte(jn(e.value)?t.ref.value:e.value,t)}var DXe=(t,e,n,r)=>{const i={};for(const s of t){const a=Ee(e,s);a&&Pt(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},h1=t=>t instanceof RegExp,sm=t=>jn(t)?t:h1(t)?t.source:Pn(t)?h1(t.value)?t.value.source:t.value:t,jz=t=>({isOnSubmit:!t||t===Ds.onSubmit,isOnBlur:t===Ds.onBlur,isOnChange:t===Ds.onChange,isOnAll:t===Ds.all,isOnTouch:t===Ds.onTouched});const Cz="AsyncFunction";var LXe=t=>!!t&&!!t.validate&&!!(Ls(t.validate)&&t.validate.constructor.name===Cz||Pn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Cz)),$Xe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Pz=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ag=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Ee(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(ag(o,e))break}else if(Pn(o)&&ag(o,e))break}}};function kz(t,e,n){const r=Ee(t,n);if(r||XR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=Ee(e,s),o=Ee(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var VXe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Vr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Ds.all))},FXe=(t,e,n)=>!t||!e||t===e||sg(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),zXe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,UXe=(t,e)=>!lE(Ee(t,e)).length&&Un(t,e),BXe=(t,e,n)=>{const r=sg(Ee(t,n));return Pt(r,"root",e[n]),Pt(t,n,r),t},Ux=t=>xa(t);function Nz(t,e,n="validate"){if(Ux(t)||Array.isArray(t)&&t.every(Ux)||Ii(t)&&!t)return{type:n,message:Ux(t)?t:"",ref:e}}var kd=t=>Pn(t)&&!h1(t)?t:{value:t,message:""},Iz=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:y}=t._f,x=Ee(n,m);if(!y||e.has(m))return{};const _=o?o[0]:a,E=N=>{i&&_.reportValidity&&(_.setCustomValidity(Ii(N)?"":N||""),_.reportValidity())},S={},j=JR(a),A=Vy(a),T=j||A,C=(v||ZR(a))&&jn(a.value)&&jn(x)||d1(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,k=Qee.bind(null,m,r,S),I=(N,O,D,V=to.maxLength,U=to.minLength)=>{const z=N?O:D;S[m]={type:N?V:U,message:z,ref:a,...k(N?V:U,z)}};if(s?!Array.isArray(x)||!x.length:l&&(!T&&(C||Ur(x))||Ii(x)&&!x||A&&!tte(o).isValid||j&&!rte(o).isValid)){const{value:N,message:O}=Ux(l)?{value:!!l,message:l}:kd(l);if(N&&(S[m]={type:to.required,message:O,ref:_,...k(to.required,O)},!r))return E(O),S}if(!C&&(!Ur(f)||!Ur(h))){let N,O;const D=kd(h),V=kd(f);if(!Ur(x)&&!isNaN(x)){const U=a.valueAsNumber||x&&+x;Ur(D.value)||(N=U>D.value),Ur(V.value)||(O=U<V.value)}else{const U=a.valueAsDate||new Date(x),z=W=>new Date(new Date().toDateString()+" "+W),L=a.type=="time",F=a.type=="week";xa(D.value)&&x&&(N=L?z(x)>z(D.value):F?x>D.value:U>new Date(D.value)),xa(V.value)&&x&&(O=L?z(x)<z(V.value):F?x<V.value:U<new Date(V.value))}if((N||O)&&(I(!!N,D.message,V.message,to.max,to.min),!r))return E(S[m].message),S}if((u||d)&&!C&&(xa(x)||s&&Array.isArray(x))){const N=kd(u),O=kd(d),D=!Ur(N.value)&&x.length>+N.value,V=!Ur(O.value)&&x.length<+O.value;if((D||V)&&(I(D,N.message,O.message),!r))return E(S[m].message),S}if(p&&!C&&xa(x)){const{value:N,message:O}=kd(p);if(h1(N)&&!x.match(N)&&(S[m]={type:to.pattern,message:O,ref:a,...k(to.pattern,O)},!r))return E(O),S}if(g){if(Ls(g)){const N=await g(x,n),O=Nz(N,_);if(O&&(S[m]={...O,...k(to.validate,O.message)},!r))return E(O.message),S}else if(Pn(g)){let N={};for(const O in g){if(!Vr(N)&&!r)break;const D=Nz(await g[O](x,n),_,O);D&&(N={...D,...k(O,D.message)},E(D.message),r&&(S[m]=N))}if(!Vr(N)&&(S[m]={ref:_,...N},!r))return S}}return E(!0),S};const WXe={mode:Ds.onSubmit,reValidateMode:Ds.onChange,shouldFocusError:!0};function HXe(t={}){let e={...WXe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ls(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Pn(e.defaultValues)||Pn(e.values)?or(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:or(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:_z(),state:_z()},p=jz(e.mode),g=jz(e.reValidateMode),m=e.criteriaMode===Ds.all,v=B=>Y=>{clearTimeout(u),u=setTimeout(B,Y)},y=async B=>{if(!e.disabled&&(d.isValid||f.isValid||B)){const Y=e.resolver?Vr((await C()).errors):await I(r,!0);Y!==n.isValid&&h.state.next({isValid:Y})}},x=(B,Y)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(o.mount)).forEach(re=>{re&&(Y?Pt(n.validatingFields,re,Y):Un(n.validatingFields,re))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Vr(n.validatingFields)}))},_=(B,Y=[],re,we,ce=!0,le=!0)=>{if(we&&re&&!e.disabled){if(a.action=!0,le&&Array.isArray(Ee(r,B))){const Ce=re(Ee(r,B),we.argA,we.argB);ce&&Pt(r,B,Ce)}if(le&&Array.isArray(Ee(n.errors,B))){const Ce=re(Ee(n.errors,B),we.argA,we.argB);ce&&Pt(n.errors,B,Ce),UXe(n.errors,B)}if((d.touchedFields||f.touchedFields)&&le&&Array.isArray(Ee(n.touchedFields,B))){const Ce=re(Ee(n.touchedFields,B),we.argA,we.argB);ce&&Pt(n.touchedFields,B,Ce)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=im(i,s)),h.state.next({name:B,isDirty:O(B,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Pt(s,B,Y)},E=(B,Y)=>{Pt(n.errors,B,Y),h.state.next({errors:n.errors})},S=B=>{n.errors=B,h.state.next({errors:n.errors,isValid:!1})},j=(B,Y,re,we)=>{const ce=Ee(r,B);if(ce){const le=Ee(s,B,jn(re)?Ee(i,B):re);jn(le)||we&&we.defaultChecked||Y?Pt(s,B,Y?le:Az(ce._f)):U(B,le),a.mount&&y()}},A=(B,Y,re,we,ce)=>{let le=!1,Ce=!1;const pt={name:B};if(!e.disabled){if(!re||we){(d.isDirty||f.isDirty)&&(Ce=n.isDirty,n.isDirty=pt.isDirty=O(),le=Ce!==pt.isDirty);const Mt=Cl(Ee(i,B),Y);Ce=!!Ee(n.dirtyFields,B),Mt?Un(n.dirtyFields,B):Pt(n.dirtyFields,B,!0),pt.dirtyFields=n.dirtyFields,le=le||(d.dirtyFields||f.dirtyFields)&&Ce!==!Mt}if(re){const Mt=Ee(n.touchedFields,B);Mt||(Pt(n.touchedFields,B,re),pt.touchedFields=n.touchedFields,le=le||(d.touchedFields||f.touchedFields)&&Mt!==re)}le&&ce&&h.state.next(pt)}return le?pt:{}},T=(B,Y,re,we)=>{const ce=Ee(n.errors,B),le=(d.isValid||f.isValid)&&Ii(Y)&&n.isValid!==Y;if(e.delayError&&re?(l=v(()=>E(B,re)),l(e.delayError)):(clearTimeout(u),l=null,re?Pt(n.errors,B,re):Un(n.errors,B)),(re?!Cl(ce,re):ce)||!Vr(we)||le){const Ce={...we,...le&&Ii(Y)?{isValid:Y}:{},errors:n.errors,name:B};n={...n,...Ce},h.state.next(Ce)}},C=async B=>{x(B,!0);const Y=await e.resolver(s,e.context,DXe(B||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(B),Y},k=async B=>{const{errors:Y}=await C(B);if(B)for(const re of B){const we=Ee(Y,re);we?Pt(n.errors,re,we):Un(n.errors,re)}else n.errors=Y;return Y},I=async(B,Y,re={valid:!0})=>{for(const we in B){const ce=B[we];if(ce){const{_f:le,...Ce}=ce;if(le){const pt=o.array.has(le.name),Mt=ce._f&&LXe(ce._f);Mt&&d.validatingFields&&x([we],!0);const kn=await Iz(ce,o.disabled,s,m,e.shouldUseNativeValidation&&!Y,pt);if(Mt&&d.validatingFields&&x([we]),kn[le.name]&&(re.valid=!1,Y))break;!Y&&(Ee(kn,le.name)?pt?BXe(n.errors,kn,le.name):Pt(n.errors,le.name,kn[le.name]):Un(n.errors,le.name))}!Vr(Ce)&&await I(Ce,Y,re)}}return re.valid},N=()=>{for(const B of o.unMount){const Y=Ee(r,B);Y&&(Y._f.refs?Y._f.refs.every(re=>!CA(re)):!CA(Y._f.ref))&&Z(B)}o.unMount=new Set},O=(B,Y)=>!e.disabled&&(B&&Y&&Pt(s,B,Y),!Cl(Q(),i)),D=(B,Y,re)=>Xee(B,o,{...a.mount?s:jn(Y)?i:xa(B)?{[B]:Y}:Y},re,Y),V=B=>lE(Ee(a.mount?s:i,B,e.shouldUnregister?Ee(i,B,[]):[])),U=(B,Y,re={})=>{const we=Ee(r,B);let ce=Y;if(we){const le=we._f;le&&(!le.disabled&&Pt(s,B,nte(Y,le)),ce=d1(le.ref)&&Ur(Y)?"":Y,Zee(le.ref)?[...le.ref.options].forEach(Ce=>Ce.selected=ce.includes(Ce.value)):le.refs?Vy(le.ref)?le.refs.length>1?le.refs.forEach(Ce=>(!Ce.defaultChecked||!Ce.disabled)&&(Ce.checked=Array.isArray(ce)?!!ce.find(pt=>pt===Ce.value):ce===Ce.value)):le.refs[0]&&(le.refs[0].checked=!!ce):le.refs.forEach(Ce=>Ce.checked=Ce.value===ce):ZR(le.ref)?le.ref.value="":(le.ref.value=ce,le.ref.type||h.state.next({name:B,values:or(s)})))}(re.shouldDirty||re.shouldTouch)&&A(B,ce,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&ne(B)},z=(B,Y,re)=>{for(const we in Y){const ce=Y[we],le=`${B}.${we}`,Ce=Ee(r,le);(o.array.has(B)||Pn(ce)||Ce&&!Ce._f)&&!pu(ce)?z(le,ce,re):U(le,ce,re)}},L=(B,Y,re={})=>{const we=Ee(r,B),ce=o.array.has(B),le=or(Y);Pt(s,B,le),ce?(h.array.next({name:B,values:or(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&re.shouldDirty&&h.state.next({name:B,dirtyFields:im(i,s),isDirty:O(B,le)})):we&&!we._f&&!Ur(le)?z(B,le,re):U(B,le,re),Pz(B,o)&&h.state.next({...n}),h.state.next({name:a.mount?B:void 0,values:or(s)})},F=async B=>{a.mount=!0;const Y=B.target;let re=Y.name,we=!0;const ce=Ee(r,re),le=Ce=>{we=Number.isNaN(Ce)||pu(Ce)&&isNaN(Ce.getTime())||Cl(Ce,Ee(s,re,Ce))};if(ce){let Ce,pt;const Mt=Y.type?Az(ce._f):Hee(B),kn=B.type===u1.BLUR||B.type===u1.FOCUS_OUT,ia=!$Xe(ce._f)&&!e.resolver&&!Ee(n.errors,re)&&!ce._f.deps||zXe(kn,Ee(n.touchedFields,re),n.isSubmitted,g,p),sa=Pz(re,o,kn);Pt(s,re,Mt),kn?(ce._f.onBlur&&ce._f.onBlur(B),l&&l(0)):ce._f.onChange&&ce._f.onChange(B);const Ti=A(re,Mt,kn),el=!Vr(Ti)||sa;if(!kn&&h.state.next({name:re,type:B.type,values:or(s)}),ia)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?kn&&y():kn||y()),el&&h.state.next({name:re,...sa?{}:Ti});if(!kn&&sa&&h.state.next({...n}),e.resolver){const{errors:_s}=await C([re]);if(le(Mt),we){const Ap=kz(n.errors,r,re),tl=kz(_s,r,Ap.name||re);Ce=tl.error,re=tl.name,pt=Vr(_s)}}else x([re],!0),Ce=(await Iz(ce,o.disabled,s,m,e.shouldUseNativeValidation))[re],x([re]),le(Mt),we&&(Ce?pt=!1:(d.isValid||f.isValid)&&(pt=await I(r,!0)));we&&(ce._f.deps&&ne(ce._f.deps),T(re,pt,Ce,Ti))}},W=(B,Y)=>{if(Ee(n.errors,Y)&&B.focus)return B.focus(),1},ne=async(B,Y={})=>{let re,we;const ce=sg(B);if(e.resolver){const le=await k(jn(B)?B:ce);re=Vr(le),we=B?!ce.some(Ce=>Ee(le,Ce)):re}else B?(we=(await Promise.all(ce.map(async le=>{const Ce=Ee(r,le);return await I(Ce&&Ce._f?{[le]:Ce}:Ce)}))).every(Boolean),!(!we&&!n.isValid)&&y()):we=re=await I(r);return h.state.next({...!xa(B)||(d.isValid||f.isValid)&&re!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:re}:{},errors:n.errors}),Y.shouldFocus&&!we&&ag(r,W,B?ce:o.mount),we},Q=B=>{const Y={...a.mount?s:i};return jn(B)?Y:xa(B)?Ee(Y,B):B.map(re=>Ee(Y,re))},ie=(B,Y)=>({invalid:!!Ee((Y||n).errors,B),isDirty:!!Ee((Y||n).dirtyFields,B),error:Ee((Y||n).errors,B),isValidating:!!Ee(n.validatingFields,B),isTouched:!!Ee((Y||n).touchedFields,B)}),xe=B=>{B&&sg(B).forEach(Y=>Un(n.errors,Y)),h.state.next({errors:B?n.errors:{}})},Pe=(B,Y,re)=>{const we=(Ee(r,B,{_f:{}})._f||{}).ref,ce=Ee(n.errors,B)||{},{ref:le,message:Ce,type:pt,...Mt}=ce;Pt(n.errors,B,{...Mt,...Y,ref:we}),h.state.next({name:B,errors:n.errors,isValid:!1}),re&&re.shouldFocus&&we&&we.focus&&we.focus()},he=(B,Y)=>Ls(B)?h.state.subscribe({next:re=>B(D(void 0,Y),re)}):D(B,Y,!0),q=B=>h.state.subscribe({next:Y=>{FXe(B.name,Y.name,B.exact)&&VXe(Y,B.formState||d,pe,B.reRenderRoot)&&B.callback({values:{...s},...n,...Y})}}).unsubscribe,oe=B=>(a.mount=!0,f={...f,...B.formState},q({...B,formState:f})),Z=(B,Y={})=>{for(const re of B?sg(B):o.mount)o.mount.delete(re),o.array.delete(re),Y.keepValue||(Un(r,re),Un(s,re)),!Y.keepError&&Un(n.errors,re),!Y.keepDirty&&Un(n.dirtyFields,re),!Y.keepTouched&&Un(n.touchedFields,re),!Y.keepIsValidating&&Un(n.validatingFields,re),!e.shouldUnregister&&!Y.keepDefaultValue&&Un(i,re);h.state.next({values:or(s)}),h.state.next({...n,...Y.keepDirty?{isDirty:O()}:{}}),!Y.keepIsValid&&y()},J=({disabled:B,name:Y})=>{(Ii(B)&&a.mount||B||o.disabled.has(Y))&&(B?o.disabled.add(Y):o.disabled.delete(Y))},ee=(B,Y={})=>{let re=Ee(r,B);const we=Ii(Y.disabled)||Ii(e.disabled);return Pt(r,B,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:B}},name:B,mount:!0,...Y}}),o.mount.add(B),re?J({disabled:Ii(Y.disabled)?Y.disabled:e.disabled,name:B}):j(B,!0,Y.value),{...we?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:sm(Y.min),max:sm(Y.max),minLength:sm(Y.minLength),maxLength:sm(Y.maxLength),pattern:sm(Y.pattern)}:{},name:B,onChange:F,onBlur:F,ref:ce=>{if(ce){ee(B,Y),re=Ee(r,B);const le=jn(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Ce=OXe(le),pt=re._f.refs||[];if(Ce?pt.find(Mt=>Mt===le):le===re._f.ref)return;Pt(r,B,{_f:{...re._f,...Ce?{refs:[...pt.filter(CA),le,...Array.isArray(Ee(i,B))?[{}]:[]],ref:{type:le.type,name:B}}:{ref:le}}}),j(B,!1,void 0,le)}else re=Ee(r,B,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(qee(o.array,B)&&a.action)&&o.unMount.add(B)}}},H=()=>e.shouldFocusError&&ag(r,W,o.mount),Ae=B=>{Ii(B)&&(h.state.next({disabled:B}),ag(r,(Y,re)=>{const we=Ee(r,re);we&&(Y.disabled=we._f.disabled||B,Array.isArray(we._f.refs)&&we._f.refs.forEach(ce=>{ce.disabled=we._f.disabled||B}))},0,!1))},je=(B,Y)=>async re=>{let we;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ce=or(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:Ce}=await C();n.errors=le,ce=Ce}else await I(r);if(o.disabled.size)for(const le of o.disabled)Pt(ce,le,void 0);if(Un(n.errors,"root"),Vr(n.errors)){h.state.next({errors:{}});try{await B(ce,re)}catch(le){we=le}}else Y&&await Y({...n.errors},re),H(),setTimeout(H);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(n.errors)&&!we,submitCount:n.submitCount+1,errors:n.errors}),we)throw we},$e=(B,Y={})=>{Ee(r,B)&&(jn(Y.defaultValue)?L(B,or(Ee(i,B))):(L(B,Y.defaultValue),Pt(i,B,or(Y.defaultValue))),Y.keepTouched||Un(n.touchedFields,B),Y.keepDirty||(Un(n.dirtyFields,B),n.isDirty=Y.defaultValue?O(B,or(Ee(i,B))):O()),Y.keepError||(Un(n.errors,B),d.isValid&&y()),h.state.next({...n}))},de=(B,Y={})=>{const re=B?or(B):i,we=or(re),ce=Vr(B),le=ce?i:we;if(Y.keepDefaultValues||(i=re),!Y.keepValues){if(Y.keepDirtyValues){const Ce=new Set([...o.mount,...Object.keys(im(i,s))]);for(const pt of Array.from(Ce))Ee(n.dirtyFields,pt)?Pt(le,pt,Ee(s,pt)):L(pt,Ee(le,pt))}else{if(YR&&jn(B))for(const Ce of o.mount){const pt=Ee(r,Ce);if(pt&&pt._f){const Mt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(d1(Mt)){const kn=Mt.closest("form");if(kn){kn.reset();break}}}}for(const Ce of o.mount)L(Ce,Ee(le,Ce))}s=or(le),h.array.next({values:{...le}}),h.state.next({values:{...le}})}o={mount:Y.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!Cl(B,i)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:Y.keepDirtyValues?Y.keepDefaultValues&&s?im(i,s):n.dirtyFields:Y.keepDefaultValues&&B?im(i,B):Y.keepDirty?n.dirtyFields:{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(B,Y)=>de(Ls(B)?B(s):B,Y),bt=(B,Y={})=>{const re=Ee(r,B),we=re&&re._f;if(we){const ce=we.refs?we.refs[0]:we.ref;ce.focus&&(ce.focus(),Y.shouldSelect&&Ls(ce.select)&&ce.select())}},pe=B=>{n={...n,...B}},ht={control:{register:ee,unregister:Z,getFieldState:ie,handleSubmit:je,setError:Pe,_subscribe:q,_runSchema:C,_getWatch:D,_getDirty:O,_setValid:y,_setFieldArray:_,_setDisabledField:J,_setErrors:S,_getFieldArray:V,_reset:de,_resetDefaultValues:()=>Ls(e.defaultValues)&&e.defaultValues().then(B=>{Ve(B,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:Ae,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(B){a=B},get _defaultValues(){return i},get _names(){return o},set _names(B){o=B},get _formState(){return n},get _options(){return e},set _options(B){e={...e,...B}}},subscribe:oe,trigger:ne,register:ee,handleSubmit:je,watch:he,setValue:L,getValues:Q,reset:Ve,resetField:$e,clearErrors:xe,unregister:Z,setError:Pe,setFocus:bt,getFieldState:ie};return{...ht,formControl:ht}}function ite(t={}){const e=M.useRef(void 0),n=M.useRef(void 0),[r,i]=M.useState({isDirty:!1,isValidating:!1,isLoading:Ls(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ls(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:HXe(t),formState:r},t.formControl&&t.defaultValues&&!Ls(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,QR(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),M.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),M.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!Vr(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),M.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),M.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),M.useEffect(()=>{t.values&&!Cl(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),M.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Yee(r,s),e.current}const qXe=CXe,ste=b.createContext({}),mu=({...t})=>c.jsx(ste.Provider,{value:{name:t.name},children:c.jsx(IXe,{...t})}),uE=()=>{const t=b.useContext(ste),e=b.useContext(ate),{getFieldState:n,formState:r}=cE(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},ate=b.createContext({}),Ll=b.forwardRef(({className:t,...e},n)=>{const r=b.useId();return c.jsx(ate.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:G("space-y-2",t),...e})})});Ll.displayName="FormItem";const $l=b.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=uE();return c.jsx(ct,{ref:n,className:G(r&&"text-destructive",t),htmlFor:i,...e})});$l.displayName="FormLabel";const Vl=b.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=uE();return c.jsx(J7,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Vl.displayName="FormControl";const KXe=b.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=uE();return c.jsx("p",{ref:n,id:r,className:G("text-sm text-muted-foreground",t),...e})});KXe.displayName="FormDescription";const GXe=b.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=uE(),a=i?String(i==null?void 0:i.message):e;return a?c.jsx("p",{ref:r,id:s,className:G("text-sm font-medium text-destructive",t),...n,children:a}):null});GXe.displayName="FormMessage";const Oz=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ee(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},ote=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Oz(r.ref,n,t):r.refs&&r.refs.forEach(i=>Oz(i,n,t))}},YXe=(t,e)=>{e.shouldUseNativeValidation&&ote(t,e);const n={};for(const r in t){const i=Ee(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(XXe(e.names||Object.keys(t),r)){const a=Object.assign({},Ee(n,r));Pt(a,"root",s),Pt(n,r,a)}else Pt(n,r,s)}return n},XXe=(t,e)=>t.some(n=>n.startsWith(e+"."));var QXe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[a].types,u=l&&l[r.code];n[a]=Qee(a,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},lte=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&ote({},s),{errors:{},values:n.raw?r:u}})}catch(u){return o(u)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:YXe(QXe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}};const cte=b.forwardRef(({videoPreviewUrl:t,onVideoChange:e,onRemoveVideo:n,className:r},i)=>{const[s,a]=b.useState(!1),[o,l]=b.useState(!1),[u,d]=b.useState(!1),f=v=>{v.preventDefault(),v.stopPropagation(),a(!0)},h=v=>{v.preventDefault(),v.stopPropagation(),a(!1)},p=v=>{v.preventDefault(),v.stopPropagation(),s||a(!0)},g=v=>{v.preventDefault(),v.stopPropagation(),a(!1);const x=v.dataTransfer.files;if(x&&x.length){const _=x[0];if(_.type.startsWith("video/")){const E=i==null?void 0:i.current;if(E){const S=new DataTransfer;S.items.add(_),E.files=S.files;const j=new Event("change",{bubbles:!0});E.dispatchEvent(j),e({target:E,currentTarget:E,preventDefault:()=>{},stopPropagation:()=>{}})}}}},m=()=>{var v;(v=i==null?void 0:i.current)==null||v.click()};return c.jsxs("div",{className:G("w-full transition-all duration-300",r),children:[c.jsx(ct,{htmlFor:"video",className:"mb-2 block",children:"Fichier vidéo"}),t?c.jsxs("div",{className:"mt-2 relative rounded-lg overflow-hidden bg-black aspect-video",children:[c.jsx("video",{src:t,className:"w-full h-full object-contain",controls:!0}),c.jsx(K,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 h-8 w-8 opacity-80 hover:opacity-100 transition-opacity",onClick:n,children:c.jsx(bi,{className:"h-4 w-4"})})]}):c.jsx("div",{className:G("mt-2 border-2 border-dashed rounded-lg p-4 md:p-8 text-center cursor-pointer transition-all duration-300",s?"border-primary bg-primary/5":"border-primary/30 hover:bg-primary/5",o&&"border-primary"),onClick:m,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onDragEnter:f,onDragLeave:h,onDragOver:p,onDrop:g,children:c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2 py-4",children:[s?c.jsx(Yge,{className:"h-10 w-10 text-primary animate-bounce"}):c.jsx(dy,{className:"h-8 md:h-12 w-8 md:w-12 text-muted-foreground transition-transform group-hover:scale-110 duration-300"}),c.jsx("p",{className:"text-sm font-medium",children:s?"Déposez la vidéo ici":"Cliquez pour sélectionner une vidéo"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"MP4, MOV ou WebM. 1080p ou supérieur recommandé."})]})}),c.jsx(en,{id:"video",ref:i,type:"file",accept:"video/*",className:"hidden",onChange:v=>{d(!0),e(v),setTimeout(()=>{d(!1)},300)}}),u&&c.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-xs text-muted-foreground",children:[c.jsx("div",{className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),c.jsx("span",{children:"Chargement de la vidéo..."})]})]})});cte.displayName="VideoFileUpload";const ute=b.forwardRef(({thumbnailPreviewUrl:t,onThumbnailChange:e,onRemoveThumbnail:n,onGenerateThumbnail:r,showGenerateButton:i},s)=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ct,{htmlFor:"thumbnail",children:"Miniature"}),i&&!t&&c.jsx(K,{variant:"outline",size:"sm",type:"button",onClick:r,children:"Générer automatiquement"})]}),t?c.jsxs("div",{className:"mt-2 relative rounded-lg overflow-hidden aspect-video",children:[c.jsx("img",{src:t,className:"w-full h-full object-cover",alt:"Thumbnail preview"}),c.jsx(K,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 h-8 w-8",onClick:n,children:c.jsx(bi,{className:"h-4 w-4"})})]}):c.jsx("div",{className:"mt-2 border-2 border-dashed border-primary/30 rounded-lg p-4 text-center cursor-pointer hover:bg-primary/5 transition-colors",onClick:()=>{var a;return(a=s==null?void 0:s.current)==null?void 0:a.click()},children:c.jsx("p",{className:"text-sm",children:"Sélectionner une image de miniature"})}),c.jsx(en,{id:"thumbnail",ref:s,type:"file",accept:"image/*",className:"hidden",onChange:e})]}));ute.displayName="ThumbnailUpload";const Fy=b.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:G("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Fy.displayName="Textarea";var ZXe=[" ","Enter","ArrowUp","ArrowDown"],JXe=[" ","Enter"],Ku="Select",[dE,fE,eQe]=B_(Ku),[Ep,Qtt]=xr(Ku,[eQe,lp]),hE=lp(),[tQe,Mc]=Ep(Ku),[nQe,rQe]=Ep(Ku),dte=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=t,m=hE(e),[v,y]=b.useState(null),[x,_]=b.useState(null),[E,S]=b.useState(!1),j=ad(u),[A,T]=Qs({prop:r,defaultProp:i??!1,onChange:s,caller:Ku}),[C,k]=Qs({prop:a,defaultProp:o,onChange:l,caller:Ku}),I=b.useRef(null),N=v?g||!!v.closest("form"):!0,[O,D]=b.useState(new Set),V=Array.from(O).map(U=>U.props.value).join(";");return c.jsx(pO,{...m,children:c.jsxs(tQe,{required:p,scope:e,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:S,contentId:Bs(),value:C,onValueChange:k,open:A,onOpenChange:T,dir:j,triggerPointerDownPosRef:I,disabled:h,children:[c.jsx(dE.Provider,{scope:e,children:c.jsx(nQe,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{D(z=>new Set(z).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{D(z=>{const L=new Set(z);return L.delete(U),L})},[]),children:n})}),N?c.jsxs(Mte,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:U=>k(U.target.value),disabled:h,form:g,children:[C===void 0?c.jsx("option",{value:""}):null,Array.from(O)]},V):null]})})};dte.displayName=Ku;var fte="SelectTrigger",hte=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=hE(n),a=Mc(fte,n),o=a.disabled||r,l=Ye(e,a.onTriggerChange),u=fE(n),d=b.useRef("touch"),[f,h,p]=Lte(m=>{const v=u().filter(_=>!_.disabled),y=v.find(_=>_.value===a.value),x=$te(v,m,y);x!==void 0&&a.onValueChange(x.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(mO,{asChild:!0,...s,children:c.jsx(Me.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":Dte(a.value)?"":void 0,...i,ref:l,onClick:be(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:be(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:be(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&ZXe.includes(m.key)&&(g(),m.preventDefault())})})})});hte.displayName=fte;var pte="SelectValue",mte=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=Mc(pte,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=Ye(e,l.onValueNodeChange);return Fn(()=>{u(d)},[u,d]),c.jsx(Me.span,{...o,ref:f,style:{pointerEvents:"none"},children:Dte(l.value)?c.jsx(c.Fragment,{children:a}):s})});mte.displayName=pte;var iQe="SelectIcon",gte=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return c.jsx(Me.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});gte.displayName=iQe;var sQe="SelectPortal",vte=t=>c.jsx(Q_,{asChild:!0,...t});vte.displayName=sQe;var Gu="SelectContent",yte=b.forwardRef((t,e)=>{const n=Mc(Gu,t.__scopeSelect),[r,i]=b.useState();if(Fn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Fh.createPortal(c.jsx(xte,{scope:t.__scopeSelect,children:c.jsx(dE.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),s):null}return c.jsx(bte,{...t,ref:e})});yte.displayName=Gu;var Ps=10,[xte,Dc]=Ep(Gu),aQe="SelectContentImpl",oQe=Du("SelectContent.RemoveScroll"),bte=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...y}=t,x=Mc(Gu,n),[_,E]=b.useState(null),[S,j]=b.useState(null),A=Ye(e,q=>E(q)),[T,C]=b.useState(null),[k,I]=b.useState(null),N=fE(n),[O,D]=b.useState(!1),V=b.useRef(!1);b.useEffect(()=>{if(_)return AR(_)},[_]),TR();const U=b.useCallback(q=>{const[oe,...Z]=N().map(H=>H.ref.current),[J]=Z.slice(-1),ee=document.activeElement;for(const H of q)if(H===ee||(H==null||H.scrollIntoView({block:"nearest"}),H===oe&&S&&(S.scrollTop=0),H===J&&S&&(S.scrollTop=S.scrollHeight),H==null||H.focus(),document.activeElement!==ee))return},[N,S]),z=b.useCallback(()=>U([T,_]),[U,T,_]);b.useEffect(()=>{O&&z()},[O,z]);const{onOpenChange:L,triggerPointerDownPosRef:F}=x;b.useEffect(()=>{if(_){let q={x:0,y:0};const oe=J=>{var ee,H;q={x:Math.abs(Math.round(J.pageX)-(((ee=F.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(J.pageY)-(((H=F.current)==null?void 0:H.y)??0))}},Z=J=>{q.x<=10&&q.y<=10?J.preventDefault():_.contains(J.target)||L(!1),document.removeEventListener("pointermove",oe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",Z,{capture:!0})}}},[_,L,F]),b.useEffect(()=>{const q=()=>L(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[L]);const[W,ne]=Lte(q=>{const oe=N().filter(ee=>!ee.disabled),Z=oe.find(ee=>ee.ref.current===document.activeElement),J=$te(oe,q,Z);J&&setTimeout(()=>J.ref.current.focus())}),Q=b.useCallback((q,oe,Z)=>{const J=!V.current&&!Z;(x.value!==void 0&&x.value===oe||J)&&(C(q),J&&(V.current=!0))},[x.value]),ie=b.useCallback(()=>_==null?void 0:_.focus(),[_]),xe=b.useCallback((q,oe,Z)=>{const J=!V.current&&!Z;(x.value!==void 0&&x.value===oe||J)&&I(q)},[x.value]),Pe=r==="popper"?Pk:wte,he=Pe===Pk?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return c.jsx(xte,{scope:n,content:_,viewport:S,onViewportChange:j,itemRefCallback:Q,selectedItem:T,onItemLeave:ie,itemTextRefCallback:xe,focusSelectedItem:z,selectedItemText:k,position:r,isPositioned:O,searchRef:W,children:c.jsx(XS,{as:oQe,allowPinchZoom:!0,children:c.jsx(GS,{asChild:!0,trapped:x.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:be(i,q=>{var oe;(oe=x.trigger)==null||oe.focus({preventScroll:!0}),q.preventDefault()}),children:c.jsx(Ey,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(Pe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:q=>q.preventDefault(),...y,...he,onPlaced:()=>D(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:be(y.onKeyDown,q=>{const oe=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!oe&&q.key.length===1&&ne(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let J=N().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(q.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const ee=q.target,H=J.indexOf(ee);J=J.slice(H+1)}setTimeout(()=>U(J)),q.preventDefault()}})})})})})})});bte.displayName=aQe;var lQe="SelectItemAlignedPosition",wte=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Mc(Gu,n),a=Dc(Gu,n),[o,l]=b.useState(null),[u,d]=b.useState(null),f=Ye(e,A=>d(A)),h=fE(n),p=b.useRef(!1),g=b.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=a,_=b.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&v&&y){const A=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),k=y.getBoundingClientRect();if(s.dir!=="rtl"){const ee=k.left-T.left,H=C.left-ee,Ae=A.left-H,je=A.width+Ae,$e=Math.max(je,T.width),de=window.innerWidth-Ps,Ve=Ug(H,[Ps,Math.max(Ps,de-$e)]);o.style.minWidth=je+"px",o.style.left=Ve+"px"}else{const ee=T.right-k.right,H=window.innerWidth-C.right-ee,Ae=window.innerWidth-A.right-H,je=A.width+Ae,$e=Math.max(je,T.width),de=window.innerWidth-Ps,Ve=Ug(H,[Ps,Math.max(Ps,de-$e)]);o.style.minWidth=je+"px",o.style.right=Ve+"px"}const I=h(),N=window.innerHeight-Ps*2,O=m.scrollHeight,D=window.getComputedStyle(u),V=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),z=parseInt(D.borderBottomWidth,10),L=parseInt(D.paddingBottom,10),F=V+U+O+L+z,W=Math.min(v.offsetHeight*5,F),ne=window.getComputedStyle(m),Q=parseInt(ne.paddingTop,10),ie=parseInt(ne.paddingBottom,10),xe=A.top+A.height/2-Ps,Pe=N-xe,he=v.offsetHeight/2,q=v.offsetTop+he,oe=V+U+q,Z=F-oe;if(oe<=xe){const ee=I.length>0&&v===I[I.length-1].ref.current;o.style.bottom="0px";const H=u.clientHeight-m.offsetTop-m.offsetHeight,Ae=Math.max(Pe,he+(ee?ie:0)+H+z),je=oe+Ae;o.style.height=je+"px"}else{const ee=I.length>0&&v===I[0].ref.current;o.style.top="0px";const Ae=Math.max(xe,V+m.offsetTop+(ee?Q:0)+he)+Z;o.style.height=Ae+"px",m.scrollTop=oe-xe+m.offsetTop}o.style.margin=`${Ps}px 0`,o.style.minHeight=W+"px",o.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,m,v,y,s.dir,r]);Fn(()=>_(),[_]);const[E,S]=b.useState();Fn(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=b.useCallback(A=>{A&&g.current===!0&&(_(),x==null||x(),g.current=!1)},[_,x]);return c.jsx(uQe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:c.jsx(Me.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wte.displayName=lQe;var cQe="SelectPopperPosition",Pk=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ps,...s}=t,a=hE(n);return c.jsx(gO,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pk.displayName=cQe;var[uQe,eM]=Ep(Gu,{}),kk="SelectViewport",_te=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Dc(kk,n),a=eM(kk,n),o=Ye(e,s.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(dE.Slot,{scope:n,children:c.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-Ps*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(m,v);if(y<g){const x=y+p,_=Math.min(g,x),E=x-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});_te.displayName=kk;var Ste="SelectGroup",[dQe,fQe]=Ep(Ste),hQe=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Bs();return c.jsx(dQe,{scope:n,id:i,children:c.jsx(Me.div,{role:"group","aria-labelledby":i,...r,ref:e})})});hQe.displayName=Ste;var Ete="SelectLabel",Tte=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fQe(Ete,n);return c.jsx(Me.div,{id:i.id,...r,ref:e})});Tte.displayName=Ete;var p1="SelectItem",[pQe,Ate]=Ep(p1),jte=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Mc(p1,n),l=Dc(p1,n),u=o.value===r,[d,f]=b.useState(s??""),[h,p]=b.useState(!1),g=Ye(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,r,i)}),m=Bs(),v=b.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(pQe,{scope:n,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:b.useCallback(x=>{f(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(dE.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(Me.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:be(a.onFocus,()=>p(!0)),onBlur:be(a.onBlur,()=>p(!1)),onClick:be(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:be(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:be(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:be(a.onPointerMove,x=>{var _;v.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(a.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:be(a.onKeyDown,x=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&x.key===" "||(JXe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});jte.displayName=p1;var Sm="SelectItemText",Cte=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Mc(Sm,n),o=Dc(Sm,n),l=Ate(Sm,n),u=rQe(Sm,n),[d,f]=b.useState(null),h=Ye(e,y=>f(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Fn(()=>(m(g),()=>v(g)),[m,v,g]),c.jsxs(c.Fragment,{children:[c.jsx(Me.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Fh.createPortal(s.children,a.valueNode):null]})});Cte.displayName=Sm;var Pte="SelectItemIndicator",kte=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Ate(Pte,n).isSelected?c.jsx(Me.span,{"aria-hidden":!0,...r,ref:e}):null});kte.displayName=Pte;var Nk="SelectScrollUpButton",Nte=b.forwardRef((t,e)=>{const n=Dc(Nk,t.__scopeSelect),r=eM(Nk,t.__scopeSelect),[i,s]=b.useState(!1),a=Ye(e,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(Ote,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Nte.displayName=Nk;var Ik="SelectScrollDownButton",Ite=b.forwardRef((t,e)=>{const n=Dc(Ik,t.__scopeSelect),r=eM(Ik,t.__scopeSelect),[i,s]=b.useState(!1),a=Ye(e,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(Ote,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});Ite.displayName=Ik;var Ote=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Dc("SelectScrollButton",n),a=b.useRef(null),o=fE(n),l=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Fn(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:be(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:be(i.onPointerLeave,()=>{l()})})}),mQe="SelectSeparator",Rte=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Me.div,{"aria-hidden":!0,...r,ref:e})});Rte.displayName=mQe;var Ok="SelectArrow",gQe=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hE(n),s=Mc(Ok,n),a=Dc(Ok,n);return s.open&&a.position==="popper"?c.jsx(vO,{...i,...r,ref:e}):null});gQe.displayName=Ok;var vQe="SelectBubbleInput",Mte=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=b.useRef(null),s=Ye(r,i),a=wy(e);return b.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),c.jsx(Me.select,{...n,style:{...$G,...n.style},ref:s,defaultValue:e})});Mte.displayName=vQe;function Dte(t){return t===""||t===void 0}function Lte(t){const e=tr(t),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const o=n.current+a;e(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function $te(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=yQe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function yQe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xQe=dte,Vte=hte,bQe=mte,wQe=gte,_Qe=vte,Fte=yte,SQe=_te,zte=Tte,Ute=jte,EQe=Cte,TQe=kte,Bte=Nte,Wte=Ite,Hte=Rte;const qte=xQe,Kte=bQe,tM=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Vte,{ref:r,className:G("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(wQe,{asChild:!0,children:c.jsx($7,{className:"h-4 w-4 opacity-50"})})]}));tM.displayName=Vte.displayName;const Gte=b.forwardRef(({className:t,...e},n)=>c.jsx(Bte,{ref:n,className:G("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Bge,{className:"h-4 w-4"})}));Gte.displayName=Bte.displayName;const Yte=b.forwardRef(({className:t,...e},n)=>c.jsx(Wte,{ref:n,className:G("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx($7,{className:"h-4 w-4"})}));Yte.displayName=Wte.displayName;const nM=b.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>c.jsx(_Qe,{children:c.jsxs(Fte,{ref:i,className:G("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(Gte,{}),c.jsx(SQe,{className:G("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(Yte,{})]})}));nM.displayName=Fte.displayName;const AQe=b.forwardRef(({className:t,...e},n)=>c.jsx(zte,{ref:n,className:G("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));AQe.displayName=zte.displayName;const ma=b.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(Ute,{ref:r,className:G("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(TQe,{children:c.jsx(C_,{className:"h-4 w-4"})})}),c.jsx(EQe,{children:e})]}));ma.displayName=Ute.displayName;const jQe=b.forwardRef(({className:t,...e},n)=>c.jsx(Hte,{ref:n,className:G("-mx-1 my-1 h-px bg-muted",t),...e}));jQe.displayName=Hte.displayName;const CQe=({form:t})=>c.jsxs("div",{className:"space-y-4 pt-2 border-t border-border",children:[c.jsx(mu,{control:t.control,name:"tokenPrice",render:({field:e})=>c.jsxs(Ll,{children:[c.jsx($l,{children:"Prix en tokens"}),c.jsx(Vl,{children:c.jsx(en,{type:"number",min:1,onChange:n=>e.onChange(n.target.valueAsNumber),value:e.value||"",className:"mt-1"})})]})}),c.jsx(mu,{control:t.control,name:"type",render:({field:e})=>c.jsxs(Ll,{children:[c.jsx($l,{children:"Niveau d'abonnement minimum"}),c.jsxs(qte,{onValueChange:e.onChange,defaultValue:e.value,children:[c.jsx(Vl,{children:c.jsx(tM,{className:"mt-1",children:c.jsx(Kte,{placeholder:"Sélectionner un niveau"})})}),c.jsxs(nM,{children:[c.jsx(ma,{value:"free",children:"Aucun (libre)"}),c.jsx(ma,{value:"fan",children:"Fan"}),c.jsx(ma,{value:"superfan",children:"Super Fan"}),c.jsx(ma,{value:"vip",children:"VIP"}),c.jsx(ma,{value:"exclusive",children:"Exclusif"})]})]})]})}),c.jsx(mu,{control:t.control,name:"isPremium",render:({field:e})=>c.jsxs(Ll,{className:"flex items-center space-x-2",children:[c.jsx(Vl,{children:c.jsx("input",{type:"checkbox",checked:!!e.value,onChange:n=>e.onChange(n.target.checked),className:"h-4 w-4"})}),c.jsx($l,{className:"text-sm",children:"Autoriser le partage"})]})}),c.jsx(mu,{control:t.control,name:"isPremium",render:({field:e})=>c.jsxs(Ll,{className:"flex items-center space-x-2",children:[c.jsx(Vl,{children:c.jsx("input",{type:"checkbox",checked:!!e.value,onChange:n=>e.onChange(n.target.checked),className:"h-4 w-4"})}),c.jsx($l,{className:"text-sm",children:"Autoriser le téléchargement"})]})})]}),PQe=({form:t})=>{const e=t.watch("type"),n=e==="premium"||e==="vip";return c.jsxs("div",{className:"space-y-4",children:[c.jsx(mu,{control:t.control,name:"title",render:({field:r})=>c.jsxs(Ll,{children:[c.jsx($l,{children:"Titre"}),c.jsx(Vl,{children:c.jsx(en,{...r,className:"mt-1"})})]})}),c.jsx(mu,{control:t.control,name:"description",render:({field:r})=>c.jsxs(Ll,{children:[c.jsx($l,{children:"Description"}),c.jsx(Vl,{children:c.jsx(Fy,{...r,className:"mt-1 resize-none",rows:3})})]})}),c.jsx(mu,{control:t.control,name:"type",render:({field:r})=>c.jsxs(Ll,{children:[c.jsx($l,{children:"Type de vidéo"}),c.jsxs(qte,{onValueChange:r.onChange,defaultValue:r.value,children:[c.jsx(Vl,{children:c.jsx(tM,{className:"mt-1",children:c.jsx(Kte,{placeholder:"Sélectionner un type"})})}),c.jsxs(nM,{children:[c.jsx(ma,{value:"standard",children:"Gratuite"}),c.jsx(ma,{value:"teaser",children:"Xtease (format 9:16)"}),c.jsx(ma,{value:"premium",children:"Premium"}),c.jsx(ma,{value:"vip",children:"VIP"})]})]})]})}),n&&c.jsx(CQe,{form:t})]})},kQe=({videoPreviewUrl:t,videoFormat:e})=>{if(!t)return null;const r=(()=>{switch(e){case"9:16":return{badgeClass:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:c.jsx(C_,{className:"h-3 w-3"}),description:"Format idéal pour Xtease"};case"16:9":return{badgeClass:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:c.jsx(Um,{className:"h-3 w-3"}),description:"Format standard pour ordinateur"};case"1:1":return{badgeClass:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",icon:c.jsx(Um,{className:"h-3 w-3"}),description:"Format carré pour médias sociaux"};default:return{badgeClass:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",icon:c.jsx(Um,{className:"h-3 w-3"}),description:"Format non standard"}}})();return c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(nve,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{children:["Format détecté: ",e]})]}),c.jsxs($n,{variant:"outline",className:`flex items-center gap-1.5 px-2 py-1 ${r.badgeClass}`,children:[r.icon,c.jsx("span",{children:r.description})]}),c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e==="9:16"?"Ce format vertical est optimisé pour les appareils mobiles et augmente l'engagement.":e==="16:9"?"Ce format horizontal est adapté pour la visualisation sur ordinateur.":e==="1:1"?"Ce format carré est polyvalent pour la diffusion sur différentes plateformes.":"Ce format non standard pourrait s'afficher avec des barres noires sur certains appareils."})]})},NQe=({isUploading:t,uploadProgress:e,uploadStage:n,onClose:r,videoFile:i})=>c.jsxs("div",{className:"space-y-4",children:[t&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:n||"Téléchargement..."}),c.jsxs("span",{children:[e,"%"]})]}),c.jsx(tE,{value:e,className:"h-2"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx(K,{type:"button",variant:"outline",onClick:r,disabled:t,children:"Annuler"}),c.jsx(K,{type:"submit",disabled:!i||t,children:t?"Publication...":"Publier la vidéo"})]})]}),IQe=my("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rM=b.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:G(IQe({variant:e}),t),...n}));rM.displayName="Alert";const Xte=b.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:G("mb-1 font-medium leading-none tracking-tight",t),...e}));Xte.displayName="AlertTitle";const iM=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:G("text-sm [&_p]:leading-relaxed",t),...e}));iM.displayName="AlertDescription";var St;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(St||(St={}));var Rz;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Rz||(Rz={}));const ke=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vl=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},ge=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ds extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof ds))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ds.create=t=>new ds(t);const $v=(t,e)=>{let n;switch(t.code){case ge.invalid_type:t.received===ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,St.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${St.joinValues(t.keys,", ")}`;break;case ge.invalid_union:n="Invalid input";break;case ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${St.joinValues(t.options)}`;break;case ge.invalid_enum_value:n=`Invalid enum value. Expected ${St.joinValues(t.options)}, received '${t.received}'`;break;case ge.invalid_arguments:n="Invalid function arguments";break;case ge.invalid_return_type:n="Invalid function return type";break;case ge.invalid_date:n="Invalid date";break;case ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:St.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ge.custom:n="Invalid input";break;case ge.invalid_intersection_types:n="Intersection results could not be merged";break;case ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,St.assertNever(t)}return{message:n}};let OQe=$v;function Rk(){return OQe}const Mk=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Te(t,e){const n=Rk(),r=Mk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===$v?void 0:$v].filter(i=>!!i)});t.common.issues.push(r)}class Jr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return et;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Jr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return et;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const et=Object.freeze({status:"aborted"}),Em=t=>({status:"dirty",value:t}),Si=t=>({status:"valid",value:t}),Mz=t=>t.status==="aborted",Dz=t=>t.status==="dirty",Oh=t=>t.status==="valid",m1=t=>typeof Promise<"u"&&t instanceof Promise;function g1(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Qte(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));var Tm,Am;class za{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lz=(t,e)=>{if(Oh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ds(t.common.issues);return this._error=n,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{var l,u;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:o.defaultError}},description:i}}class gt{get description(){return this._def.description}_getType(e){return vl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:vl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jr,ctx:{common:e.parent.common,data:e.data,parsedType:vl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(m1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Lz(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vl(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Oh(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Oh(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(m1(i)?i:Promise.resolve(i));return Lz(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:ge.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new zo({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return _o.create(this,this._def)}nullable(){return Xu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oa.create(this)}promise(){return Fv.create(this,this._def)}or(e){return x1.create([this,e],this._def)}and(e){return b1.create(this,e,this._def)}transform(e){return new zo({...ot(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new T1({...ot(this._def),innerType:this,defaultValue:n,typeName:Qe.ZodDefault})}brand(){return new tne({typeName:Qe.ZodBranded,type:this,...ot(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new A1({...ot(this._def),innerType:this,catchValue:n,typeName:Qe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return pE.create(this,e)}readonly(){return j1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RQe=/^c[^\s-]{8,}$/i,MQe=/^[0-9a-z]+$/,DQe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LQe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$Qe=/^[a-z0-9_-]{21}$/i,VQe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FQe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zQe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,UQe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let PA;const BQe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WQe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HQe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qQe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,KQe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GQe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zte="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YQe=new RegExp(`^${Zte}$`);function Jte(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function XQe(t){return new RegExp(`^${Jte(t)}$`)}function QQe(t){let e=`${Zte}T${Jte(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ZQe(t,e){return!!((e==="v4"||!e)&&BQe.test(t)||(e==="v6"||!e)&&HQe.test(t))}function JQe(t,e){if(!VQe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function eZe(t,e){return!!((e==="v4"||!e)&&WQe.test(t)||(e==="v6"||!e)&&qQe.test(t))}class mo extends gt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const s=this._getOrReturnCtx(e);return Te(s,{code:ge.invalid_type,expected:ke.string,received:s.parsedType}),et}const r=new Jr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Te(i,{code:ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Te(i,{code:ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")zQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"email",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")PA||(PA=new RegExp(UQe,"u")),PA.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"emoji",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")LQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"uuid",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")$Qe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"nanoid",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")RQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")MQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cuid2",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")DQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ulid",code:ge.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Te(i,{validation:"url",code:ge.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"regex",code:ge.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?QQe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?YQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?XQe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?FQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"duration",code:ge.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?ZQe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"ip",code:ge.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?JQe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"jwt",code:ge.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?eZe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"cidr",code:ge.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?KQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64",code:ge.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?GQe.test(e.data)||(i=this._getOrReturnCtx(e,i),Te(i,{validation:"base64url",code:ge.invalid_string,message:s.message}),r.dirty()):St.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ge.invalid_string,...Le.errToObj(r)})}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new mo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mo.create=t=>{var e;return new mo({checks:[],typeName:Qe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};function tZe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}class Rh extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const s=this._getOrReturnCtx(e);return Te(s,{code:ge.invalid_type,expected:ke.number,received:s.parsedType}),et}let r;const i=new Jr;for(const s of this._def.checks)s.kind==="int"?St.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?tZe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.not_finite,message:s.message}),i.dirty()):St.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new Rh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new Rh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Rh.create=t=>new Rh({checks:[],typeName:Qe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class Mh extends gt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let r;const i=new Jr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Te(r,{code:ge.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):St.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Te(n,{code:ge.invalid_type,expected:ke.bigint,received:n.parsedType}),et}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,r,i){return new Mh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Le.toString(i)}]})}_addCheck(e){return new Mh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mh.create=t=>{var e;return new Mh({checks:[],typeName:Qe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};class Dk extends gt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return Te(r,{code:ge.invalid_type,expected:ke.boolean,received:r.parsedType}),et}return Si(e.data)}}Dk.create=t=>new Dk({typeName:Qe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class Vv extends gt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const s=this._getOrReturnCtx(e);return Te(s,{code:ge.invalid_type,expected:ke.date,received:s.parsedType}),et}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Te(s,{code:ge.invalid_date}),et}const r=new Jr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Te(i,{code:ge.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):St.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vv.create=t=>new Vv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Qe.ZodDate,...ot(t)});class Lk extends gt{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return Te(r,{code:ge.invalid_type,expected:ke.symbol,received:r.parsedType}),et}return Si(e.data)}}Lk.create=t=>new Lk({typeName:Qe.ZodSymbol,...ot(t)});class v1 extends gt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:ge.invalid_type,expected:ke.undefined,received:r.parsedType}),et}return Si(e.data)}}v1.create=t=>new v1({typeName:Qe.ZodUndefined,...ot(t)});class y1 extends gt{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return Te(r,{code:ge.invalid_type,expected:ke.null,received:r.parsedType}),et}return Si(e.data)}}y1.create=t=>new y1({typeName:Qe.ZodNull,...ot(t)});class $k extends gt{constructor(){super(...arguments),this._any=!0}_parse(e){return Si(e.data)}}$k.create=t=>new $k({typeName:Qe.ZodAny,...ot(t)});class Pf extends gt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Si(e.data)}}Pf.create=t=>new Pf({typeName:Qe.ZodUnknown,...ot(t)});class xc extends gt{_parse(e){const n=this._getOrReturnCtx(e);return Te(n,{code:ge.invalid_type,expected:ke.never,received:n.parsedType}),et}}xc.create=t=>new xc({typeName:Qe.ZodNever,...ot(t)});class Vk extends gt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return Te(r,{code:ge.invalid_type,expected:ke.void,received:r.parsedType}),et}return Si(e.data)}}Vk.create=t=>new Vk({typeName:Qe.ZodVoid,...ot(t)});class Oa extends gt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ke.array)return Te(n,{code:ge.invalid_type,expected:ke.array,received:n.parsedType}),et;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Te(n,{code:a?ge.too_big:ge.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Te(n,{code:ge.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Te(n,{code:ge.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new za(n,a,n.path,o)))).then(a=>Jr.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new za(n,a,n.path,o)));return Jr.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Oa({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new Oa({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new Oa({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}Oa.create=(t,e)=>new Oa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...ot(e)});function Dd(t){if(t instanceof xn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=_o.create(Dd(r))}return new xn({...t._def,shape:()=>e})}else return t instanceof Oa?new Oa({...t._def,type:Dd(t.element)}):t instanceof _o?_o.create(Dd(t.unwrap())):t instanceof Xu?Xu.create(Dd(t.unwrap())):t instanceof Fo?Fo.create(t.items.map(e=>Dd(e))):t}class xn extends gt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=St.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ke.object){const u=this._getOrReturnCtx(e);return Te(u,{code:ge.invalid_type,expected:ke.object,received:u.parsedType}),et}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof xc&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||o.push(u);const l=[];for(const u of a){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new za(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof xc){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(Te(i,{code:ge.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new za(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Jr.mergeObjectSync(r,u)):Jr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,a,o;const l=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=Le.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new xn({...this._def,unknownKeys:"strip"})}passthrough(){return new xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xn({...this._def,catchall:e})}pick(e){const n={};return St.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new xn({...this._def,shape:()=>n})}omit(e){const n={};return St.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new xn({...this._def,shape:()=>n})}deepPartial(){return Dd(this)}partial(e){const n={};return St.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new xn({...this._def,shape:()=>n})}required(e){const n={};return St.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof _o;)s=s._def.innerType;n[r]=s}}),new xn({...this._def,shape:()=>n})}keyof(){return ene(St.objectKeys(this.shape))}}xn.create=(t,e)=>new xn({shape:()=>t,unknownKeys:"strip",catchall:xc.create(),typeName:Qe.ZodObject,...ot(e)});xn.strictCreate=(t,e)=>new xn({shape:()=>t,unknownKeys:"strict",catchall:xc.create(),typeName:Qe.ZodObject,...ot(e)});xn.lazycreate=(t,e)=>new xn({shape:t,unknownKeys:"strip",catchall:xc.create(),typeName:Qe.ZodObject,...ot(e)});class x1 extends gt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new ds(o.ctx.common.issues));return Te(n,{code:ge.invalid_union,unionErrors:a}),et}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new ds(l));return Te(n,{code:ge.invalid_union,unionErrors:o}),et}}get options(){return this._def.options}}x1.create=(t,e)=>new x1({options:t,typeName:Qe.ZodUnion,...ot(e)});const ro=t=>t instanceof _1?ro(t.schema):t instanceof zo?ro(t.innerType()):t instanceof S1?[t.value]:t instanceof Yu?t.options:t instanceof E1?St.objectValues(t.enum):t instanceof T1?ro(t._def.innerType):t instanceof v1?[void 0]:t instanceof y1?[null]:t instanceof _o?[void 0,...ro(t.unwrap())]:t instanceof Xu?[null,...ro(t.unwrap())]:t instanceof tne||t instanceof j1?ro(t.unwrap()):t instanceof A1?ro(t._def.innerType):[];class sM extends gt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.object)return Te(n,{code:ge.invalid_type,expected:ke.object,received:n.parsedType}),et;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Te(n,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),et)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=ro(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new sM({typeName:Qe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ot(r)})}}function Fk(t,e){const n=vl(t),r=vl(e);if(t===e)return{valid:!0,data:t};if(n===ke.object&&r===ke.object){const i=St.objectKeys(e),s=St.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=Fk(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===ke.array&&r===ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=Fk(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ke.date&&r===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class b1 extends gt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(Mz(s)||Mz(a))return et;const o=Fk(s.value,a.value);return o.valid?((Dz(s)||Dz(a))&&n.dirty(),{status:n.value,value:o.data}):(Te(r,{code:ge.invalid_intersection_types}),et)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}b1.create=(t,e,n)=>new b1({left:t,right:e,typeName:Qe.ZodIntersection,...ot(n)});class Fo extends gt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return Te(r,{code:ge.invalid_type,expected:ke.array,received:r.parsedType}),et;if(r.data.length<this._def.items.length)return Te(r,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),et;!this._def.rest&&r.data.length>this._def.items.length&&(Te(r,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new za(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Jr.mergeArray(n,a)):Jr.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Fo({...this._def,rest:e})}}Fo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fo({items:t,typeName:Qe.ZodTuple,rest:null,...ot(e)})};class w1 extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return Te(r,{code:ge.invalid_type,expected:ke.object,received:r.parsedType}),et;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new za(r,o,r.path,o)),value:a._parse(new za(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Jr.mergeObjectAsync(n,i):Jr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof gt?new w1({keyType:e,valueType:n,typeName:Qe.ZodRecord,...ot(r)}):new w1({keyType:mo.create(),valueType:e,typeName:Qe.ZodRecord,...ot(n)})}}class zk extends gt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return Te(r,{code:ge.invalid_type,expected:ke.map,received:r.parsedType}),et;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],u)=>({key:i._parse(new za(r,o,r.path,[u,"key"])),value:s._parse(new za(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return et;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return et;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}zk.create=(t,e,n)=>new zk({valueType:e,keyType:t,typeName:Qe.ZodMap,...ot(n)});class Dh extends gt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return Te(r,{code:ge.invalid_type,expected:ke.set,received:r.parsedType}),et;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Te(r,{code:ge.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Te(r,{code:ge.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return et;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>s._parse(new za(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Dh({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new Dh({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Dh.create=(t,e)=>new Dh({valueType:t,minSize:null,maxSize:null,typeName:Qe.ZodSet,...ot(e)});class og extends gt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.function)return Te(n,{code:ge.invalid_type,expected:ke.function,received:n.parsedType}),et;function r(o,l){return Mk({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Rk(),$v].filter(u=>!!u),issueData:{code:ge.invalid_arguments,argumentsError:l}})}function i(o,l){return Mk({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Rk(),$v].filter(u=>!!u),issueData:{code:ge.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Fv){const o=this;return Si(async function(...l){const u=new ds([]),d=await o._def.args.parseAsync(l,s).catch(p=>{throw u.addIssue(r(l,p)),u}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,s).catch(p=>{throw u.addIssue(i(f,p)),u})})}else{const o=this;return Si(function(...l){const u=o._def.args.safeParse(l,s);if(!u.success)throw new ds([r(l,u.error)]);const d=Reflect.apply(a,this,u.data),f=o._def.returns.safeParse(d,s);if(!f.success)throw new ds([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new og({...this._def,args:Fo.create(e).rest(Pf.create())})}returns(e){return new og({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new og({args:e||Fo.create([]).rest(Pf.create()),returns:n||Pf.create(),typeName:Qe.ZodFunction,...ot(r)})}}class _1 extends gt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_1.create=(t,e)=>new _1({getter:t,typeName:Qe.ZodLazy,...ot(e)});class S1 extends gt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Te(n,{received:n.data,code:ge.invalid_literal,expected:this._def.value}),et}return{status:"valid",value:e.data}}get value(){return this._def.value}}S1.create=(t,e)=>new S1({value:t,typeName:Qe.ZodLiteral,...ot(e)});function ene(t,e){return new Yu({values:t,typeName:Qe.ZodEnum,...ot(e)})}class Yu extends gt{constructor(){super(...arguments),Tm.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{expected:St.joinValues(r),received:n.parsedType,code:ge.invalid_type}),et}if(g1(this,Tm)||Qte(this,Tm,new Set(this._def.values)),!g1(this,Tm).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Te(n,{received:n.data,code:ge.invalid_enum_value,options:r}),et}return Si(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yu.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Tm=new WeakMap;Yu.create=ene;class E1 extends gt{constructor(){super(...arguments),Am.set(this,void 0)}_parse(e){const n=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=St.objectValues(n);return Te(r,{expected:St.joinValues(i),received:r.parsedType,code:ge.invalid_type}),et}if(g1(this,Am)||Qte(this,Am,new Set(St.getValidEnumValues(this._def.values))),!g1(this,Am).has(e.data)){const i=St.objectValues(n);return Te(r,{received:r.data,code:ge.invalid_enum_value,options:i}),et}return Si(e.data)}get enum(){return this._def.values}}Am=new WeakMap;E1.create=(t,e)=>new E1({values:t,typeName:Qe.ZodNativeEnum,...ot(e)});class Fv extends gt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.promise&&n.common.async===!1)return Te(n,{code:ge.invalid_type,expected:ke.promise,received:n.parsedType}),et;const r=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return Si(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Fv.create=(t,e)=>new Fv({type:t,typeName:Qe.ZodPromise,...ot(e)});class zo extends gt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Te(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return et;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?et:l.status==="dirty"||n.value==="dirty"?Em(l.value):l});{if(n.value==="aborted")return et;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?et:o.status==="dirty"||n.value==="dirty"?Em(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?et:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?et:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Oh(a))return a;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Oh(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);St.assertNever(i)}}zo.create=(t,e,n)=>new zo({schema:t,typeName:Qe.ZodEffects,effect:e,...ot(n)});zo.createWithPreprocess=(t,e,n)=>new zo({schema:e,effect:{type:"preprocess",transform:t},typeName:Qe.ZodEffects,...ot(n)});class _o extends gt{_parse(e){return this._getType(e)===ke.undefined?Si(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_o.create=(t,e)=>new _o({innerType:t,typeName:Qe.ZodOptional,...ot(e)});class Xu extends gt{_parse(e){return this._getType(e)===ke.null?Si(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xu.create=(t,e)=>new Xu({innerType:t,typeName:Qe.ZodNullable,...ot(e)});class T1 extends gt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}T1.create=(t,e)=>new T1({innerType:t,typeName:Qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class A1 extends gt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return m1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ds(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ds(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}A1.create=(t,e)=>new A1({innerType:t,typeName:Qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class Uk extends gt{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return Te(r,{code:ge.invalid_type,expected:ke.nan,received:r.parsedType}),et}return{status:"valid",value:e.data}}}Uk.create=t=>new Uk({typeName:Qe.ZodNaN,...ot(t)});class tne extends gt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pE extends gt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?et:s.status==="dirty"?(n.dirty(),Em(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?et:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new pE({in:e,out:n,typeName:Qe.ZodPipeline})}}class j1 extends gt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Oh(i)&&(i.value=Object.freeze(i.value)),i);return m1(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}j1.create=(t,e)=>new j1({innerType:t,typeName:Qe.ZodReadonly,...ot(e)});xn.lazycreate;var Qe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const C1=mo.create,nne=Rh.create;Uk.create;Mh.create;const rne=Dk.create;Vv.create;Lk.create;v1.create;y1.create;$k.create;Pf.create;xc.create;Vk.create;Oa.create;const ine=xn.create;xn.strictCreate;x1.create;sM.create;b1.create;Fo.create;w1.create;zk.create;Dh.create;og.create;_1.create;S1.create;const sne=Yu.create;E1.create;Fv.create;zo.create;_o.create;Xu.create;zo.createWithPreprocess;pE.create;const nZe=ine({title:C1().min(3,"Le titre doit contenir au moins 3 caractères"),description:C1().optional(),type:sne(["standard","premium","teaser","vip"]).default("standard"),isPremium:rne().default(!1),tokenPrice:nne().min(0).optional()}),rZe=({videoFile:t,thumbnailFile:e,videoPreviewUrl:n,thumbnailPreviewUrl:r,videoFormat:i,isUploading:s,uploadProgress:a,uploadError:o,uploadStage:l,handleVideoChange:u,handleThumbnailChange:d,generateThumbnail:f,resetForm:h,onClose:p,onSubmit:g})=>{const m=ite({resolver:lte(nZe),defaultValues:{title:"",description:"",type:"standard",isPremium:!1,tokenPrice:0}}),v=M.useRef(null),y=M.useRef(null),x=()=>{v.current&&(v.current.value=""),h()},_=()=>{y.current&&(y.current.value=""),r&&URL.revokeObjectURL(r)};return c.jsx(qXe,{...m,children:c.jsxs("form",{onSubmit:m.handleSubmit(g),className:"grid gap-6 py-4",children:[o&&c.jsxs(rM,{variant:"destructive",children:[c.jsx(pC,{className:"h-4 w-4"}),c.jsx(iM,{children:o})]}),c.jsx(cte,{ref:v,videoPreviewUrl:n,onVideoChange:u,onRemoveVideo:x}),c.jsx(kQe,{videoPreviewUrl:n,videoFormat:i}),n&&c.jsx(ute,{ref:y,thumbnailPreviewUrl:r,onThumbnailChange:d,onRemoveThumbnail:_,onGenerateThumbnail:f,showGenerateButton:!!n}),c.jsx(PQe,{form:m}),c.jsx(NQe,{isUploading:s,uploadProgress:a,uploadStage:l,onClose:p,videoFile:t})]})})};var iZe=Object.create,ane=Object.defineProperty,sZe=Object.getOwnPropertyDescriptor,one=Object.getOwnPropertyNames,aZe=Object.getPrototypeOf,oZe=Object.prototype.hasOwnProperty,zy=(t,e)=>function(){return e||(0,t[one(t)[0]])((e={exports:{}}).exports,e),e.exports},lZe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of one(e))!oZe.call(t,i)&&i!==n&&ane(t,i,{get:()=>e[i],enumerable:!(r=sZe(e,i))||r.enumerable});return t},cZe=(t,e,n)=>(n=t!=null?iZe(aZe(t)):{},lZe(!t||!t.__esModule?ane(n,"default",{value:t,enumerable:!0}):n,t)),uZe=zy({"node_modules/global/window.js"(t,e){var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n={},e.exports=n}}),dZe=zy({"node_modules/is-function/index.js"(t,e){e.exports=r;var n=Object.prototype.toString;function r(i){if(!i)return!1;var s=n.call(i);return s==="[object Function]"||typeof i=="function"&&s!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}}}),fZe=zy({"node_modules/parse-headers/parse-headers.js"(t,e){var n=function(i){return i.replace(/^\s+|\s+$/g,"")},r=function(i){return Object.prototype.toString.call(i)==="[object Array]"};e.exports=function(i){if(!i)return{};for(var s={},a=n(i).split(`
`),o=0;o<a.length;o++){var l=a[o],u=l.indexOf(":"),d=n(l.slice(0,u)).toLowerCase(),f=n(l.slice(u+1));typeof s[d]>"u"?s[d]=f:r(s[d])?s[d].push(f):s[d]=[s[d],f]}return s}}}),hZe=zy({"node_modules/xtend/immutable.js"(t,e){e.exports=r;var n=Object.prototype.hasOwnProperty;function r(){for(var i={},s=0;s<arguments.length;s++){var a=arguments[s];for(var o in a)n.call(a,o)&&(i[o]=a[o])}return i}}}),pZe=zy({"node_modules/xhr/index.js"(t,e){var n=uZe(),r=dZe(),i=fZe(),s=hZe();e.exports=u,e.exports.default=u,u.XMLHttpRequest=n.XMLHttpRequest||h,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,a(["get","put","post","patch","head","delete"],function(p){u[p==="delete"?"del":p]=function(g,m,v){return m=l(g,m,v),m.method=p.toUpperCase(),d(m)}});function a(p,g){for(var m=0;m<p.length;m++)g(p[m])}function o(p){for(var g in p)if(p.hasOwnProperty(g))return!1;return!0}function l(p,g,m){var v=p;return r(g)?(m=g,typeof p=="string"&&(v={uri:p})):v=s(g,{uri:p}),v.callback=m,v}function u(p,g,m){return g=l(p,g,m),d(g)}function d(p){if(typeof p.callback>"u")throw new Error("callback argument missing");var g=!1,m=function(U,z,L){g||(g=!0,p.callback(U,z,L))};function v(){E.readyState===4&&setTimeout(_,0)}function y(){var V=void 0;if(E.response?V=E.response:V=E.responseText||f(E),N)try{V=JSON.parse(V)}catch{}return V}function x(V){return clearTimeout(O),V instanceof Error||(V=new Error(""+(V||"Unknown XMLHttpRequest Error"))),V.statusCode=0,m(V,D)}function _(){if(!j){var V;clearTimeout(O),p.useXDR&&E.status===void 0?V=200:V=E.status===1223?204:E.status;var U=D,z=null;return V!==0?(U={body:y(),statusCode:V,method:T,headers:{},url:A,rawRequest:E},E.getAllResponseHeaders&&(U.headers=i(E.getAllResponseHeaders()))):z=new Error("Internal XMLHttpRequest Error"),m(z,U,U.body)}}var E=p.xhr||null;E||(p.cors||p.useXDR?E=new u.XDomainRequest:E=new u.XMLHttpRequest);var S,j,A=E.url=p.uri||p.url,T=E.method=p.method||"GET",C=p.body||p.data,k=E.headers=p.headers||{},I=!!p.sync,N=!1,O,D={body:void 0,headers:{},statusCode:0,method:T,url:A,rawRequest:E};if("json"in p&&p.json!==!1&&(N=!0,k.accept||k.Accept||(k.Accept="application/json"),T!=="GET"&&T!=="HEAD"&&(k["content-type"]||k["Content-Type"]||(k["Content-Type"]="application/json"),C=JSON.stringify(p.json===!0?C:p.json))),E.onreadystatechange=v,E.onload=_,E.onerror=x,E.onprogress=function(){},E.onabort=function(){j=!0},E.ontimeout=x,E.open(T,A,!I,p.username,p.password),I||(E.withCredentials=!!p.withCredentials),!I&&p.timeout>0&&(O=setTimeout(function(){if(!j){j=!0,E.abort("timeout");var V=new Error("XMLHttpRequest timeout");V.code="ETIMEDOUT",x(V)}},p.timeout)),E.setRequestHeader)for(S in k)k.hasOwnProperty(S)&&E.setRequestHeader(S,k[S]);else if(p.headers&&!o(p.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in p&&(E.responseType=p.responseType),"beforeSend"in p&&typeof p.beforeSend=="function"&&p.beforeSend(E),E.send(C||null),E}function f(p){try{if(p.responseType==="document")return p.responseXML;var g=p.responseXML&&p.responseXML.documentElement.nodeName==="parsererror";if(p.responseType===""&&!g)return p.responseXML}catch{}return null}function h(){}}});function aM(t,e,...n){if(!t)throw new TypeError(lne(e,n))}function lne(t,e){let n=0;return t.replace(/%[os]/gu,()=>cne(e[n++]))}function cne(t){return typeof t!="object"||t===null?String(t):Object.prototype.toString.call(t)}var mZe;function gZe(t){try{const e=t instanceof Error?t:new Error(cne(t));if(typeof dispatchEvent=="function"&&typeof ErrorEvent=="function")dispatchEvent(new ErrorEvent("error",{error:e,message:e.message}));else if(typeof process<"u"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)}catch{}}var qs=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:typeof globalThis<"u"?globalThis:void 0,vZe,Lc=class{constructor(t,e){this.code=t,this.message=e}warn(...t){var e;try{const n=((e=new Error().stack)!==null&&e!==void 0?e:"").replace(/^(?:.+?\n){2}/gu,`
`);console.warn(this.message,...t,n)}catch{}}},yZe=new Lc("W01","Unable to initialize event under dispatching."),xZe=new Lc("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),bZe=new Lc("W03","Assigning any truthy value to 'returnValue' property has no effect."),wZe=new Lc("W04","Unable to preventDefault on non-cancelable events."),_Ze=new Lc("W05","Unable to preventDefault inside passive event listener invocation."),SZe=new Lc("W06","An event listener wasn't added because it has been added already: %o, %o"),kA=new Lc("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),$z=new Lc("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),Jo=class{static get NONE(){return Vz}static get CAPTURING_PHASE(){return Fz}static get AT_TARGET(){return zz}static get BUBBLING_PHASE(){return Uz}constructor(e,n){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=n??{};Bk.set(this,{type:String(e),bubbles:!!r.bubbles,cancelable:!!r.cancelable,composed:!!r.composed,target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return In(this).type}get target(){return In(this).target}get srcElement(){return In(this).target}get currentTarget(){return In(this).currentTarget}composedPath(){const e=In(this).currentTarget;return e?[e]:[]}get NONE(){return Vz}get CAPTURING_PHASE(){return Fz}get AT_TARGET(){return zz}get BUBBLING_PHASE(){return Uz}get eventPhase(){return In(this).dispatchFlag?2:0}stopPropagation(){In(this).stopPropagationFlag=!0}get cancelBubble(){return In(this).stopPropagationFlag}set cancelBubble(e){e?In(this).stopPropagationFlag=!0:xZe.warn()}stopImmediatePropagation(){const e=In(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return In(this).bubbles}get cancelable(){return In(this).cancelable}get returnValue(){return!In(this).canceledFlag}set returnValue(e){e?bZe.warn():Bz(In(this))}preventDefault(){Bz(In(this))}get defaultPrevented(){return In(this).canceledFlag}get composed(){return In(this).composed}get isTrusted(){return!1}get timeStamp(){return In(this).timeStamp}initEvent(e,n=!1,r=!1){const i=In(this);if(i.dispatchFlag){yZe.warn();return}Bk.set(this,{...i,type:String(e),bubbles:!!n,cancelable:!!r,target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}},Vz=0,Fz=1,zz=2,Uz=3,Bk=new WeakMap;function In(t,e="this"){const n=Bk.get(t);return aM(n!=null,"'%s' must be an object that Event constructor created, but got another one: %o",e,t),n}function Bz(t){if(t.inPassiveListenerFlag){_Ze.warn();return}if(!t.cancelable){wZe.warn();return}t.canceledFlag=!0}Object.defineProperty(Jo,"NONE",{enumerable:!0});Object.defineProperty(Jo,"CAPTURING_PHASE",{enumerable:!0});Object.defineProperty(Jo,"AT_TARGET",{enumerable:!0});Object.defineProperty(Jo,"BUBBLING_PHASE",{enumerable:!0});var NA=Object.getOwnPropertyNames(Jo.prototype);for(let t=0;t<NA.length;++t)NA[t]!=="constructor"&&Object.defineProperty(Jo.prototype,NA[t],{enumerable:!0});typeof qs<"u"&&typeof qs.Event<"u"&&Object.setPrototypeOf(Jo.prototype,qs.Event.prototype);function EZe(t){return qs.DOMException?new qs.DOMException(t,"InvalidStateError"):(Nd==null&&(Nd=class une extends Error{constructor(n){super(n),Error.captureStackTrace&&Error.captureStackTrace(this,une)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(Nd.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),Hz(Nd),Hz(Nd.prototype)),new Nd(t))}var Nd,Wz={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function Hz(t){const e=Object.keys(Wz);for(let n=0;n<e.length;++n){const r=e[n],i=Wz[r];Object.defineProperty(t,r,{get(){return i},configurable:!0,enumerable:!0})}}var mE=class extends Jo{static wrap(t){return new(fne(t))(t)}constructor(t){super(t.type,{bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed}),t.cancelBubble&&super.stopPropagation(),t.defaultPrevented&&super.preventDefault(),dne.set(this,{original:t});const e=Object.keys(t);for(let n=0;n<e.length;++n){const r=e[n];r in this||Object.defineProperty(this,r,hne(t,r))}}stopPropagation(){super.stopPropagation();const{original:t}=yl(this);"stopPropagation"in t&&t.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(t){super.cancelBubble=t;const{original:e}=yl(this);"cancelBubble"in e&&(e.cancelBubble=t)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:t}=yl(this);"stopImmediatePropagation"in t&&t.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(t){super.returnValue=t;const{original:e}=yl(this);"returnValue"in e&&(e.returnValue=t)}preventDefault(){super.preventDefault();const{original:t}=yl(this);"preventDefault"in t&&t.preventDefault()}get timeStamp(){const{original:t}=yl(this);return"timeStamp"in t?t.timeStamp:super.timeStamp}},dne=new WeakMap;function yl(t){const e=dne.get(t);return aM(e!=null,"'this' is expected an Event object, but got",t),e}var P1=new WeakMap;P1.set(Object.prototype,mE);typeof qs<"u"&&typeof qs.Event<"u"&&P1.set(qs.Event.prototype,mE);function fne(t){const e=Object.getPrototypeOf(t);if(e==null)return mE;let n=P1.get(e);return n==null&&(n=TZe(fne(e),e),P1.set(e,n)),n}function TZe(t,e){class n extends t{}const r=Object.keys(e);for(let i=0;i<r.length;++i)Object.defineProperty(n.prototype,r[i],hne(e,r[i]));return n}function hne(t,e){const n=Object.getOwnPropertyDescriptor(t,e);return{get(){const r=yl(this).original,i=r[e];return typeof i=="function"?i.bind(r):i},set(r){const i=yl(this).original;i[e]=r},configurable:n.configurable,enumerable:n.enumerable}}function AZe(t,e,n,r,i,s){return{callback:t,flags:(e?1:0)|(n?2:0)|(r?4:0),signal:i,signalListener:s}}function jZe(t){t.flags|=8}function pne(t){return(t.flags&1)===1}function mne(t){return(t.flags&2)===2}function gne(t){return(t.flags&4)===4}function CZe(t){return(t.flags&8)===8}function PZe({callback:t},e,n){try{typeof t=="function"?t.call(e,n):typeof t.handleEvent=="function"&&t.handleEvent(n)}catch(r){gZe(r)}}function vne({listeners:t},e,n){for(let r=0;r<t.length;++r)if(t[r].callback===e&&pne(t[r])===n)return r;return-1}function kZe(t,e,n,r,i,s){let a;s&&(a=yne.bind(null,t,e,n),s.addEventListener("abort",a));const o=AZe(e,n,r,i,s,a);return t.cow?(t.cow=!1,t.listeners=[...t.listeners,o]):t.listeners.push(o),o}function yne(t,e,n){const r=vne(t,e,n);return r!==-1?xne(t,r):!1}function xne(t,e,n=!1){const r=t.listeners[e];return jZe(r),r.signal&&r.signal.removeEventListener("abort",r.signalListener),t.cow&&!n?(t.cow=!1,t.listeners=t.listeners.filter((i,s)=>s!==e),!1):(t.listeners.splice(e,1),!0)}function NZe(){return Object.create(null)}function IZe(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t[e]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}var gE=class{constructor(){bne.set(this,NZe())}addEventListener(t,e,n){const r=IA(this),{callback:i,capture:s,once:a,passive:o,signal:l,type:u}=OZe(t,e,n);if(i==null||l!=null&&l.aborted)return;const d=IZe(r,u),f=vne(d,i,s);if(f!==-1){MZe(d.listeners[f],o,a,l);return}kZe(d,i,s,o,a,l)}removeEventListener(t,e,n){const r=IA(this),{callback:i,capture:s,type:a}=RZe(t,e,n),o=r[a];i!=null&&o&&yne(o,i,s)}dispatchEvent(t){const e=IA(this)[String(t.type)];if(e==null)return!0;const n=t instanceof Jo?t:mE.wrap(t),r=In(n,"event");if(r.dispatchFlag)throw EZe("This event has been in dispatching.");if(r.dispatchFlag=!0,r.target=r.currentTarget=this,!r.stopPropagationFlag){const{cow:i,listeners:s}=e;e.cow=!0;for(let a=0;a<s.length;++a){const o=s[a];if(!CZe(o)&&(gne(o)&&xne(e,a,!i)&&(a-=1),r.inPassiveListenerFlag=mne(o),PZe(o,this,n),r.inPassiveListenerFlag=!1,r.stopImmediatePropagationFlag))break}i||(e.cow=!1)}return r.target=null,r.currentTarget=null,r.stopImmediatePropagationFlag=!1,r.stopPropagationFlag=!1,r.dispatchFlag=!1,!r.canceledFlag}},bne=new WeakMap;function IA(t,e="this"){const n=bne.get(t);return aM(n!=null,"'%s' must be an object that EventTarget constructor created, but got another one: %o",e,t),n}function OZe(t,e,n){var r;return wne(e),typeof n=="object"&&n!==null?{type:String(t),callback:e??void 0,capture:!!n.capture,passive:!!n.passive,once:!!n.once,signal:(r=n.signal)!==null&&r!==void 0?r:void 0}:{type:String(t),callback:e??void 0,capture:!!n,passive:!1,once:!1,signal:void 0}}function RZe(t,e,n){return wne(e),typeof n=="object"&&n!==null?{type:String(t),callback:e??void 0,capture:!!n.capture}:{type:String(t),callback:e??void 0,capture:!!n}}function wne(t){if(!(typeof t=="function"||typeof t=="object"&&t!==null&&typeof t.handleEvent=="function")){if(t==null||typeof t=="object"){$z.warn(t);return}throw new TypeError(lne($z.message,[t]))}}function MZe(t,e,n,r){SZe.warn(pne(t)?"capture":"bubble",t.callback),mne(t)!==e&&kA.warn("passive"),gne(t)!==n&&kA.warn("once"),t.signal!==r&&kA.warn("signal")}var OA=Object.getOwnPropertyNames(gE.prototype);for(let t=0;t<OA.length;++t)OA[t]!=="constructor"&&Object.defineProperty(gE.prototype,OA[t],{enumerable:!0});typeof qs<"u"&&typeof qs.EventTarget<"u"&&Object.setPrototypeOf(gE.prototype,qs.EventTarget.prototype);var DZe=cZe(pZe()),oM=30720,Uy=512e3,By=256,zv=(t,{minChunkSize:e=By,maxChunkSize:n=Uy}={})=>t==null||typeof t=="number"&&t>=256&&t%256===0&&t>=e&&t<=n,Uv=(t,{minChunkSize:e=By,maxChunkSize:n=Uy}={})=>new TypeError(`chunkSize ${t} must be a positive number in multiples of 256, between ${e} and ${n}`),LZe=class{constructor(t,e={}){this.readableStream=t;var n,r,i;if(!zv(e.defaultChunkSize,e))throw Uv(e.defaultChunkSize,e);this.defaultChunkSize=(n=e.defaultChunkSize)!=null?n:oM,this.minChunkSize=(r=e.minChunkSize)!=null?r:By,this.maxChunkSize=(i=e.maxChunkSize)!=null?i:Uy}get chunkSize(){var t;return(t=this._chunkSize)!=null?t:this.defaultChunkSize}set chunkSize(t){if(!zv(t,this))throw Uv(t,this);this._chunkSize=t}get chunkByteSize(){return this.chunkSize*1024}get error(){return this._error}async*[Symbol.asyncIterator](){let t;const e=this.readableStream.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n){if(t){const s=t;t=void 0,yield s}break}const i=r instanceof Uint8Array?new Blob([r],{type:"application/octet-stream"}):r;for(t=t?new Blob([t,i]):i;t;)if(t.size===this.chunkByteSize){const s=t;t=void 0,yield s;break}else{if(t.size<this.chunkByteSize)break;{const s=t.slice(0,this.chunkByteSize);t=t.slice(this.chunkByteSize),yield s}}}}catch(n){this._error=n}finally{if(t){const n=t;t=void 0,yield n}e.releaseLock();return}}},$Ze=class{constructor(t,e={}){this.file=t;var n,r,i;if(!zv(e.defaultChunkSize,e))throw Uv(e.defaultChunkSize,e);this.defaultChunkSize=(n=e.defaultChunkSize)!=null?n:oM,this.minChunkSize=(r=e.minChunkSize)!=null?r:By,this.maxChunkSize=(i=e.maxChunkSize)!=null?i:Uy}get chunkSize(){var t;return(t=this._chunkSize)!=null?t:this.defaultChunkSize}set chunkSize(t){if(!zv(t,this))throw Uv(t,this);this._chunkSize=t}get chunkByteSize(){return this.chunkSize*1024}get error(){return this._error}async*[Symbol.asyncIterator](){const t=new FileReader;let e=0;const n=()=>new Promise(r=>{if(e>=this.file.size){r(void 0);return}const i=Math.min(this.chunkByteSize,this.file.size-e);t.onload=()=>{t.result!==null?r(new Blob([t.result],{type:"application/octet-stream"})):r(void 0)},t.readAsArrayBuffer(this.file.slice(e,e+i))});try{for(;;){const r=await n();if(r)e+=r.size,yield r;else break}}catch(r){this._error=r}}},VZe=[200,201,202,204,308],_ne=[408,502,503,504],FZe=[308],Sne=(t,e)=>!!t&&VZe.includes(t.statusCode),zZe=(t,{retryCodes:e=_ne})=>!t||e.includes(t.statusCode),UZe=(t,e)=>e.attemptCount>=e.attempts||!(Sne(t)||zZe(t,e)),BZe=(t,e)=>{var n;if(!t||!FZe.includes(t.statusCode)||!((n=t.headers)!=null&&n.range))return!1;const r=t.headers.range.match(/bytes=(\d+)-(\d+)/);return r?parseInt(r[2],10)<e.currentChunkEndByte:!1},Ene=class{static createUpload(t){return new Ene(t)}constructor(t){if(this.eventTarget=new gE,this.endpoint=t.endpoint,this.file=t.file,this.headers=t.headers||{},this.method=t.method||"PUT",this.attempts=t.attempts||5,this.delayBeforeAttempt=t.delayBeforeAttempt||1,this.retryCodes=t.retryCodes||_ne,this.dynamicChunkSize=t.dynamicChunkSize||!1,this.maxFileBytes=(t.maxFileSize||0)*1024,this.chunkCount=0,this.attemptCount=0,this._offline=typeof window<"u"&&!window.navigator.onLine,this._paused=!1,this.success=!1,this.nextChunkRangeStart=0,t.useLargeFileWorkaround){const e=n=>{this.chunkedIterable.error&&(console.warn(`Unable to read file of size ${this.file.size} bytes via a ReadableStream. Falling back to in-memory FileReader!`),n.stopImmediatePropagation(),this.chunkedIterable=new $Ze(this.file,{...t,defaultChunkSize:t.chunkSize}),this.chunkedIterator=this.chunkedIterable[Symbol.asyncIterator](),this.getEndpoint().then(()=>{this.sendChunks()}).catch(r=>{const i=r!=null&&r.message?`: ${r.message}`:"";this.dispatch("error",{message:`Failed to get endpoint${i}`})}),this.off("error",e))};this.on("error",e)}this.chunkedIterable=new LZe(this.file.stream(),{...t,defaultChunkSize:t.chunkSize}),this.chunkedIterator=this.chunkedIterable[Symbol.asyncIterator](),this.totalChunks=Math.ceil(this.file.size/this.chunkByteSize),this.validateOptions(),this.getEndpoint().then(()=>this.sendChunks()).catch(e=>{const n=e!=null&&e.message?`: ${e.message}`:"";this.dispatch("error",{message:`Failed to get endpoint${n}`})}),typeof window<"u"&&(window.addEventListener("online",()=>{this.offline&&(this._offline=!1,this.dispatch("online"),this.sendChunks())}),window.addEventListener("offline",()=>{this.offline||(this._offline=!0,this.dispatch("offline"))}))}get maxChunkSize(){var t,e;return(e=(t=this.chunkedIterable)==null?void 0:t.maxChunkSize)!=null?e:Uy}get minChunkSize(){var t,e;return(e=(t=this.chunkedIterable)==null?void 0:t.minChunkSize)!=null?e:By}get chunkSize(){var t,e;return(e=(t=this.chunkedIterable)==null?void 0:t.chunkSize)!=null?e:oM}set chunkSize(t){this.chunkedIterable.chunkSize=t}get chunkByteSize(){return this.chunkedIterable.chunkByteSize}get totalChunkSize(){return Math.ceil(this.file.size/this.chunkByteSize)}on(t,e){this.eventTarget.addEventListener(t,e)}once(t,e){this.eventTarget.addEventListener(t,e,{once:!0})}off(t,e){this.eventTarget.removeEventListener(t,e)}get offline(){return this._offline}get paused(){return this._paused}abort(){var t;this.pause(),(t=this.currentXhr)==null||t.abort()}pause(){this._paused=!0}resume(){this._paused&&(this._paused=!1,this.sendChunks())}get successfulPercentage(){return this.nextChunkRangeStart/this.file.size}dispatch(t,e){const n=new CustomEvent(t,{detail:e});this.eventTarget.dispatchEvent(n)}validateOptions(){if(!this.endpoint||typeof this.endpoint!="function"&&typeof this.endpoint!="string")throw new TypeError("endpoint must be defined as a string or a function that returns a promise");if(!(this.file instanceof File))throw new TypeError("file must be a File object");if(this.headers&&typeof this.headers!="function"&&typeof this.headers!="object")throw new TypeError("headers must be null, an object, or a function that returns an object or a promise");if(!zv(this.chunkSize,{maxChunkSize:this.maxChunkSize,minChunkSize:this.minChunkSize}))throw Uv(this.chunkSize,{maxChunkSize:this.maxChunkSize,minChunkSize:this.minChunkSize});if(this.maxChunkSize&&(typeof this.maxChunkSize!="number"||this.maxChunkSize<256||this.maxChunkSize%256!==0||this.maxChunkSize<this.chunkSize||this.maxChunkSize<this.minChunkSize))throw new TypeError(`maxChunkSize must be a positive number in multiples of 256, and larger than or equal to both ${this.minChunkSize} and ${this.chunkSize}`);if(this.minChunkSize&&(typeof this.minChunkSize!="number"||this.minChunkSize<256||this.minChunkSize%256!==0||this.minChunkSize>this.chunkSize||this.minChunkSize>this.maxChunkSize))throw new TypeError(`minChunkSize must be a positive number in multiples of 256, and smaller than ${this.chunkSize} and ${this.maxChunkSize}`);if(this.maxFileBytes>0&&this.maxFileBytes<this.file.size)throw new Error(`file size exceeds maximum (${this.file.size} > ${this.maxFileBytes})`);if(this.attempts&&(typeof this.attempts!="number"||this.attempts<=0))throw new TypeError("retries must be a positive number");if(this.delayBeforeAttempt&&(typeof this.delayBeforeAttempt!="number"||this.delayBeforeAttempt<0))throw new TypeError("delayBeforeAttempt must be a positive number")}getEndpoint(){return typeof this.endpoint=="string"?(this.endpointValue=this.endpoint,Promise.resolve(this.endpoint)):this.endpoint(this.file).then(t=>{if(this.endpointValue=t,typeof t!="string")throw new TypeError("endpoint must return a string");return this.endpointValue})}xhrPromise(t){const e=n=>{n.upload.onprogress=r=>{var i;const s=this.totalChunks-this.chunkCount,a=(this.file.size-this.nextChunkRangeStart)/this.file.size/s,l=r.loaded/((i=r.total)!=null?i:this.chunkByteSize)*a;this.dispatch("progress",Math.min((this.successfulPercentage+l)*100,100))}};return new Promise((n,r)=>{this.currentXhr=(0,DZe.default)({...t,beforeSend:e},(i,s)=>(this.currentXhr=void 0,i?r(i):n(s)))})}async sendChunk(t){const e=this.nextChunkRangeStart,n=e+t.size-1,i={...await(typeof this.headers=="function"?this.headers():this.headers),"Content-Type":this.file.type,"Content-Range":`bytes ${e}-${n}/${this.file.size}`};return this.dispatch("attempt",{chunkNumber:this.chunkCount,totalChunks:this.totalChunks,chunkSize:this.chunkSize}),this.xhrPromise({headers:i,url:this.endpointValue,method:this.method,body:t})}async sendChunkWithRetries(t){const e=async(a,o)=>{var l;const d=(new Date().getTime()-this.lastChunkStart.getTime())/1e3;if(this.dispatch("chunkSuccess",{chunk:this.chunkCount,chunkSize:this.chunkSize,attempts:this.attemptCount,timeInterval:d,response:a}),this.attemptCount=0,this.chunkCount=((l=this.chunkCount)!=null?l:0)+1,this.nextChunkRangeStart=this.nextChunkRangeStart+this.chunkByteSize,this.dynamicChunkSize){let f=this.chunkSize;d<10?f=Math.min(this.chunkSize*2,this.maxChunkSize):d>30&&(f=Math.max(this.chunkSize/2,this.minChunkSize)),this.chunkSize=Math.ceil(f/256)*256;const h=(this.file.size-this.nextChunkRangeStart)/this.chunkByteSize;this.totalChunks=Math.ceil(this.chunkCount+h)}return!0},n=async(a,o)=>(this.dispatch("progress",Math.min(this.successfulPercentage*100,100)),this.dispatch("error",{message:`Server responded with ${a.statusCode}. Stopping upload.`,chunk:this.chunkCount,attempts:this.attemptCount,response:a}),!1),r=async(a,o)=>(this.dispatch("attemptFailure",{message:`An error occured uploading chunk ${this.chunkCount}. ${this.attempts-this.attemptCount} retries left.`,chunkNumber:this.chunkCount,attemptsLeft:this.attempts-this.attemptCount,response:a}),new Promise(l=>{setTimeout(async()=>{if(this._paused||this.offline){this.pendingChunk=t,l(!1);return}const u=await this.sendChunkWithRetries(t);l(u)},this.delayBeforeAttempt*1e3)}));let i;try{this.attemptCount=this.attemptCount+1,this.lastChunkStart=new Date,i=await this.sendChunk(t)}catch(a){typeof(a==null?void 0:a.statusCode)=="number"&&(i=a)}const s={retryCodes:this.retryCodes,attemptCount:this.attemptCount,attempts:this.attempts,currentChunkEndByte:this.nextChunkRangeStart+t.size-1};return BZe(i,s)?r(i):Sne(i)?e(i):UZe(i,s)?n(i):r(i)}async sendChunks(){if(this.pendingChunk&&!(this._paused||this.offline)){const t=this.pendingChunk;this.pendingChunk=void 0;const e=await this.sendChunkWithRetries(t);this.success&&e&&this.dispatch("success")}for(;!(this.success||this._paused||this.offline);){const{value:t,done:e}=await this.chunkedIterator.next();let n=!t&&e;if(t&&(n=await this.sendChunkWithRetries(t)),this.chunkedIterable.error){n=!1,this.dispatch("error",{message:`Unable to read file of size ${this.file.size} bytes. Try loading from another browser.`});return}if(this.success=!!e,this.success&&n&&this.dispatch("success"),!n)return}}};function WZe(t){return Ene.createUpload(t)}const jm={MUX:{CREATE_UPLOAD:"/api/mux/create-upload",ASSETS:"/api/mux/assets"},OSS:{UPLOAD_THUMBNAIL:"/api/oss/upload-thumbnail"}},HZe={createUploadUrl:async()=>{var n;const t=await((n=Hr.currentUser)==null?void 0:n.getIdToken());if(!t)throw new Error("Non authentifié");const e=await fetch(jm.MUX.CREATE_UPLOAD,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!e.ok){const r=await e.json();throw new Error(r.error||"Erreur lors de la création de l'URL d'upload")}return e.json()},getAsset:async t=>{var r;const e=await((r=Hr.currentUser)==null?void 0:r.getIdToken());if(!e)throw new Error("Non authentifié");const n=await fetch(`${jm.MUX.ASSETS}?id=${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const i=await n.json();throw new Error(i.error||"Erreur lors de la récupération de l'asset")}return n.json()},listAssets:async(t=1,e=10)=>{var i;const n=await((i=Hr.currentUser)==null?void 0:i.getIdToken());if(!n)throw new Error("Non authentifié");const r=await fetch(`${jm.MUX.ASSETS}?page=${t}&limit=${e}`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Erreur lors de la récupération des assets")}return r.json()},deleteAsset:async t=>{var r;const e=await((r=Hr.currentUser)==null?void 0:r.getIdToken());if(!e)throw new Error("Non authentifié");const n=await fetch(`${jm.MUX.ASSETS}?id=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const i=await n.json();throw new Error(i.error||"Erreur lors de la suppression de l'asset")}return n.json()},getPlaybackUrl:(t,e="mp4")=>e==="mp4"?`https://stream.mux.com/${t}.mp4`:`https://stream.mux.com/${t}.m3u8`,getThumbnailUrl:(t,e=0,n=640)=>`https://image.mux.com/${t}/thumbnail.jpg?time=${e}&width=${n}`},RA=500*1024*1024,qZe=["video/mp4","video/quicktime","video/webm","video/x-matroska","video/x-msvideo","video/mpeg"],KZe=ine({title:C1().min(3,"Le titre doit contenir au moins 3 caractères."),description:C1().optional(),type:sne(["standard","teaser","premium","vip"]),isPremium:rne().default(!1),tokenPrice:nne().min(0,"Le prix doit être positif.").optional()}),GZe=()=>{const{user:t}=Ut(),[e,n]=b.useState(null),[r,i]=b.useState(null),[s,a]=b.useState(null),[o,l]=b.useState(null),u=b.useRef("other"),[d,f]=b.useState(!1),[h,p]=b.useState(0),[g,m]=b.useState(null),[v,y]=b.useState("idle"),x=b.useRef(null),_=ite({resolver:lte(KZe),defaultValues:{title:"",description:"",type:"standard",isPremium:!1,tokenPrice:0}});b.useEffect(()=>{const C=_.watch((k,{name:I})=>{I==="type"&&(_.setValue("isPremium",k.type==="premium"||k.type==="vip"),k.type!=="premium"&&k.type!=="vip"&&_.setValue("tokenPrice",0))});return()=>C.unsubscribe()},[_]);const E=C=>{var I;const k=(I=C.target.files)==null?void 0:I[0];if(k){if(k.size>RA){m(`La taille du fichier dépasse la limite de ${RA/(1024*1024)}MB.`),me.error("Fichier trop volumineux",{description:`La taille du fichier dépasse la limite de ${RA/(1024*1024)}MB.`}),n(null),a(null);return}if(!qZe.includes(k.type)){m("Type de fichier vidéo non supporté."),me.error("Format non supporté",{description:"Veuillez choisir un fichier MP4, MOV, WebM, MKV, AVI ou MPEG."}),n(null),a(null);return}n(k);const N=URL.createObjectURL(k);a(N),m(null);const O=document.createElement("video");O.src=N,O.onloadedmetadata=()=>{const D=O.videoWidth/O.videoHeight;Math.abs(D-16/9)<.1?u.current="16:9":Math.abs(D-9/16)<.1?u.current="9:16":Math.abs(D-1/1)<.1?u.current="1:1":u.current="other"}}},S=C=>{var I;const k=(I=C.target.files)==null?void 0:I[0];k&&(i(k),l(URL.createObjectURL(k)))},j=async()=>{if(!e||!s)return;y("generating_thumbnail");const C=document.createElement("video");C.src=s,C.currentTime=1,C.onloadeddata=()=>{const k=document.createElement("canvas");k.width=C.videoWidth,k.height=C.videoHeight;const I=k.getContext("2d");I?(I.drawImage(C,0,0,k.width,k.height),k.toBlob(N=>{if(N){const O=new File([N],"thumbnail.jpg",{type:"image/jpeg"});i(O),l(URL.createObjectURL(O)),me.success("Miniature générée avec succès!")}y("idle")},"image/jpeg")):(y("error"),m("Impossible de générer la miniature (erreur canvas)."))},C.onerror=()=>{y("error"),m("Erreur lors du chargement de la vidéo pour la miniature."),me.error("Erreur de miniature",{description:"Impossible de charger la vidéo pour générer la miniature."})}},A=()=>{n(null),i(null),s&&URL.revokeObjectURL(s),o&&URL.revokeObjectURL(o),a(null),l(null),_.reset(),f(!1),p(0),m(null),u.current="other",x.current&&(x.current.abort(),x.current=null),y("idle")},T=async C=>{if(!e||!t)return m("Fichier vidéo ou utilisateur manquant."),null;f(!0),p(0),m(null),y("creating_upload");let k;if(r)try{const N=await(V=>new Promise((U,z)=>{const L=new FileReader;L.readAsDataURL(V),L.onload=()=>{const F=L.result.split(",")[1];U(F)},L.onerror=F=>z(F)}))(r),O=await fetch(jm.OSS.UPLOAD_THUMBNAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:r.name,data:N})});if(!O.ok)throw new Error("Erreur lors de l'upload de la miniature");k=(await O.json()).url}catch(I){console.error("Erreur lors de l'upload de la miniature:",I),me.error("Erreur de miniature",{description:"Impossible d'uploader la miniature sur OSS."})}try{const I=await HZe.createUploadUrl();if(!I||!I.url||!I.id)throw new Error("Impossible de préparer l'upload vidéo avec Mux.");const N=I.url;return y("uploading"),new Promise((O,D)=>{x.current=WZe({endpoint:N,file:e,chunkSize:7680}),x.current.on("progress",V=>{p(Math.floor(V.detail))}),x.current.on("success",async()=>{console.log("Video uploaded to Mux successfully!"),f(!1),y("complete"),O({id:"",creatorId:t.uid,title:C.title,description:C.description,thumbnailUrl:k,videoUrl:"",type:C.type,format:u.current==="16:9"||u.current==="9:16"||u.current==="1:1"?u.current:"16:9",isPremium:C.isPremium,tokenPrice:C.tokenPrice,restrictions:void 0,status:"processing",errorDetails:void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),muxUploadId:I.id,muxAssetId:void 0,muxPlaybackId:void 0})}),x.current.on("error",V=>{var U,z,L;console.error("UpChunk upload error:",V.detail),f(!1),m(`Erreur lors du téléversement: ${((U=V.detail)==null?void 0:U.message)||"Erreur UpChunk"}`),y("error"),me.error("Erreur de téléversement",{description:((z=V.detail)==null?void 0:z.message)||"Une erreur est survenue lors du téléversement."}),D(new Error(((L=V.detail)==null?void 0:L.message)||"Erreur UpChunk"))})})}catch(I){return console.error("General upload process error:",I),f(!1),m(I.message||"Une erreur générale est survenue lors de l'upload."),y("error"),me.error("Erreur d'upload",{description:I.message||"Une erreur générale est survenue."}),null}};return{form:_,videoFile:e,thumbnailFile:r,videoPreviewUrl:s,thumbnailPreviewUrl:o,videoFormat:u.current,isUploading:d,uploadProgress:h,uploadError:g,uploadStage:v,handleVideoChange:E,handleThumbnailChange:S,generateThumbnail:j,resetForm:A,uploadVideoAndSaveMetadata:T,setUploadError:m}},YZe=({onUploadComplete:t,isCreator:e,className:n})=>{const[r,i]=b.useState(!1),{triggerMicroReward:s}=gn(),{user:a}=Ut(),{videoFile:o,thumbnailFile:l,videoPreviewUrl:u,thumbnailPreviewUrl:d,videoFormat:f,isUploading:h,uploadProgress:p,uploadError:g,uploadStage:m,handleVideoChange:v,handleThumbnailChange:y,generateThumbnail:x,resetForm:_,uploadVideoAndSaveMetadata:E,setUploadError:S}=GZe();b.useEffect(()=>{r&&!a&&(me("Authentification requise",{description:"Vous devez être connecté pour téléverser des vidéos."}),i(!1))},[r,a]);const j=A=>{t(A),A&&typeof A.id=="number"?(s("interaction"),me("Vidéo initiée",{description:"Votre vidéo est en cours de téléchargement et de traitement."})):me("Échec de l'initiation de l'upload",{description:"Une erreur s'est produite et l'upload n'a pas pu être démarré."}),setTimeout(()=>{i(!1),_()},A?1e3:3e3)};return c.jsxs(c.Fragment,{children:[e&&c.jsxs(K,{onClick:()=>{console.log("Uploader une vidéo cliqué"),i(!0)},className:n,size:"sm",children:[c.jsx(s2,{className:"mr-2 h-4 w-4"}),"Uploader une vidéo"]}),c.jsx(Zo,{open:r,onOpenChange:A=>{i(A),A||_()},children:c.jsxs(Ya,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(Oc,{children:c.jsx(Rc,{children:"Uploader une vidéo"})}),a?c.jsx(rZe,{videoFile:o,thumbnailFile:l,videoPreviewUrl:u,thumbnailPreviewUrl:d,videoFormat:f,isUploading:h,uploadProgress:p,uploadError:g,uploadStage:m,handleVideoChange:v,handleThumbnailChange:y,generateThumbnail:x,resetForm:_,onClose:()=>{i(!1),_()},onSubmit:async A=>{if(!o){me("Information manquante",{description:"Veuillez fournir une vidéo et un titre."});return}try{const T=await E(A);j(T)}catch(T){console.error("Upload process error (caught in onSubmit):",T),S(T.message||"Une erreur s'est produite lors du téléchargement de votre vidéo."),me("Erreur de téléchargement",{description:T.message||"Une erreur s'est produite lors du téléchargement de votre vidéo."}),j(null)}}}):c.jsxs("div",{className:"p-4 text-center",children:[c.jsx("p",{children:"Vous devez être connecté pour téléverser des vidéos."}),c.jsx(K,{onClick:()=>i(!1),className:"mt-4",children:"Fermer"})]})]})})]})},XZe=({onUploadComplete:t})=>{const{isCreator:e}=Ut();return console.log("VideoHeader rendu, isCreator =",e),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Mes Vidéos"}),c.jsx("p",{className:"text-muted-foreground",children:"Gérez vos vidéos et suivez leurs performances"})]}),e&&c.jsx(YZe,{onUploadComplete:t,isCreator:!0})]})},Bv=b.forwardRef(({className:t,...e},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:G("w-full caption-bottom text-sm",t),...e})}));Bv.displayName="Table";const Wv=b.forwardRef(({className:t,...e},n)=>c.jsx("thead",{ref:n,className:G("[&_tr]:border-b",t),...e}));Wv.displayName="TableHeader";const Hv=b.forwardRef(({className:t,...e},n)=>c.jsx("tbody",{ref:n,className:G("[&_tr:last-child]:border-0",t),...e}));Hv.displayName="TableBody";const QZe=b.forwardRef(({className:t,...e},n)=>c.jsx("tfoot",{ref:n,className:G("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));QZe.displayName="TableFooter";const Oi=b.forwardRef(({className:t,...e},n)=>c.jsx("tr",{ref:n,className:G("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Oi.displayName="TableRow";const Mn=b.forwardRef(({className:t,...e},n)=>c.jsx("th",{ref:n,className:G("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Mn.displayName="TableHead";const kt=b.forwardRef(({className:t,...e},n)=>c.jsx("td",{ref:n,className:G("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));kt.displayName="TableCell";const ZZe=b.forwardRef(({className:t,...e},n)=>c.jsx("caption",{ref:n,className:G("mt-4 text-sm text-muted-foreground",t),...e}));ZZe.displayName="TableCaption";const JZe=({videoId:t,isOpen:e,onClose:n})=>{const[r,i]=b.useState(null),[s,a]=b.useState(null),[o,l]=b.useState(!0),[u,d]=b.useState("overview");b.useEffect(()=>{e&&t!==null?(l(!0),i(null),a(null),(async()=>{try{const p=await k_e(t);p?(i(p),f()):(console.error("Video not found for analytics"),l(!1))}catch(p){console.error("Error fetching video details for analytics:",p),l(!1)}})()):e||(i(null),a(null),l(!0),d("overview"))},[e,t]);const f=()=>{const h={views:Math.floor(Math.random()*15e3)+500,uniqueViewers:Math.floor(Math.random()*8e3)+300,watchTime:Math.floor(Math.random()*100)+20,completionRate:Math.random()*.5+.4,revenue:Math.floor(Math.random()*1e3)+50,likes:Math.floor(Math.random()*2e3)+100,comments:Math.floor(Math.random()*300)+10,shares:Math.floor(Math.random()*500)+20,dailyViews:[],engagement:[{name:"Likes",value:0},{name:"Comments",value:0},{name:"Shares",value:0},{name:"Saves",value:Math.floor(Math.random()*400)+30}],revenueBreakdown:[{source:"Premium Access",amount:0},{source:"Tips",amount:Math.floor(Math.random()*200)+20},{source:"Sponsorships",amount:Math.floor(Math.random()*300)+30}]},p=new Date;for(let y=29;y>=0;y--){const x=new Date(p);x.setDate(x.getDate()-y);const _=x.toISOString().split("T")[0];h.dailyViews.push({date:_,views:Math.floor(Math.random()*500)+10})}h.engagement[0].value=h.likes,h.engagement[1].value=h.comments,h.engagement[2].value=h.shares;const g=Math.floor(h.revenue*.6),m=Math.floor(h.revenue*.2),v=h.revenue-g-m;h.revenueBreakdown[0].amount=g,h.revenueBreakdown[1].amount=m,h.revenueBreakdown[2].amount=v,a(h),l(!1)};return e?c.jsx(Zo,{open:e,onOpenChange:h=>!h&&n(),children:c.jsxs(Ya,{className:"sm:max-w-4xl",children:[c.jsx(Oc,{children:c.jsx(Rc,{className:"text-xl font-bold",children:o||!r?"Chargement des statistiques...":`Statistiques: ${r==null?void 0:r.title}`})}),o||!s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Zr,{defaultValue:"overview",value:u,onValueChange:d,children:[c.jsxs(Dr,{className:"grid grid-cols-4 mb-4",children:[c.jsx(Je,{value:"overview",children:"Vue d'ensemble"}),c.jsx(Je,{value:"engagement",children:"Engagement"}),c.jsx(Je,{value:"revenue",children:"Revenus"}),c.jsx(Je,{value:"audience",children:"Audience"})]}),c.jsxs(mt,{value:"overview",className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Fe,{children:c.jsx(Ue,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Vues totales"}),c.jsx("p",{className:"text-2xl font-bold",children:wd(s.views)})]}),c.jsx(id,{className:"h-5 w-5 text-blue-500"})]})})}),c.jsx(Fe,{children:c.jsx(Ue,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Taux d'achèvement"}),c.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(s.completionRate*100),"%"]})]}),c.jsx(Zh,{className:"h-5 w-5 text-green-500"})]})})}),c.jsx(Fe,{children:c.jsx(Ue,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenus"}),c.jsxs("p",{className:"text-2xl font-bold",children:[s.revenue," €"]})]}),c.jsx(JI,{className:"h-5 w-5 text-amber-500"})]})})}),c.jsx(Fe,{children:c.jsx(Ue,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Engagement"}),c.jsx("p",{className:"text-2xl font-bold",children:s.likes+s.comments+s.shares})]}),c.jsx(zge,{className:"h-5 w-5 text-purple-500"})]})})})]}),c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Vues au fil du temps"})}),c.jsx(Ue,{children:c.jsx(_u,{config:{views:{label:"Vues",color:"#4f46e5"}},className:"aspect-[4/3] md:aspect-[2/1] lg:aspect-[3/1]",children:c.jsx(fa,{width:"100%",height:300,children:c.jsxs(BZ,{data:s.dailyViews,children:[c.jsx(Ml,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Vi,{dataKey:"date",tickFormatter:h=>new Date(h).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),tick:{fontSize:12},tickMargin:10}),c.jsx(Fi,{}),c.jsx($x,{content:({active:h,payload:p,label:g})=>h&&p&&p.length?c.jsx(rg,{label:new Date(g).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),payload:p}):null}),c.jsx(rc,{type:"monotone",dataKey:"views",name:"views",stroke:"#4f46e5",strokeWidth:2,dot:!1})]})})})})]})]}),c.jsx(mt,{value:"engagement",className:"space-y-4",children:c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Statistiques d'engagement"})}),c.jsxs(Ue,{children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"J'aime"}),c.jsx("p",{className:"text-2xl font-bold",children:wd(s.likes)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Commentaires"}),c.jsx("p",{className:"text-2xl font-bold",children:wd(s.comments)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Partages"}),c.jsx("p",{className:"text-2xl font-bold",children:wd(s.shares)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Enregistrements"}),c.jsx("p",{className:"text-2xl font-bold",children:wd(s.engagement[3].value)})]})]}),c.jsx(_u,{config:{engagement:{label:"Engagement",color:"#8b5cf6"}},className:"aspect-[3/2]",children:c.jsx(fa,{width:"100%",height:300,children:c.jsxs(_k,{data:s.engagement,children:[c.jsx(Ml,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Vi,{dataKey:"name"}),c.jsx(Fi,{}),c.jsx($x,{content:c.jsx(rg,{})}),c.jsx(Di,{dataKey:"value",name:"engagement",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]})]})}),c.jsx(mt,{value:"revenue",className:"space-y-4",children:c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Aperçu des revenus"})}),c.jsxs(Ue,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"text-3xl font-bold mb-1",children:[s.revenue," €"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenus totaux générés par cette vidéo"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Revenus par source"}),c.jsxs(Bv,{children:[c.jsx(Wv,{children:c.jsxs(Oi,{children:[c.jsx(Mn,{children:"Source"}),c.jsx(Mn,{className:"text-right",children:"Montant"}),c.jsx(Mn,{className:"text-right",children:"Pourcentage"})]})}),c.jsx(Hv,{children:s.revenueBreakdown.map(h=>c.jsxs(Oi,{children:[c.jsx(kt,{children:h.source}),c.jsxs(kt,{className:"text-right",children:[h.amount," €"]}),c.jsxs(kt,{className:"text-right",children:[s.revenue?Math.round(h.amount/s.revenue*100):0,"%"]})]},h.source))})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Répartition des revenus"}),c.jsx(_u,{config:{revenue:{label:"Revenus",color:"#f59e0b"}},children:c.jsx(fa,{width:"100%",height:250,children:c.jsxs(_k,{data:s.revenueBreakdown,children:[c.jsx(Ml,{strokeDasharray:"3 3",vertical:!1}),c.jsx(Vi,{dataKey:"source"}),c.jsx(Fi,{}),c.jsx($x,{content:c.jsx(rg,{})}),c.jsx(Di,{dataKey:"amount",name:"revenue",fill:"#f59e0b",radius:[4,4,0,0]})]})})})]})]})]})]})}),c.jsx(mt,{value:"audience",className:"space-y-4",children:c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Informations sur l'audience"})}),c.jsxs(Ue,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Spectateurs uniques"}),c.jsx("p",{className:"text-2xl font-bold",children:wd(s.uniqueViewers)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Temps de visionnage (heures)"}),c.jsx("p",{className:"text-2xl font-bold",children:s.watchTime})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Statistiques de rétention"}),c.jsxs("div",{className:"bg-muted rounded-md p-4",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Taux d'achèvement"}),c.jsxs("span",{className:"font-medium",children:[Math.round(s.completionRate*100),"%"]})]}),c.jsx("div",{className:"w-full bg-muted-foreground/20 rounded-full h-2.5",children:c.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${Math.round(s.completionRate*100)}%`}})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Sources de trafic"}),c.jsxs(Bv,{children:[c.jsx(Wv,{children:c.jsxs(Oi,{children:[c.jsx(Mn,{children:"Source"}),c.jsx(Mn,{className:"text-right",children:"Vues"}),c.jsx(Mn,{className:"text-right",children:"Pourcentage"})]})}),c.jsxs(Hv,{children:[c.jsxs(Oi,{children:[c.jsx(kt,{children:"Profil"}),c.jsx(kt,{className:"text-right",children:Math.round(s.views*.45)}),c.jsx(kt,{className:"text-right",children:"45%"})]}),c.jsxs(Oi,{children:[c.jsx(kt,{children:"Recherche"}),c.jsx(kt,{className:"text-right",children:Math.round(s.views*.25)}),c.jsx(kt,{className:"text-right",children:"25%"})]}),c.jsxs(Oi,{children:[c.jsx(kt,{children:"Externe"}),c.jsx(kt,{className:"text-right",children:Math.round(s.views*.18)}),c.jsx(kt,{className:"text-right",children:"18%"})]}),c.jsxs(Oi,{children:[c.jsx(kt,{children:"Recommendations"}),c.jsx(kt,{className:"text-right",children:Math.round(s.views*.12)}),c.jsx(kt,{className:"text-right",children:"12%"})]})]})]})]})]})]})]})})]}),c.jsx("div",{className:"flex justify-end pt-2",children:c.jsx(yGe,{asChild:!0,children:c.jsx(K,{variant:"outline",onClick:n,children:"Fermer"})})})]})]})}):null},eJe=()=>{console.log("CreatorVideos rendu");const{user:t}=Ut(),{creatorId:e}=S9();Xi();const[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(null),[l,u]=b.useState(!1),d=async()=>{if(e)try{const g=await nG(e);console.log("Vidéos récupérées:",g),r(g)}catch(g){console.error("Error fetching videos:",g),me.error("Erreur lors de la récupération des vidéos")}finally{s(!1)}};b.useEffect(()=>{d()},[e]);const f=g=>{console.log("Upload terminé, nouvelle vidéo:",g),g&&r(m=>[g,...m])},h=async g=>{console.warn("La suppression de vidéo nécessite une fonction backend pour supprimer de MUX."),me.error("La suppression de vidéo n'est pas encore implémentée")},p=g=>{o(g),u(!0)};return c.jsxs("div",{className:"container mx-auto p-4",children:[c.jsx(XZe,{onUploadComplete:f}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(g=>c.jsxs(Fe,{className:"relative",children:[c.jsx(st,{children:c.jsx(dt,{className:"text-lg",children:g.title})}),c.jsxs(Ue,{children:[g.thumbnailUrl&&c.jsx("img",{src:g.thumbnailUrl,alt:g.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:g.description}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:g.isPremium?"Premium":"Gratuit"}),c.jsxs("div",{className:"space-x-2",children:[c.jsx("button",{className:"btn btn-outline btn-sm",onClick:()=>p(g.id),children:"Analytics"}),c.jsx("button",{className:"btn btn-destructive btn-sm",onClick:()=>h(g.id),children:"Supprimer"})]})]})]})]},g.id))}),a&&c.jsx(JZe,{isOpen:l,onClose:()=>{u(!1),o(null)},videoId:a})]})},tJe=async(t,e)=>{const n=new TextEncoder,r=await window.crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},Tne=async(t,e)=>{try{const{data:n,iv:r,salt:i}=t,s=new TextDecoder,a=MA(i),o=await tJe(e,new Uint8Array(a)),l=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(MA(r))},o,MA(n));return s.decode(l)}catch(n){throw console.error("Erreur lors du déchiffrement:",n),new Error("Échec du déchiffrement du message")}},nJe=t=>{const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return window.btoa(n)},MA=t=>{const e=window.atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer},Wk=()=>{const t=window.crypto.getRandomValues(new Uint8Array(32));return nJe(t.buffer)},DA=t=>t&&typeof t=="object"&&"data"in t&&"iv"in t&&"salt"in t,LA=({content:t,userTier:e,userTokenBalance:n,sessionKey:r,onUnlock:i,onLike:s,onComment:a,className:o})=>{const[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(null),[g,m]=b.useState(!1),[v,y]=b.useState(0),{toast:x}=br(),{triggerMicroReward:_}=gn(),E=()=>{const N={free:0,fan:1,superfan:2,vip:3,exclusive:4};return N[e]>=N[t.restrictions.tier]},S=()=>t.restrictions.tokenPrice?n>=t.restrictions.tokenPrice:!0,j=E()||S(),A=()=>{if(!j)return;u(!0);let N=0;const O=setInterval(()=>{var D;if(N+=5,y(N),N>=100){if(clearInterval(O),(D=t.encryption)!=null&&D.isEncrypted&&r&&t.encryption.encryptedData)try{(async()=>{try{const V=await Tne(t.encryption.encryptedData,r);p(V)}catch(V){console.error("Erreur de déchiffrement:",V),x({title:"Erreur de déchiffrement",description:"Impossible de déchiffrer ce contenu.",variant:"destructive"})}})()}catch(V){console.error("Erreur de déchiffrement:",V),x({title:"Erreur de déchiffrement",description:"Impossible de déchiffrer ce contenu.",variant:"destructive"})}f(!0),u(!1),i(),_("navigate"),x({title:"Contenu déverrouillé",description:"Profitez de ce contenu exclusif!"})}},50)},T=()=>{m(!g),g||(s(),_("navigate"),x({title:"Vous aimez ce contenu",description:"Merci pour votre appréciation!"}))},C=()=>{switch(t.type){case"premium":return{label:"Premium",color:"bg-amber-500",textColor:"text-amber-500"};case"vip":return{label:"VIP",color:"bg-purple-500",textColor:"text-purple-500"};default:return{label:"Standard",color:"bg-primary",textColor:"text-primary"}}},k=N=>{const O=new Date(N),V=Math.floor((new Date().getTime()-O.getTime())/1e3);return V<60?"moins d'une minute":V<3600?`${Math.floor(V/60)} min`:V<86400?`${Math.floor(V/3600)} h`:`${Math.floor(V/86400)} j`},I=C();return c.jsxs(Fe,{className:o,children:[c.jsx(st,{className:"relative px-4 pb-0",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:t.creator.avatar,alt:t.creator.name,className:"w-8 h-8 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium",children:t.creator.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.restrictions.expiresAt&&`Expire dans ${k(t.restrictions.expiresAt)}`})]})]}),c.jsxs($n,{variant:"outline",className:`flex items-center gap-1 ${I.textColor}`,children:[c.jsx(O_,{size:12}),I.label]})]})}),c.jsx(Ue,{className:"px-4 pt-3",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"relative rounded-lg overflow-hidden aspect-video bg-muted/50",children:d?c.jsx(Oo,{mode:"wait",children:c.jsx(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},transition:{duration:.3},className:"w-full h-full",children:t.type==="standard"||t.type==="premium"?c.jsx("img",{src:h||t.mediaUrl,alt:t.title,className:"w-full h-full object-cover"}):c.jsx("video",{src:h||t.mediaUrl,poster:t.thumbnailUrl,controls:!0,className:"w-full h-full object-cover"})})}):c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover blur-sm"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center p-4",children:l?c.jsxs("div",{className:"space-y-2 w-2/3",children:[c.jsx("p",{className:"text-center text-white text-sm mb-4",children:"Déverrouillage en cours..."}),c.jsx(tE,{value:v,className:"w-full"})]}):c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"bg-black/30 rounded-full p-4 backdrop-blur-sm",children:c.jsx(Mu,{size:32,className:"text-white"})}),c.jsx("h3",{className:"text-white font-medium",children:t.title}),c.jsx("p",{className:"text-white/80 text-sm",children:t.description}),t.restrictions.tokenPrice?c.jsxs(K,{onClick:A,disabled:!S()||l,className:"mt-2 w-full md:w-auto",children:["Déverrouiller (",t.restrictions.tokenPrice," tokens)"]}):c.jsx(K,{onClick:A,disabled:!E()||l,className:"mt-2 w-full md:w-auto",children:E()?"Déverrouiller":"Abonnement requis"})]})})]})}),d&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium",children:t.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),c.jsxs("div",{className:"flex items-center justify-between pt-2",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(K,{variant:"ghost",size:"sm",className:G("flex items-center gap-1 px-2",g&&"text-red-500"),onClick:T,children:[c.jsx(er,{size:18,fill:g?"currentColor":"none"}),c.jsx("span",{children:g?t.stats.likes+1:t.stats.likes})]}),c.jsxs(K,{variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",onClick:a,children:[c.jsx(id,{size:18}),c.jsx("span",{children:t.stats.views})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[t.restrictions.downloadsAllowed&&c.jsx(K,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:c.jsx(Zge,{size:18})}),t.restrictions.sharingAllowed&&c.jsx(K,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:c.jsx(pve,{size:18})})]})]})]})]})})]})},qz=[{id:"ec1",title:"Séance photo privée: Sunset Vibes",description:"Collection exclusive de photos prises lors d'une séance au coucher du soleil.",type:"premium",mediaUrl:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&auto=format&fit=crop",thumbnailUrl:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=800&auto=format&fit=crop&blur=10",creator:{id:"creator123",name:"Sarah K.",avatar:"https://avatars.githubusercontent.com/u/124599?v=4"},stats:{likes:324,views:1250,shares:47,comments:28},encryption:{isEncrypted:!0,accessKey:"exclusive-123"},restrictions:{tier:"fan",tokenPrice:50,expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString(),viewLimit:10,downloadsAllowed:!0,sharingAllowed:!1}},{id:"ec2",title:"Behind the scenes: Fashion Week",description:"Accédez aux coulisses exclusives de mon shooting lors de la Paris Fashion Week.",type:"vip",mediaUrl:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&auto=format&fit=crop",thumbnailUrl:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&auto=format&fit=crop&blur=10",creator:{id:"creator123",name:"Sarah K.",avatar:"https://avatars.githubusercontent.com/u/124599?v=4"},stats:{likes:586,views:2140,shares:112,comments:74},encryption:{isEncrypted:!0,accessKey:"exclusive-456"},restrictions:{tier:"vip",tokenPrice:150,viewLimit:5,downloadsAllowed:!1,sharingAllowed:!1}},{id:"ec3",title:"Tutoriel retouche avancée",description:"Apprenez mes techniques professionnelles de retouche photo et vidéo.",type:"premium",mediaUrl:"https://images.unsplash.com/photo-1542395765-761f1b5f9a55?w=800&auto=format&fit=crop",thumbnailUrl:"https://images.unsplash.com/photo-1542395765-761f1b5f9a55?w=800&auto=format&fit=crop&blur=10",creator:{id:"creator123",name:"Sarah K.",avatar:"https://avatars.githubusercontent.com/u/124599?v=4"},stats:{likes:432,views:1870,shares:92,comments:53},encryption:{isEncrypted:!1},restrictions:{tier:"superfan",tokenPrice:75,downloadsAllowed:!0,sharingAllowed:!0}}],rJe=()=>{cK();const[t,e]=b.useState("all"),[n]=b.useState("fan"),[r]=b.useState(250),{triggerMicroReward:i}=gn(),[s]=b.useState(()=>{const d={};return qz.forEach(f=>{var h;(h=f.encryption)!=null&&h.isEncrypted&&(d[f.id]=Wk())}),d}),a=qz.map(d=>{var f;return(f=d.encryption)!=null&&f.isEncrypted&&s[d.id]?{...d,encryption:{...d.encryption,encryptedData:{data:"encrypted_data_placeholder",iv:"iv_placeholder",salt:"salt_placeholder",timestamp:Date.now()}}}:d}),o=()=>{me.success("Contenu déverrouillé"),i("action")},l=()=>{me.success("Contenu liké"),i("action")},u=()=>{me("Fonctionnalité à venir"),i("interaction")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20",children:c.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[c.jsx("header",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Wr,{to:"/",className:"hover:opacity-80",children:c.jsx(K,{variant:"ghost",size:"icon",className:"rounded-full",children:c.jsx(j_,{size:20})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Contenu Exclusif"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Accédez à du contenu premium et VIP"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs($n,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(Mu,{size:14}),n.toUpperCase()]}),c.jsxs($n,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(O_,{size:14}),r," tokens"]})]})]})}),c.jsx("div",{className:"space-y-6",children:c.jsxs(Zr,{defaultValue:"all",value:t,onValueChange:e,children:[c.jsxs(Dr,{className:"w-full md:w-auto",children:[c.jsx(Je,{value:"all",children:"Tout"}),c.jsx(Je,{value:"premium",children:"Premium"}),c.jsx(Je,{value:"vip",children:"VIP"}),c.jsx(Je,{value:"favorites",children:"Favoris"})]}),c.jsx(mt,{value:"all",className:"mt-6",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(d=>{var f;return c.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:c.jsx(LA,{content:d,userTier:n,userTokenBalance:r,sessionKey:(f=d.encryption)!=null&&f.isEncrypted?s[d.id]:void 0,onUnlock:o,onLike:l,onComment:u})},d.id)})})}),c.jsx(mt,{value:"premium",className:"mt-6",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.filter(d=>d.type==="premium").map(d=>{var f;return c.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:c.jsx(LA,{content:d,userTier:n,userTokenBalance:r,sessionKey:(f=d.encryption)!=null&&f.isEncrypted?s[d.id]:void 0,onUnlock:o,onLike:l,onComment:u})},d.id)})})}),c.jsx(mt,{value:"vip",className:"mt-6",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.filter(d=>d.type==="vip").map(d=>{var f;return c.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:c.jsx(LA,{content:d,userTier:n,userTokenBalance:r,sessionKey:(f=d.encryption)!=null&&f.isEncrypted?s[d.id]:void 0,onUnlock:o,onLike:l,onComment:u})},d.id)})})}),c.jsx(mt,{value:"favorites",className:"mt-6",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(er,{size:48,className:"text-muted-foreground/30 mb-4"}),c.jsx("h3",{className:"text-xl font-medium mb-2",children:"Aucun favori"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Vous n'avez pas encore ajouté de contenu exclusif à vos favoris. Explorez notre catalogue et cliquez sur l'icône de cœur pour en ajouter."})]})})]})})]})})};var iJe={};const Tp=()=>{const{user:t}=Ut(),[e,n]=b.useState({wallet:null,transactions:[],subscription:null}),[r,i]=b.useState(!1),s=b.useCallback(async()=>{var o,l,u;if(t!=null&&t.id){i(!0);try{const d=await fetch(`${iJe.NEXT_PUBLIC_API_URL}/tron/wallet?user_id=${t.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();n({wallet:{balance_usdt:((o=f.wallet)==null?void 0:o.balance_usdt)||0,is_verified:((l=f.wallet)==null?void 0:l.is_verified)||!1,tron_address:((u=f.wallet)==null?void 0:u.tron_address)||null},transactions:f.transactions||[],subscription:f.subscription||null})}catch(d){console.error("Could not fetch wallet info:",d),me.error(`Erreur de chargement du wallet: ${d.message}`)}finally{i(!1)}}},[t==null?void 0:t.id,me]);return b.useEffect(()=>{s()},[s]),{walletInfo:e,isLoading:r,getWalletInfo:()=>{s()}}};function sJe(){const[t,e]=b.useState(null),[n,r]=b.useState({installed:!1,loggedIn:!1,name:null,address:null,network:null,balance:null}),[i,s]=b.useState(!0),[a,o]=b.useState(null);b.useEffect(()=>{(async()=>{try{if(s(!0),o(null),window.tronWeb&&window.tronLink){r(v=>({...v,installed:!0})),window.tronLink.ready||await new Promise(v=>{const y=()=>{var x;(x=window.tronLink)!=null&&x.ready?v():setTimeout(y,100)};y()});const m=window.tronWeb;if(e(m),m&&m.defaultAddress.base58){const v=m.defaultAddress.base58,y=h(m),_=await m.trx.getBalance(v)/1e6;r({installed:!0,loggedIn:!0,name:"TronLink",address:v,network:y,balance:_})}else r(v=>({...v,loggedIn:!1}))}else r({installed:!1,loggedIn:!1,name:null,address:null,network:null,balance:null})}catch(m){console.error("Error initializing TronWeb:",m),o("Failed to initialize TronWeb")}finally{s(!1)}})();const g=()=>{window.location.reload()};return window.tronLink&&window.addEventListener("message",m=>{m.data.message&&m.data.message.action==="accountsChanged"&&g(),m.data.message&&m.data.message.action==="connectWeb"&&g(),m.data.message&&m.data.message.action==="disconnect"&&g()}),()=>{window.removeEventListener("message",g)}},[]);const l=async()=>{try{if(!window.tronLink)throw window.open("https://www.tronlink.org/","_blank"),new Error("TronLink n'est pas installé. Veuillez installer TronLink et rafraîchir la page.");if(await window.tronLink.request({method:"tron_requestAccounts"}),window.tronWeb&&window.tronWeb.defaultAddress.base58){const p=window.tronWeb.defaultAddress.base58,g=h(window.tronWeb),v=await window.tronWeb.trx.getBalance(p)/1e6;return r({installed:!0,loggedIn:!0,name:"TronLink",address:p,network:g,balance:v}),e(window.tronWeb),!0}return!1}catch(p){console.error("Error connecting wallet:",p);const g=p instanceof Error?p.message:"Erreur lors de la connexion du portefeuille";return o(g),me.error(g),!1}},u=()=>{r({installed:!0,loggedIn:!1,name:null,address:null,network:null,balance:null}),e(null),me.info("Portefeuille déconnecté")},d=async()=>{if(t&&n.address)try{const g=await t.trx.getBalance(n.address)/1e6;return r(m=>({...m,balance:g})),g}catch(p){return console.error("Error refreshing balance:",p),null}return null},f=()=>t?h(t)!=="Mainnet"?(me.error("Veuillez vous connecter au réseau principal TRON"),!1):!0:!1;function h(p){const g=p.fullNode.host;return g.includes("api.trongrid.io")?"Mainnet":g.includes("api.shasta.trongrid.io")?"Shasta Testnet":g.includes("api.nile.trongrid.io")?"Nile Testnet":"Unknown Network"}return{tronWeb:t,walletState:n,loading:i,error:a,connectWallet:l,disconnectWallet:u,refreshBalance:d,checkNetwork:f}}const aJe=({onWalletConnect:t})=>{const{walletState:e,loading:n,error:r,connectWallet:i,disconnectWallet:s,refreshBalance:a}=sJe(),[o,l]=b.useState(!1);b.useEffect(()=>{e.address&&e.loggedIn&&t(e.address)},[e.address,e.loggedIn,t]);const u=async()=>{try{await i()&&e.address&&me.success("Portefeuille TronLink connecté avec succès")}catch(m){console.error("Connection error:",m),me.error("Erreur lors de la connexion à TronLink")}},d=()=>{s(),me.info("Portefeuille TronLink déconnecté")},f=async()=>{const m=await a();m!==null?me.success(`Solde mis à jour: ${m} TRX`):me.error("Impossible de récupérer le solde")},h=()=>{e.address&&(navigator.clipboard.writeText(e.address),l(!0),me.success("Adresse copiée dans le presse-papier"),setTimeout(()=>l(!1),2e3))};if(!e.installed)return c.jsx(Fe,{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border-amber-200 dark:border-amber-800",children:c.jsx(Ue,{className:"p-6 text-center",children:c.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[c.jsx(Fs,{className:"h-12 w-12 text-amber-500 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"TronLink n'est pas installé"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Pour connecter votre portefeuille TRON, vous devez d'abord installer l'extension TronLink."}),c.jsxs(K,{className:"bg-amber-500 hover:bg-amber-600",onClick:()=>window.open("https://www.tronlink.org/","_blank"),children:[c.jsx(O_,{className:"h-4 w-4 mr-2"}),"Installer TronLink"]})]})})});if(n)return c.jsx("div",{className:"flex justify-center items-center h-32",children:c.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})});if(r)return c.jsxs("div",{className:"bg-destructive/20 text-destructive p-4 rounded-lg",children:[c.jsx("p",{className:"font-medium",children:"Erreur de connexion:"}),c.jsx("p",{className:"text-sm",children:r}),c.jsx(K,{variant:"destructive",className:"mt-2",size:"sm",onClick:u,children:"Réessayer"})]});if(!e.loggedIn)return c.jsx(Fe,{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 border-amber-200 dark:border-amber-800",children:c.jsx(Ue,{className:"p-6 text-center",children:c.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[c.jsx(Fs,{className:"h-12 w-12 text-amber-500 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Connecter TronLink"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connectez votre portefeuille TronLink pour interagir avec la blockchain TRON."}),c.jsx(K,{className:"bg-amber-500 hover:bg-amber-600",onClick:u,children:"Connecter TronLink"})]})})});const g=e.network==="Mainnet"?"text-green-500":"text-amber-500";return c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Portefeuille TronLink connecté"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-secondary/30 p-4 rounded-lg space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Adresse"}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:h,children:c.jsx(z7,{className:"h-3.5 w-3.5"})}),c.jsx(K,{variant:"ghost",size:"icon",className:"h-6 w-6",asChild:!0,children:c.jsx("a",{href:`https://tronscan.org/#/address/${e.address}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx(e2,{className:"h-3.5 w-3.5"})})})]})]}),c.jsx("div",{className:"font-mono text-xs bg-primary/10 p-2 rounded break-all",children:e.address}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Réseau"}),c.jsx("div",{className:`font-medium ${g}`,children:e.network})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Solde TRX"}),c.jsxs("div",{className:"font-medium",children:[e.balance," TRX"]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",size:"sm",onClick:f,className:"flex-1",children:[c.jsx(k_,{className:"h-4 w-4 mr-1"}),"Actualiser"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:d,className:"flex-1",children:"Déconnecter"})]}),c.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 dark:bg-amber-900/20 p-3 rounded",children:[c.jsx("p",{className:"font-medium mb-1",children:"Note importante:"}),c.jsx("p",{children:"Utilisez cette connexion TronLink pour vérifier votre portefeuille de la plateforme ou effectuer des paiements directs vers le portefeuille de la plateforme."})]})]})]})})},Ane=({walletInfo:t})=>{var m,v;const[e,n]=b.useState(""),[r,i]=b.useState(""),[s,a]=b.useState(!1),{requestWithdrawal:o}=Tp(),[l,u]=b.useState("wallet"),d=((m=t==null?void 0:t.wallet)==null?void 0:m.tron_address)||"",f=((v=t==null?void 0:t.wallet)==null?void 0:v.balance_usdt)||0,h=()=>{d&&(navigator.clipboard.writeText(d),me.success("Adresse TRON copiée dans le presse-papier"))},p=async()=>{if(!r){me.error("Veuillez entrer une adresse de destination");return}const y=parseFloat(e);if(isNaN(y)||y<=0){me.error("Veuillez entrer un montant valide");return}if(y>f){me.error("Solde insuffisant pour effectuer ce retrait");return}a(!0);try{await o({amount:y,destinationAddress:r}),n(""),i(""),me.success("Demande de retrait soumise avec succès")}catch(x){me.error("Erreur lors de la demande de retrait"),console.error(x)}finally{a(!1)}},g=y=>{me.success(`Connecté au portefeuille: ${y.substring(0,8)}...${y.substring(y.length-8)}`)};return c.jsx("div",{className:"space-y-6",children:c.jsxs(Zr,{value:l,onValueChange:u,className:"w-full",children:[c.jsxs(Dr,{className:"grid w-full grid-cols-2",children:[c.jsx(Je,{value:"wallet",children:"Portefeuille Plateforme"}),c.jsx(Je,{value:"tronwallet",children:"TronLink"})]}),c.jsxs(mt,{value:"wallet",className:"space-y-6 mt-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Adresse TRON"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-secondary p-3 rounded-md flex-1 font-mono text-sm overflow-hidden",children:d||"Non disponible"}),c.jsx(K,{variant:"outline",size:"icon",onClick:h,disabled:!d,children:c.jsx(z7,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"icon",asChild:!0,disabled:!d,children:c.jsx("a",{href:`https://tronscan.org/#/address/${d}`,target:"_blank",rel:"noopener noreferrer",children:c.jsx(e2,{className:"h-4 w-4"})})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Retrait"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"withdrawAmount",children:"Montant (USDT)"}),c.jsx(en,{id:"withdrawAmount",type:"number",value:e,onChange:y=>n(y.target.value),placeholder:"0.00",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"maxAmount",children:"Solde disponible"}),c.jsxs("div",{className:"bg-secondary p-2 rounded-md h-10 flex items-center",children:[f," USDT"]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ct,{htmlFor:"destinationAddress",children:"Adresse de destination"}),c.jsx(en,{id:"destinationAddress",value:r,onChange:y=>i(y.target.value),placeholder:"Adresse TRON (commence par T)"})]}),c.jsx(K,{onClick:p,disabled:s||!r||!e||parseFloat(e)<=0,className:"w-full",children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}),"Traitement en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx(X7,{className:"h-4 w-4 mr-2"}),"Retirer les tokens"]})}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"Note: Les retraits sont généralement traités dans un délai de 24 heures. Des frais de réseau peuvent s'appliquer."})]})]})]}),c.jsx(mt,{value:"tronwallet",className:"space-y-6 mt-4",children:c.jsx(aJe,{onWalletConnect:g})})]})})},jne=({walletInfo:t})=>{const{user:e}=Ut(),{createWallet:n,getWalletInfo:r,loading:i}=Tp(),s=async()=>{e?(await r(),me.success("Informations du portefeuille mises à jour")):me.error("Vous devez être connecté pour accéder à votre portefeuille")},a=async()=>{if(e)try{await n(),me.success("Portefeuille créé avec succès"),await r()}catch(f){me.error("Erreur lors de la création du portefeuille"),console.error(f)}else me.error("Vous devez être connecté pour créer un portefeuille")};if(!e)return c.jsx(Fe,{className:"bg-secondary/20",children:c.jsxs(Ue,{className:"p-6 text-center",children:[c.jsx(Fs,{className:"h-12 w-12 text-primary/40 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Connectez-vous"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Vous devez être connecté pour accéder à votre portefeuille."})]})});if(!(t!=null&&t.wallet))return c.jsx(Fe,{className:"bg-gradient-to-r from-primary/10 to-primary/5",children:c.jsxs(Ue,{className:"p-6 text-center",children:[c.jsx(Fs,{className:"h-12 w-12 text-primary mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Créer un portefeuille"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Vous n'avez pas encore de portefeuille sur la plateforme. Créez-en un pour acheter du contenu premium."}),c.jsx(K,{onClick:a,disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}),"Création en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx(d4,{className:"h-4 w-4 mr-2"}),"Créer un portefeuille"]})})]})});const{tron_address:o,balance_usdt:l,is_verified:u}=t.wallet,d=o?`${o.substring(0,6)}...${o.substring(o.length-6)}`:"";return c.jsx(Fe,{children:c.jsxs(Ue,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fs,{className:"h-5 w-5 text-primary mr-2"}),c.jsx("h3",{className:"text-lg font-medium",children:"Votre portefeuille"})]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:s,disabled:i,children:[c.jsx(k_,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-6 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Solde disponible"}),u?c.jsx("span",{className:"text-xs bg-green-500/20 text-green-600 px-2 py-1 rounded",children:"Vérifié"}):c.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-600 px-2 py-1 rounded",children:"En attente"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Vb,{className:"h-6 w-6 text-primary mr-2"}),c.jsx("span",{className:"text-3xl font-bold",children:l}),c.jsx("span",{className:"text-lg ml-2",children:"USDT"})]}),c.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Adresse: ",d]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs(K,{className:"bg-gradient-to-r from-amber-500 to-amber-600",onClick:()=>me.info("La fonctionnalité d'achat de jetons sera disponible prochainement"),children:[c.jsx(d4,{className:"h-4 w-4 mr-2"}),"Acheter des tokens"]}),c.jsxs(K,{variant:"outline",onClick:()=>me.info("La fonctionnalité de transfert sera disponible prochainement"),children:[c.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Transférer"]})]})]})})},Cne=({transactions:t})=>{const e=a=>{switch(a){case"deposit":return c.jsx(Mge,{className:"h-4 w-4 text-green-500"});case"withdrawal":return c.jsx(M7,{className:"h-4 w-4 text-amber-500"});case"purchase":return c.jsx(mve,{className:"h-4 w-4 text-blue-500"});case"subscription":return c.jsx(pr,{className:"h-4 w-4 text-purple-500"});case"content_sale":return c.jsx(JI,{className:"h-4 w-4 text-green-500"});case"system_credit":return c.jsx(yu,{className:"h-4 w-4 text-primary"});default:return c.jsx(yu,{className:"h-4 w-4 text-gray-500"})}},n=a=>{switch(a){case"deposit":return"Dépôt";case"withdrawal":return"Retrait";case"purchase":return"Achat de contenu";case"subscription":return"Abonnement";case"content_sale":return"Vente de contenu";case"system_credit":return"Crédit système";case"message_support":return"Support créateur";case"fan_support":return"Support reçu";default:return a}},r=a=>{switch(a){case"completed":return c.jsx($n,{variant:"outline",className:"bg-green-500/20 text-green-600 border-0",children:"Complété"});case"pending":return c.jsx($n,{variant:"outline",className:"bg-amber-500/20 text-amber-600 border-0",children:"En attente"});case"failed":return c.jsx($n,{variant:"outline",className:"bg-red-500/20 text-red-600 border-0",children:"Échoué"});default:return c.jsx($n,{variant:"outline",children:a})}},i=a=>{try{return Mee(new Date(a),{addSuffix:!0,locale:Lee})}catch{return"Date invalide"}},s=a=>a.reference_content?a.reference_content.title:a.reference_tier?`Abonnement ${a.reference_tier.name}`:"";return!t||t.length===0?c.jsxs("div",{className:"text-center p-8",children:[c.jsx(yu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucune transaction"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Vous n'avez pas encore effectué de transaction."})]}):c.jsx("div",{children:c.jsxs(Bv,{children:[c.jsx(Wv,{children:c.jsxs(Oi,{children:[c.jsx(Mn,{children:"Type"}),c.jsx(Mn,{children:"Montant"}),c.jsx(Mn,{children:"Date"}),c.jsx(Mn,{children:"Statut"}),c.jsx(Mn,{className:"text-right",children:"Détails"})]})}),c.jsx(Hv,{children:t.map(a=>c.jsxs(Oi,{children:[c.jsxs(kt,{children:[c.jsxs("div",{className:"flex items-center",children:[e(a.transaction_type),c.jsx("span",{className:"ml-2",children:n(a.transaction_type)})]}),s(a)&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s(a)})]}),c.jsxs(kt,{className:a.transaction_type.includes("withdrawal")?"text-amber-500":"text-green-500",children:[a.transaction_type.includes("withdrawal")?"-":"+",a.amount_usdt," USDT"]}),c.jsx(kt,{className:"text-muted-foreground text-sm",children:i(a.created_at)}),c.jsx(kt,{children:r(a.status)}),c.jsx(kt,{className:"text-right",children:a.tron_tx_id&&c.jsx(K,{variant:"ghost",size:"sm",asChild:!0,children:c.jsxs("a",{href:`https://tronscan.org/#/transaction/${a.tron_tx_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1",children:[c.jsx(e2,{className:"h-3 w-3"}),"Blockchain"]})})})]},a.id))})]})})},oJe=({isOpen:t,onClose:e,onPurchase:n})=>{const[r,i]=b.useState(null),[s,a]=b.useState(!1),{triggerMicroReward:o}=gn(),l=[{id:"basic",name:"Pack Découverte",tokenAmount:100,price:4.99,currency:"EUR"},{id:"standard",name:"Pack Standard",tokenAmount:500,price:19.99,currency:"EUR",bonus:50,isPopular:!0},{id:"premium",name:"Pack Premium",tokenAmount:1200,price:39.99,currency:"EUR",bonus:200,discount:15},{id:"ultimate",name:"Pack Ultimate",tokenAmount:3e3,price:89.99,currency:"EUR",bonus:750,discount:25},{id:"limited",name:"Offre Spéciale",tokenAmount:800,price:24.99,currency:"EUR",bonus:200,limitedTime:!0,expiresAt:new Date(Date.now()+864e5*3).toISOString()}],u=p=>{i(p),o("select")},d=async()=>{if(r){a(!0);try{await n(r)?(me.success("Achat réussi! Vos tokens ont été ajoutés à votre portefeuille."),o("like"),e()):me.error("L'achat n'a pas pu être complété. Veuillez réessayer.")}catch{me.error("Une erreur est survenue. Veuillez réessayer plus tard.")}finally{a(!1)}}},h=(()=>{let p=l[0],g=p.tokenAmount/p.price;return l.forEach(m=>{const v=m.tokenAmount+(m.bonus||0),y=m.discount?m.price*(1-m.discount/100):m.price,x=v/y;x>g&&(g=x,p=m)}),p.id})();return c.jsx(Zo,{open:t,onOpenChange:p=>!p&&e(),children:c.jsxs(Ya,{className:"sm:max-w-[550px]",children:[c.jsxs(Oc,{children:[c.jsxs(Rc,{className:"flex items-center gap-2",children:[c.jsx(Vb,{className:"h-5 w-5 text-amber-500"}),"Achetez des XDose Tokens"]}),c.jsx(BR,{children:"Les tokens vous permettent d'accéder à du contenu exclusif et d'interagir avec vos créateurs préférés"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsx("div",{className:"flex items-center justify-center mb-2",children:c.jsxs("div",{className:"px-3 py-1 rounded-full bg-amber-100 dark:bg-amber-950 text-amber-800 dark:text-amber-200 text-xs flex items-center gap-1.5",children:[c.jsx(Um,{size:14}),c.jsx("span",{children:"1€ ≈ 20 tokens"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.map(p=>(p.tokenAmount+(p.bonus||0),c.jsxs(Oe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`cursor-pointer p-4 rounded-lg relative ${r===p.id?"ring-2 ring-amber-500 bg-amber-50/10":"bg-muted/30 hover:bg-muted/50"}`,onClick:()=>u(p.id),children:[p.isPopular&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-xvush-pink text-white text-xs font-bold px-3 py-1 rounded-full",children:"POPULAIRE"}),p.limitedTime&&p.expiresAt&&c.jsxs("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1",children:[c.jsx(pC,{size:12}),"LIMITÉ"]}),p.id===h&&!p.isPopular&&!p.limitedTime&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"MEILLEUR PRIX"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:p.name}),c.jsxs("div",{className:"flex items-center mt-1",children:[c.jsx(Vb,{size:16,className:"text-amber-500 mr-1"}),c.jsx("span",{className:"text-2xl font-bold",children:p.tokenAmount}),p.bonus&&c.jsxs("span",{className:"ml-1 text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-0.5 rounded-full",children:["+",p.bonus]})]})]}),c.jsxs("div",{className:"text-right",children:[p.discount&&c.jsxs("div",{className:"text-xs line-through text-muted-foreground",children:[(p.price/(1-p.discount/100)).toFixed(2),p.currency]}),c.jsxs("div",{className:"text-lg font-bold",children:[p.price,p.currency]})]})]}),(p.bonus||p.discount)&&c.jsxs("div",{className:"mt-2 text-xs",children:[p.discount&&c.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["-",p.discount,"%"]}),p.discount&&p.bonus&&" • ",p.bonus&&c.jsxs("span",{className:"text-amber-600 dark:text-amber-400",children:["Bonus: +",p.bonus," tokens"]})]}),p.limitedTime&&p.expiresAt&&c.jsxs("div",{className:"mt-2 text-xs text-red-500 flex items-center gap-1",children:[c.jsx(pC,{size:12}),"Expire dans ",Math.ceil((new Date(p.expiresAt).getTime()-Date.now())/864e5)," jours"]})]},p.id)))}),c.jsxs("div",{className:"bg-muted/20 p-3 rounded-lg mt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(U7,{size:16,className:"text-purple-500"}),c.jsx("span",{className:"text-sm font-medium",children:"Offrez des tokens à vos créateurs préférés"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Vous pouvez maintenant offrir des tokens directement aux créateurs pour les soutenir ou débloquer des expériences exclusives."})]})]}),c.jsxs($y,{children:[c.jsx(K,{variant:"outline",onClick:e,children:"Annuler"}),c.jsx(K,{onClick:d,disabled:!r||s,className:"flex items-center gap-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700",children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-white border-t-transparent animate-spin"}),"Traitement..."]}):c.jsxs(c.Fragment,{children:[c.jsx(yu,{size:16}),"Acheter"]})})]})]})})},lJe=()=>{const{user:t}=Ut(),{walletInfo:e,loading:n,error:r,getWalletInfo:i,createWallet:s}=Tp(),[a,o]=b.useState(!1),{toast:l}=br();b.useEffect(()=>{t&&i()},[t]);const u=async()=>{try{await s(),l.success("Portefeuille TRON créé avec succès")}catch{l.error("Erreur lors de la création du portefeuille")}},d=()=>{i(),l.success("Informations du portefeuille mises à jour")},f=async()=>new Promise(m=>{setTimeout(()=>{l.success("Achat de tokens réussi!"),i(),m(!0)},1500)}),h=(e==null?void 0:e.wallet)!==null,p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs(Oe.div,{className:"space-y-6",variants:p,initial:"hidden",animate:"visible",children:[c.jsx(Oe.div,{variants:g,children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Portefeuille de Tokens"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Gérez vos tokens, achetez du contenu premium et suivez vos transactions"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(K,{variant:"outline",size:"sm",onClick:d,disabled:n,children:[c.jsx(k_,{className:"h-4 w-4 mr-2"}),"Actualiser"]}),c.jsxs(K,{onClick:()=>o(!0),size:"sm",className:"bg-gradient-to-r from-amber-500 to-amber-600",children:[c.jsx(yu,{className:"h-4 w-4 mr-2"}),"Acheter des Tokens"]})]})]})}),r&&c.jsx(Oe.div,{variants:g,className:"bg-destructive/20 text-destructive p-4 rounded-lg",children:r}),n&&!e?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[1,2,3].map(m=>c.jsx(Fe,{className:"w-full h-32 animate-pulse bg-muted"},m))}):h?c.jsxs(c.Fragment,{children:[c.jsxs(Oe.div,{variants:g,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(jne,{walletInfo:e}),c.jsxs(Fe,{children:[c.jsx(st,{className:"pb-2",children:c.jsxs(dt,{className:"text-base flex items-center",children:[c.jsx(Ru,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Abonnement Actif"]})}),c.jsx(Ue,{children:e!=null&&e.subscription?c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:e.subscription.subscription_tiers.name}),c.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Expire le ",new Date(e.subscription.expires_at).toLocaleDateString()]}),c.jsx(K,{variant:"outline",size:"sm",className:"mt-4 w-full",children:"Renouveler"})]}):c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-semibold",children:"Aucun abonnement"}),c.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Abonnez-vous pour accéder au contenu premium"}),c.jsx(K,{variant:"outline",size:"sm",className:"mt-4 w-full",children:"Voir les abonnements"})]})})]}),c.jsxs(Fe,{children:[c.jsx(st,{className:"pb-2",children:c.jsxs(dt,{className:"text-base flex items-center",children:[c.jsx(Uge,{className:"h-4 w-4 mr-2 text-muted-foreground"}),"Statistiques"]})}),c.jsx(Ue,{children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Contenu acheté"}),c.jsx("div",{className:"text-2xl font-bold",children:"0"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Créateurs supportés"}),c.jsx("div",{className:"text-2xl font-bold",children:"0"})]})]})})]})]}),c.jsx(Oe.div,{variants:g,className:"mt-8",children:c.jsxs(Zr,{defaultValue:"transactions",children:[c.jsxs(Dr,{className:"mb-6",children:[c.jsx(Je,{value:"transactions",children:"Transactions"}),c.jsx(Je,{value:"purchases",children:"Achats"}),c.jsx(Je,{value:"wallet",children:"Portefeuille"})]}),c.jsx(mt,{value:"transactions",children:c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Historique des transactions"}),c.jsx(Tn,{children:"Consultez l'historique de vos transactions récentes"})]}),c.jsx(Ue,{children:c.jsx(Cne,{transactions:(e==null?void 0:e.transactions)||[]})})]})}),c.jsx(mt,{value:"purchases",children:c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Achats de contenu"}),c.jsx(Tn,{children:"Votre contenu premium acheté"})]}),c.jsx(Ue,{children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"mx-auto h-12 w-12 text-muted-foreground mb-4",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 00-2.15-1.588H6.911a2.25 2.25 0 00-2.15 1.588L2.35 13.177a2.25 2.25 0 00-.1.661z"})})}),c.jsx("h3",{className:"text-lg font-medium",children:"Aucun achat pour le moment"}),c.jsx("p",{className:"text-muted-foreground mt-1 mb-6 max-w-md mx-auto",children:"Explorez le contenu premium de vos créateurs préférés pour faire votre premier achat."}),c.jsx(K,{variant:"outline",children:"Découvrir du contenu"})]})})]})}),c.jsx(mt,{value:"wallet",children:c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Informations du portefeuille"}),c.jsx(Tn,{children:"Gérez votre portefeuille TRON"})]}),c.jsx(Ue,{children:c.jsx(Ane,{walletInfo:e})})]})})]})})]}):c.jsxs(Oe.div,{variants:g,className:"text-center py-16",children:[c.jsx(Fs,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Vous n'avez pas encore de portefeuille"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Créez un portefeuille TRON pour acheter et gérer des tokens, accéder au contenu premium et soutenir vos créateurs préférés."}),c.jsx(K,{onClick:u,disabled:n,children:n?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-current border-t-transparent rounded-full"}),"Création en cours..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Créer un portefeuille"]})})]})]}),c.jsx(oJe,{isOpen:a,onClose:()=>o(!1),onPurchase:f})]})},cJe="modulepreload",uJe=function(t){return"/"+t},Kz={},Pne=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=uJe(l),l in Kz)return;Kz[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":cJe,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},dJe=b.lazy(()=>Pne(()=>import("./RevenueMetricsCard-DuGmlwCS.js"),[])),fJe=b.lazy(()=>Pne(()=>import("./WithdrawalHistoryCard-DSd9lsgs.js"),[])),Gz=()=>c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsx(Wn,{className:"h-6 w-3/4 mb-2"}),c.jsx(Wn,{className:"h-4 w-1/2"})]}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(Wn,{className:"h-40 w-full"}),c.jsx(Wn,{className:"h-4 w-3/4"}),c.jsx(Wn,{className:"h-4 w-1/2"})]})})]}),hJe=({onRouteChange:t})=>{var u;const{user:e,isCreator:n}=Ut(),{walletInfo:r,getWalletInfo:i,createWallet:s}=Tp();if(b.useEffect(()=>{e&&i(),t==null||t()},[e,i,t]),!n)return c.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accès réservé aux créateurs"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Cette page est uniquement accessible aux comptes créateurs."}),c.jsx(K,{asChild:!0,children:c.jsx("a",{href:"/",children:"Retour à l'accueil"})})]});const a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,duration:.3}}},o={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}},l=(r==null?void 0:r.wallet)!==null;return c.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:c.jsxs(Oe.div,{className:"space-y-4 sm:space-y-6",variants:a,initial:"hidden",animate:"visible",children:[c.jsx(Oe.div,{variants:o,className:"mb-2 sm:mb-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4 md:mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Tableau de bord des revenus"}),c.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Gérez vos revenus, suivez vos statistiques et effectuez des retraits"})]}),c.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[c.jsx(K,{variant:"outline",size:"sm",asChild:!0,className:"flex-1 md:flex-none",children:c.jsx("a",{href:"/dashboard",children:"Tableau de bord principal"})}),c.jsxs(K,{size:"sm",className:"flex-1 md:flex-none bg-gradient-to-r from-xvush-blue to-xvush-teal",children:[c.jsx(M7,{className:"h-4 w-4 mr-2"}),"Demander un retrait"]})]})]})}),l?c.jsxs(c.Fragment,{children:[c.jsx(Oe.div,{variants:o,children:c.jsx(b.Suspense,{fallback:c.jsx(Gz,{}),children:c.jsx(dJe,{})})}),c.jsx(Oe.div,{variants:o,children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsx("div",{className:"col-span-1 lg:col-span-2",children:c.jsx(b.Suspense,{fallback:c.jsx(Gz,{}),children:c.jsx(fJe,{})})}),c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{className:"text-base",children:"Informations de paiement"})}),c.jsxs(Ue,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:"Adresse TRON"}),c.jsx("div",{className:"bg-secondary p-2 sm:p-3 rounded-md font-mono text-xs overflow-hidden overflow-ellipsis",children:((u=r==null?void 0:r.wallet)==null?void 0:u.tron_address)||"Non configurée"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium mb-2",children:"Commission de la plateforme"}),c.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:"10%"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"La plateforme prélève 10% sur tous les revenus générés pour couvrir les frais de service."})]}),c.jsxs("div",{className:"bg-blue-500/10 p-2 sm:p-3 rounded-md flex items-start gap-2",children:[c.jsx(Um,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-xs",children:[c.jsx("span",{className:"font-medium text-blue-500 block mb-1",children:"Information"}),"Les retraits sont traités dans un délai de 24 à 48 heures ouvrées. Le montant minimum pour un retrait est de 10 USDT."]})]})]})]})]})}),c.jsx(Oe.div,{variants:o,className:"mt-4 sm:mt-6",children:c.jsxs(Zr,{defaultValue:"subscriptions",className:"overflow-x-auto",children:[c.jsxs(Dr,{className:"mb-4 sm:mb-6 whitespace-nowrap w-full md:w-auto",children:[c.jsxs(Je,{value:"subscriptions",className:"text-xs sm:text-sm",children:[c.jsx(pr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Revenus d'abonnements"]}),c.jsxs(Je,{value:"content",className:"text-xs sm:text-sm",children:[c.jsx(Fs,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Revenus de contenu"]}),c.jsxs(Je,{value:"calendar",className:"text-xs sm:text-sm",children:[c.jsx(XI,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Calendrier des revenus"]})]}),c.jsx(mt,{value:"subscriptions",children:c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Revenus d'abonnements"})}),c.jsx(Ue,{children:c.jsx("div",{className:"text-center py-8 sm:py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Les données sur les abonnements s'afficheront ici une fois que vous aurez des abonnés."})})})]})}),c.jsx(mt,{value:"content",children:c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Revenus de contenu premium"})}),c.jsx(Ue,{children:c.jsx("div",{className:"text-center py-8 sm:py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Les données sur les ventes de contenu premium s'afficheront ici une fois que vous aurez publié du contenu payant."})})})]})}),c.jsx(mt,{value:"calendar",children:c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Calendrier des revenus"})}),c.jsx(Ue,{children:c.jsx("div",{className:"text-center py-8 sm:py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Un calendrier détaillé de vos revenus quotidiens s'affichera ici prochainement."})})})]})})]})})]}):c.jsxs(Oe.div,{variants:o,className:"text-center py-8 sm:py-16 bg-card rounded-lg p-4 sm:p-6",children:[c.jsx(Fs,{className:"h-12 sm:h-16 w-12 sm:w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:"Configuration du portefeuille créateur"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto text-sm sm:text-base",children:"Vous devez créer un portefeuille TRON pour recevoir des paiements de vos fans et gérer vos revenus."}),c.jsxs(K,{onClick:s,children:[c.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Créer un portefeuille créateur"]})]})]})})},pJe=({username:t,onBack:e,className:n})=>c.jsxs("div",{className:G("sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b flex items-center justify-between px-4 py-2",n),children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"mr-2",onClick:e,children:c.jsx(j_,{size:20})}),c.jsxs("h1",{className:"text-lg font-medium",children:["@",t]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(K,{variant:"ghost",size:"icon",children:c.jsx(D7,{size:20})}),c.jsx(K,{variant:"ghost",size:"icon",children:c.jsx(Jge,{size:20})})]})]});var vE="Checkbox",[mJe,Jtt]=xr(vE),[gJe,lM]=mJe(vE);function vJe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,p]=Qs({prop:n,defaultProp:i??!1,onChange:l,caller:vE}),[g,m]=b.useState(null),[v,y]=b.useState(null),x=b.useRef(!1),_=g?!!a||!!g.closest("form"):!0,E={checked:h,disabled:s,setChecked:p,control:g,setControl:m,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:ic(i)?!1:i,isFormControl:_,bubbleInput:v,setBubbleInput:y};return c.jsx(gJe,{scope:e,...E,children:yJe(f)?f(E):r})}var kne="CheckboxTrigger",Nne=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:l,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=lM(kne,t),m=Ye(i,d),v=b.useRef(l);return b.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const x=()=>f(v.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[s,f]),c.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":ic(l)?"mixed":l,"aria-required":u,"data-state":Dne(l),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:m,onKeyDown:be(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:be(n,y=>{f(x=>ic(x)?!0:!x),g&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});Nne.displayName=kne;var cM=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l,onCheckedChange:u,form:d,...f}=t;return c.jsx(vJe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>c.jsxs(c.Fragment,{children:[c.jsx(Nne,{...f,ref:e,__scopeCheckbox:n}),h&&c.jsx(Mne,{__scopeCheckbox:n})]})})});cM.displayName=vE;var Ine="CheckboxIndicator",One=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=lM(Ine,n);return c.jsx(Lr,{present:r||ic(s.checked)||s.checked===!0,children:c.jsx(Me.span,{"data-state":Dne(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});One.displayName=Ine;var Rne="CheckboxBubbleInput",Mne=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:l,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=lM(Rne,t),g=Ye(n,p),m=wy(s),v=_y(r);b.useEffect(()=>{const x=h;if(!x)return;const _=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(_,"checked").set,j=!i.current;if(m!==s&&S){const A=new Event("click",{bubbles:j});x.indeterminate=ic(s),S.call(x,ic(s)?!1:s),x.dispatchEvent(A)}},[h,m,s,i]);const y=b.useRef(ic(s)?!1:s);return c.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:o,disabled:l,name:u,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Mne.displayName=Rne;function yJe(t){return typeof t=="function"}function ic(t){return t==="indeterminate"}function Dne(t){return ic(t)?"indeterminate":t?"checked":"unchecked"}const Hk=b.forwardRef(({className:t,...e},n)=>c.jsx(cM,{ref:n,className:G("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(One,{className:G("flex items-center justify-center text-current"),children:c.jsx(C_,{className:"h-4 w-4"})})}));Hk.displayName=cM.displayName;const xJe=({totalSubscribers:t,activeSubscribers:e,premiumSubscribers:n,vipSubscribers:r,averageSpending:i})=>{const s=[{label:"Total des abonnés",value:t,icon:c.jsx(pr,{className:"h-5 w-5 text-blue-600"}),color:"bg-blue-50 dark:bg-blue-950/30"},{label:"Abonnés actifs",value:e,percentage:Math.round(e/t*100),icon:c.jsx(pr,{className:"h-5 w-5 text-green-600"}),color:"bg-green-50 dark:bg-green-950/30"},{label:"Abonnés Premium",value:n,percentage:Math.round(n/t*100),icon:c.jsx(Kf,{className:"h-5 w-5 text-pink-600"}),color:"bg-pink-50 dark:bg-pink-950/30"},{label:"Abonnés VIP",value:r,percentage:Math.round(r/t*100),icon:c.jsx(sd,{className:"h-5 w-5 text-purple-600"}),color:"bg-purple-50 dark:bg-purple-950/30"},{label:"Dépense moyenne",value:`${Math.round(i)}€`,icon:c.jsx(Zh,{className:"h-5 w-5 text-amber-600"}),color:"bg-amber-50 dark:bg-amber-950/30"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:s.map((a,o)=>c.jsx(Fe,{className:"h-full",children:c.jsxs(Ue,{className:"flex flex-col items-start justify-center p-4 h-full",children:[c.jsx("div",{className:`p-2 rounded-md ${a.color} mb-3`,children:a.icon}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h3",{className:"text-muted-foreground text-sm",children:a.label}),c.jsx("div",{className:"text-2xl font-bold",children:a.value}),a.percentage!==void 0&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.percentage,"% du total"]})]})]})},o))})},bJe=({activeFilters:t,onFilterChange:e})=>{const n=Object.values(t).filter(s=>s!=="all").length,r=()=>{e({tier:"all",status:"all",joinedDate:"all"})},i=s=>{switch(s){case"tier":return t.tier==="all"?"Tous":t.tier==="standard"?"Standard":t.tier==="premium"?"Premium":"VIP";case"status":return t.status==="all"?"Tous":t.status==="active"?"Actifs":t.status==="inactive"?"Inactifs":"En attente";case"joinedDate":return t.joinedDate==="all"?"Tous":t.joinedDate==="last30days"?"30 derniers jours":t.joinedDate==="last3months"?"3 derniers mois":"6 derniers mois"}};return c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs(RR,{children:[c.jsx(MR,{asChild:!0,children:c.jsxs(K,{variant:"outline",size:"sm",className:"h-9",children:[c.jsx(t2,{className:"mr-2 h-4 w-4"}),"Filtres",n>0&&c.jsx($n,{className:"ml-2 bg-primary text-primary-foreground",variant:"default",children:n})]})}),c.jsxs(eE,{className:"w-56",children:[c.jsx(of,{children:"Filtrer les abonnés"}),c.jsx(jf,{}),c.jsxs(EA,{children:[c.jsx(of,{className:"text-xs text-muted-foreground font-normal",children:"Formule"}),c.jsxs(TA,{value:t.tier,onValueChange:s=>e({...t,tier:s}),children:[c.jsx(Ci,{value:"all",children:"Tous"}),c.jsx(Ci,{value:"standard",children:"Standard"}),c.jsx(Ci,{value:"premium",children:"Premium"}),c.jsx(Ci,{value:"vip",children:"VIP"})]})]}),c.jsx(jf,{}),c.jsxs(EA,{children:[c.jsx(of,{className:"text-xs text-muted-foreground font-normal",children:"Statut"}),c.jsxs(TA,{value:t.status,onValueChange:s=>e({...t,status:s}),children:[c.jsx(Ci,{value:"all",children:"Tous"}),c.jsx(Ci,{value:"active",children:"Actifs"}),c.jsx(Ci,{value:"inactive",children:"Inactifs"}),c.jsx(Ci,{value:"pending",children:"En attente"})]})]}),c.jsx(jf,{}),c.jsxs(EA,{children:[c.jsx(of,{className:"text-xs text-muted-foreground font-normal",children:"Date d'abonnement"}),c.jsxs(TA,{value:t.joinedDate,onValueChange:s=>e({...t,joinedDate:s}),children:[c.jsx(Ci,{value:"all",children:"Tous"}),c.jsx(Ci,{value:"last30days",children:"30 derniers jours"}),c.jsx(Ci,{value:"last3months",children:"3 derniers mois"}),c.jsx(Ci,{value:"last6months",children:"6 derniers mois"})]})]})]})]}),t.tier!=="all"&&c.jsxs($n,{variant:"outline",className:"flex items-center gap-1",children:["Formule: ",i("tier"),c.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1",onClick:()=>e({...t,tier:"all"}),children:c.jsx(bi,{className:"h-3 w-3"})})]}),t.status!=="all"&&c.jsxs($n,{variant:"outline",className:"flex items-center gap-1",children:["Statut: ",i("status"),c.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1",onClick:()=>e({...t,status:"all"}),children:c.jsx(bi,{className:"h-3 w-3"})})]}),t.joinedDate!=="all"&&c.jsxs($n,{variant:"outline",className:"flex items-center gap-1",children:["Période: ",i("joinedDate"),c.jsx(K,{variant:"ghost",size:"icon",className:"h-3 w-3 p-0 ml-1",onClick:()=>e({...t,joinedDate:"all"}),children:c.jsx(bi,{className:"h-3 w-3"})})]}),n>0&&c.jsx(K,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:r,children:"Réinitialiser"})]})},Yz=[{id:"1",name:"Thomas Martin",username:"thomas_m",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=250&h=250&fit=crop",email:"thomas.m@example.com",joinedDate:"2023-01-15",tier:"premium",status:"active",spending:124,lastActive:"2023-05-21",engagement:87},{id:"2",name:"Sophie Dubois",username:"sophie_d",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=250&h=250&fit=crop",email:"sophie.d@example.com",joinedDate:"2023-02-03",tier:"vip",status:"active",spending:310,lastActive:"2023-05-22",engagement:95},{id:"3",name:"Lucas Petit",username:"lucas_p",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=250&h=250&fit=crop",email:"lucas.p@example.com",joinedDate:"2023-03-12",tier:"standard",status:"inactive",spending:45,lastActive:"2023-04-30",engagement:32},{id:"4",name:"Emma Bernard",username:"emma_b",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=250&h=250&fit=crop",email:"emma.b@example.com",joinedDate:"2023-01-28",tier:"premium",status:"active",spending:178,lastActive:"2023-05-20",engagement:76},{id:"5",name:"Hugo Moreau",username:"hugo_m",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=250&h=250&fit=crop",email:"hugo.m@example.com",joinedDate:"2023-04-05",tier:"standard",status:"pending",spending:0,lastActive:"2023-04-05",engagement:12},{id:"6",name:"Léa Rousseau",username:"lea_r",avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=250&h=250&fit=crop",email:"lea.r@example.com",joinedDate:"2023-02-17",tier:"vip",status:"active",spending:289,lastActive:"2023-05-22",engagement:91},{id:"7",name:"Nathan Dupont",username:"nathan_d",avatar:"https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=250&h=250&fit=crop",email:"nathan.d@example.com",joinedDate:"2023-03-08",tier:"premium",status:"active",spending:134,lastActive:"2023-05-19",engagement:68},{id:"8",name:"Camille Leroux",username:"camille_l",avatar:"https://images.unsplash.com/photo-1517841905240-472988babdf9?w=250&h=250&fit=crop",email:"camille.l@example.com",joinedDate:"2023-01-03",tier:"standard",status:"inactive",spending:67,lastActive:"2023-04-12",engagement:43}],wJe=()=>{const t=Xi(),{toast:e}=br(),[n,r]=b.useState(Yz),[i,s]=b.useState(Yz),[a,o]=b.useState([]),[l,u]=b.useState(""),[d,f]=b.useState(""),[h,p]=b.useState("asc"),[g,m]=b.useState({tier:"all",status:"all",joinedDate:"all"}),[v,y]=b.useState(!1),[x,_]=b.useState("");b.useEffect(()=>{let T=[...n];if(l){const C=l.toLowerCase();T=T.filter(k=>k.name.toLowerCase().includes(C)||k.username.toLowerCase().includes(C)||k.email.toLowerCase().includes(C))}if(g.tier!=="all"&&(T=T.filter(C=>C.tier===g.tier)),g.status!=="all"&&(T=T.filter(C=>C.status===g.status)),g.joinedDate!=="all"){const C=new Date,k=new Date;switch(g.joinedDate){case"last30days":k.setDate(C.getDate()-30),T=T.filter(I=>new Date(I.joinedDate)>=k);break;case"last3months":k.setMonth(C.getMonth()-3),T=T.filter(I=>new Date(I.joinedDate)>=k);break;case"last6months":k.setMonth(C.getMonth()-6),T=T.filter(I=>new Date(I.joinedDate)>=k);break}}d&&(T=[...T].sort((C,k)=>{const I=C[d],N=k[d];return typeof I=="string"&&typeof N=="string"?h==="asc"?I.localeCompare(N):N.localeCompare(I):typeof I=="number"&&typeof N=="number"?h==="asc"?I-N:N-I:0})),s(T)},[l,n,d,h,g]);const E=T=>{d===T?p(h==="asc"?"desc":"asc"):(f(T),p("asc"))},S=T=>{o(C=>C.includes(T)?C.filter(k=>k!==T):[...C,T])},j=()=>{a.length===i.length?o([]):o(i.map(T=>T.id))},A=()=>{if(x.trim()===""){e({title:"Message vide",description:"Veuillez saisir un message avant d'envoyer.",variant:"destructive"});return}const T=a.length;y(!1),_(""),e({title:"Message envoyé",description:`Votre message a été envoyé à ${T} abonné${T>1?"s":""}.`,duration:5e3})};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20",children:[c.jsx(pJe,{username:"juliesky",onBack:()=>t("/creator")}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des Abonnés"}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>y(!0),disabled:a.length===0,children:[c.jsx(W7,{size:16,className:"mr-2"}),"Envoyer un message",a.length>0&&c.jsx($n,{variant:"secondary",className:"ml-2",children:a.length})]})})]}),c.jsx(Qg,{}),c.jsx(xJe,{totalSubscribers:n.length,activeSubscribers:n.filter(T=>T.status==="active").length,premiumSubscribers:n.filter(T=>T.tier==="premium").length,vipSubscribers:n.filter(T=>T.tier==="vip").length,averageSpending:n.reduce((T,C)=>T+C.spending,0)/n.length}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start justify-between",children:[c.jsxs("div",{className:"relative w-full md:w-64",children:[c.jsx(N_,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),c.jsx(en,{placeholder:"Rechercher...",className:"pl-9",value:l,onChange:T=>u(T.target.value)})]}),c.jsx(bJe,{activeFilters:g,onFilterChange:m})]}),c.jsx(Fe,{children:c.jsx(Ue,{className:"p-0 overflow-auto",children:c.jsxs(Bv,{children:[c.jsx(Wv,{children:c.jsxs(Oi,{children:[c.jsx(Mn,{className:"w-12",children:c.jsx(Hk,{checked:i.length>0&&a.length===i.length,onCheckedChange:j,"aria-label":"Select all"})}),c.jsx(Mn,{children:"Abonné"}),c.jsx(Mn,{className:"cursor-pointer hidden md:table-cell",onClick:()=>E("joinedDate"),children:c.jsxs("div",{className:"flex items-center",children:["Date d'abonnement",c.jsx(ST,{size:14,className:"ml-1"})]})}),c.jsx(Mn,{children:"Formule"}),c.jsx(Mn,{className:"cursor-pointer hidden lg:table-cell",onClick:()=>E("spending"),children:c.jsxs("div",{className:"flex items-center",children:["Dépenses",c.jsx(ST,{size:14,className:"ml-1"})]})}),c.jsx(Mn,{className:"cursor-pointer hidden lg:table-cell",onClick:()=>E("engagement"),children:c.jsxs("div",{className:"flex items-center",children:["Engagement",c.jsx(ST,{size:14,className:"ml-1"})]})}),c.jsx(Mn,{children:"Statut"}),c.jsx(Mn,{className:"w-12"})]})}),c.jsx(Hv,{children:i.length>0?i.map(T=>c.jsxs(Oi,{children:[c.jsx(kt,{children:c.jsx(Hk,{checked:a.includes(T.id),onCheckedChange:()=>S(T.id),"aria-label":`Select ${T.name}`})}),c.jsx(kt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Yg,{src:T.avatar,size:"sm"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium",children:T.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",T.username]})]})]})}),c.jsx(kt,{className:"hidden md:table-cell",children:new Date(T.joinedDate).toLocaleDateString()}),c.jsx(kt,{children:c.jsx($n,{variant:T.tier==="vip"?"default":T.tier==="premium"?"secondary":"outline",className:T.tier==="vip"?"bg-purple-600":T.tier==="premium"?"bg-pink-500":"",children:T.tier==="vip"?"VIP":T.tier==="premium"?"Premium":"Standard"})}),c.jsx(kt,{className:"hidden lg:table-cell",children:T.spending>0?`${T.spending}€`:"-"}),c.jsxs(kt,{className:"hidden lg:table-cell",children:[c.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full ${T.engagement>75?"bg-green-500":T.engagement>40?"bg-amber-500":"bg-red-500"}`,style:{width:`${T.engagement}%`}})}),c.jsxs("span",{className:"text-xs text-muted-foreground mt-1",children:[T.engagement,"%"]})]}),c.jsx(kt,{children:c.jsx($n,{variant:"outline",className:T.status==="active"?"border-green-500 text-green-600 bg-green-50 dark:bg-green-950/30":T.status==="inactive"?"border-red-500 text-red-600 bg-red-50 dark:bg-red-950/30":"border-amber-500 text-amber-600 bg-amber-50 dark:bg-amber-950/30",children:T.status==="active"?"Actif":T.status==="inactive"?"Inactif":"En attente"})}),c.jsx(kt,{children:c.jsxs(RR,{children:[c.jsx(MR,{asChild:!0,children:c.jsx(K,{variant:"ghost",className:"h-8 w-8 p-0",children:c.jsx(eve,{className:"h-4 w-4"})})}),c.jsxs(eE,{align:"end",children:[c.jsx(of,{children:"Actions"}),c.jsx(jf,{}),c.jsxs(ig,{onClick:()=>{o([T.id]),y(!0)},children:[c.jsx(Qh,{className:"mr-2 h-4 w-4"}),"Message privé"]}),c.jsxs(ig,{children:[c.jsx(R_,{className:"mr-2 h-4 w-4"}),"Promouvoir"]}),c.jsx(jf,{}),c.jsxs(ig,{className:"text-red-600",children:[c.jsx(Z7,{className:"mr-2 h-4 w-4"}),"Bloquer"]})]})]})})]},T.id)):c.jsx(Oi,{children:c.jsx(kt,{colSpan:8,className:"text-center py-8",children:c.jsxs("div",{className:"flex flex-col items-center text-muted-foreground",children:[c.jsx(t2,{className:"h-10 w-10 mb-2"}),c.jsx("p",{children:"Aucun abonné trouvé avec ces critères"}),c.jsx(K,{variant:"link",onClick:()=>{u(""),m({tier:"all",status:"all",joinedDate:"all"})},children:"Réinitialiser les filtres"})]})})})})]})})})]}),c.jsx(Zo,{open:v,onOpenChange:y,children:c.jsxs(Ya,{className:"max-w-md",children:[c.jsxs(Oc,{children:[c.jsx(Rc,{children:"Envoyer un message"}),c.jsxs(BR,{children:["Ce message sera envoyé à ",a.length," abonné",a.length>1?"s":"","."]})]}),c.jsxs("div",{className:"space-y-4",children:[a.length<=5&&c.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(T=>{const C=n.find(k=>k.id===T);return C?c.jsxs("div",{className:"flex items-center gap-2 bg-muted px-2 py-1 rounded-full text-xs",children:[c.jsx(Yg,{src:C.avatar,size:"sm"}),c.jsxs("span",{children:["@",C.username]})]},T):null})}),c.jsx(Fy,{placeholder:"Écrivez votre message ici...",className:"min-h-32",value:x,onChange:T=>_(T.target.value)})]}),c.jsxs($y,{children:[c.jsx(K,{variant:"outline",onClick:()=>y(!1),children:"Annuler"}),c.jsx(K,{onClick:A,children:"Envoyer"})]})]})})]})};var Xe=function(){return Xe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xe.apply(this,arguments)};function _Je(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lne(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Wy(t){return t.mode==="multiple"}function Hy(t){return t.mode==="range"}function yE(t){return t.mode==="single"}var SJe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function EJe(t,e){return md(t,"LLLL y",e)}function TJe(t,e){return md(t,"d",e)}function AJe(t,e){return md(t,"LLLL",e)}function jJe(t){return"".concat(t)}function CJe(t,e){return md(t,"cccccc",e)}function PJe(t,e){return md(t,"yyyy",e)}var kJe=Object.freeze({__proto__:null,formatCaption:EJe,formatDay:TJe,formatMonthCaption:AJe,formatWeekNumber:jJe,formatWeekdayName:CJe,formatYearCaption:PJe}),NJe=function(t,e,n){return md(t,"do MMMM (EEEE)",n)},IJe=function(){return"Month: "},OJe=function(){return"Go to next month"},RJe=function(){return"Go to previous month"},MJe=function(t,e){return md(t,"cccc",e)},DJe=function(t){return"Week n. ".concat(t)},LJe=function(){return"Year: "},$Je=Object.freeze({__proto__:null,labelDay:NJe,labelMonthDropdown:IJe,labelNext:OJe,labelPrevious:RJe,labelWeekNumber:DJe,labelWeekday:MJe,labelYearDropdown:LJe});function VJe(){var t="buttons",e=SJe,n=KR,r={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:kJe,labels:$Je,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function FJe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=wi(r):e&&(s=new Date(e,0,1)),i?a=oE(i):n&&(a=new Date(n,11,31)),{fromDate:s?kh(s):void 0,toDate:a?kh(a):void 0}}var $ne=b.createContext(void 0);function zJe(t){var e,n=t.initialProps,r=VJe(),i=FJe(n),s=i.fromDate,a=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(yE(n)||Wy(n)||Hy(n))&&(l=n.onSelect);var u=Xe(Xe(Xe({},r),n),{captionLayout:o,classNames:Xe(Xe({},r.classNames),n.classNames),components:Xe({},n.components),formatters:Xe(Xe({},r.formatters),n.formatters),fromDate:s,labels:Xe(Xe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Xe(Xe({},r.modifiers),n.modifiers),modifiersClassNames:Xe(Xe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Xe(Xe({},r.styles),n.styles),toDate:a});return c.jsx($ne.Provider,{value:u,children:t.children})}function Gt(){var t=b.useContext($ne);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Vne(t){var e=Gt(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function UJe(t){return c.jsx("svg",Xe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Fne(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,l=t.style,u=Gt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:UJe;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function BJe(t){var e,n=Gt(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var f=[];if(OYe(r,i))for(var h=wi(r),p=r.getMonth();p<=i.getMonth();p++)f.push(jA(h,p));else for(var h=wi(new Date),p=0;p<=11;p++)f.push(jA(h,p));var g=function(v){var y=Number(v.target.value),x=jA(wi(t.displayMonth),y);t.onChange(x)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Fne;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:f.map(function(v){return c.jsx("option",{value:v.getMonth(),children:o(v,{locale:a})},v.getMonth())})})}function WJe(t){var e,n=t.displayMonth,r=Gt(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,l=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});for(var p=i.getFullYear(),g=s.getFullYear(),m=p;m<=g;m++)h.push(xz(Cee(new Date),m));var v=function(x){var _=xz(wi(n),Number(x.target.value));t.onChange(_)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:Fne;return c.jsx(y,{name:"years","aria-label":f(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:a}),children:h.map(function(x){return c.jsx("option",{value:x.getFullYear(),children:d(x,{locale:a})},x.getFullYear())})})}function HJe(t,e){var n=b.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function qJe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(s&&Ih(s,i)<0){var u=-1*(l-1);i=ea(s,u)}return a&&Ih(i,a)<0&&(i=a),wi(i)}function KJe(){var t=Gt(),e=qJe(t),n=HJe(e,t.month),r=n[0],i=n[1],s=function(a){var o;if(!t.disableNavigation){var l=wi(a);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,s]}function GJe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=wi(t),s=wi(ea(i,r)),a=Ih(s,i),o=[],l=0;l<a;l++){var u=ea(i,l);o.push(u)}return n&&(o=o.reverse()),o}function YJe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=wi(t);if(!n)return ea(o,a);var l=Ih(n,t);if(!(l<s))return ea(o,a)}}function XJe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=wi(t);if(!n)return ea(o,-a);var l=Ih(o,n);if(!(l<=0))return ea(o,-a)}}var zne=b.createContext(void 0);function QJe(t){var e=Gt(),n=KJe(),r=n[0],i=n[1],s=GJe(r,e),a=YJe(r,e),o=XJe(r,e),l=function(f){return s.some(function(h){return GR(f,h)})},u=function(f,h){l(f)||(h&&Dee(f,h)?i(ea(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:l};return c.jsx(zne.Provider,{value:d,children:t.children})}function qy(){var t=b.useContext(zne);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function Xz(t){var e,n=Gt(),r=n.classNames,i=n.styles,s=n.components,a=qy().goToMonth,o=function(d){a(ea(d,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:Vne,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:u}),c.jsx(BJe,{onChange:o,displayMonth:t.displayMonth}),c.jsx(WJe,{onChange:o,displayMonth:t.displayMonth})]})}function ZJe(t){return c.jsx("svg",Xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function JJe(t){return c.jsx("svg",Xe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var k1=b.forwardRef(function(t,e){var n=Gt(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),o=Xe(Xe({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",Xe({},t,{ref:e,type:"button",className:a,style:o}))});function eet(t){var e,n,r=Gt(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,l=r.labels,u=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var h=u(t.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:s}),m=[a.nav_button,a.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:JJe,y=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:ZJe;return c.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(k1,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(v,{className:a.nav_icon,style:o.nav_icon}):c.jsx(y,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(k1,{name:"next-month","aria-label":g,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(y,{className:a.nav_icon,style:o.nav_icon}):c.jsx(v,{className:a.nav_icon,style:o.nav_icon})})]})}function Qz(t){var e=Gt().numberOfMonths,n=qy(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(g){return GR(t.displayMonth,g)}),l=o===0,u=o===a.length-1,d=e>1&&(l||!u),f=e>1&&(u||!l),h=function(){r&&s(r)},p=function(){i&&s(i)};return c.jsx(eet,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:p})}function tet(t){var e,n=Gt(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:Vne,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=c.jsx(Xz,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(Xz,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(Qz,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(Qz,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:r.caption,style:s.caption,children:u})}function net(t){var e=Gt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?c.jsx("tfoot",{className:i,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function ret(t,e,n){for(var r=n?Hu(new Date):Fa(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=zr(r,s);i.push(a)}return i}function iet(){var t=Gt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=ret(i,s,a);return c.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return c.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:o(d,{locale:i})},f)})]})}function set(){var t,e=Gt(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:iet;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(s,{})})}function aet(t){var e=Gt(),n=e.locale,r=e.formatters.formatDay;return c.jsx(c.Fragment,{children:r(t.date,{locale:n})})}var uM=b.createContext(void 0);function oet(t){if(!Wy(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(uM.Provider,{value:e,children:t.children})}return c.jsx(cet,{initialProps:t.initialProps,children:t.children})}function cet(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(u,d,f){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var g=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var m=!!(!d.selected&&s&&(r==null?void 0:r.length)===s);if(!m){var v=r?Lne([],r):[];if(d.selected){var y=v.findIndex(function(x){return hi(u,x)});v.splice(y,1)}else v.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,v,u,d,f)}}},o={disabled:[]};r&&o.disabled.push(function(u){var d=s&&r.length>s-1,f=r.some(function(h){return hi(h,u)});return!!(d&&!f)});var l={selected:r,onDayClick:a,modifiers:o};return c.jsx(uM.Provider,{value:l,children:n})}function dM(){var t=b.useContext(uM);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function uet(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?hi(i,t)&&hi(r,t)?void 0:hi(i,t)?{from:i,to:void 0}:hi(r,t)?void 0:jk(r,t)?{from:t,to:i}:{from:r,to:t}:i?jk(t,i)?{from:i,to:t}:{from:t,to:i}:r?Dee(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var fM=b.createContext(void 0);function det(t){if(!Hy(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(fM.Provider,{value:e,children:t.children})}return c.jsx(fet,{initialProps:t.initialProps,children:t.children})}function fet(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,o=e.min,l=e.max,u=function(p,g,m){var v,y;(v=e.onDayClick)===null||v===void 0||v.call(e,p,g,m);var x=uet(p,r);(y=e.onSelect)===null||y===void 0||y.call(e,x,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],hi(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),o&&(s&&!a&&d.disabled.push({after:AA(s,o-1),before:zr(s,o-1)}),s&&a&&d.disabled.push({after:s,before:zr(s,o-1)}),!s&&a&&d.disabled.push({after:AA(a,o-1),before:zr(a,o-1)})),l){if(s&&!a&&(d.disabled.push({before:zr(s,-l+1)}),d.disabled.push({after:zr(s,l-1)})),s&&a){var f=ya(a,s)+1,h=l-f;d.disabled.push({before:AA(s,h)}),d.disabled.push({after:zr(a,h)})}!s&&a&&(d.disabled.push({before:zr(a,-l+1)}),d.disabled.push({after:zr(a,l-1)}))}return c.jsx(fM.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function hM(){var t=b.useContext(fM);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Bx(t){return Array.isArray(t)?Lne([],t):t!==void 0?[t]:[]}function het(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Bx(i)}),e}var ta;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ta||(ta={}));var pet=ta.Selected,no=ta.Disabled,met=ta.Hidden,get=ta.Today,$A=ta.RangeEnd,VA=ta.RangeMiddle,FA=ta.RangeStart,vet=ta.Outside;function yet(t,e,n){var r,i=(r={},r[pet]=Bx(t.selected),r[no]=Bx(t.disabled),r[met]=Bx(t.hidden),r[get]=[t.today],r[$A]=[],r[VA]=[],r[FA]=[],r[vet]=[],r);return t.fromDate&&i[no].push({before:t.fromDate}),t.toDate&&i[no].push({after:t.toDate}),Wy(t)?i[no]=i[no].concat(e.modifiers[no]):Hy(t)&&(i[no]=i[no].concat(n.modifiers[no]),i[FA]=n.modifiers[FA],i[VA]=n.modifiers[VA],i[$A]=n.modifiers[$A]),i}var Une=b.createContext(void 0);function xet(t){var e=Gt(),n=dM(),r=hM(),i=yet(e,n,r),s=het(e.modifiers),a=Xe(Xe({},i),s);return c.jsx(Une.Provider,{value:a,children:t.children})}function Bne(){var t=b.useContext(Une);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function bet(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function wet(t){return!!(t&&typeof t=="object"&&"from"in t)}function _et(t){return!!(t&&typeof t=="object"&&"after"in t)}function Eet(t){return!!(t&&typeof t=="object"&&"before"in t)}function Tet(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Aet(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=ya(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=ya(t,r)>=0&&ya(i,t)>=0;return a}return i?hi(i,t):r?hi(r,t):!1}function jet(t){return HR(t)}function Cet(t){return Array.isArray(t)&&t.every(HR)}function Pet(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(jet(n))return hi(t,n);if(Cet(n))return n.includes(t);if(wet(n))return Aet(t,n);if(Tet(n))return n.dayOfWeek.includes(t.getDay());if(bet(n)){var r=ya(n.before,t),i=ya(n.after,t),s=r>0,a=i<0,o=jk(n.before,n.after);return o?a&&s:s||a}return _et(n)?ya(t,n.after)>0:Eet(n)?ya(n.before,t)>0:typeof n=="function"?n(t):!1})}function pM(t,e,n){var r=Object.keys(e).reduce(function(s,a){var o=e[a];return Pet(t,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!GR(t,n)&&(i.outside=!0),i}function ket(t,e){for(var n=wi(t[0]),r=oE(t[t.length-1]),i,s,a=n;a<=r;){var o=pM(a,e),l=!o.disabled&&!o.hidden;if(!l){a=zr(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=zr(a,1)}return s||i}var Net=365;function Wne(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:zr,week:Ak,month:ea,year:_Ge,startOfWeek:function(v){return i.ISOWeek?Hu(v):Fa(v,{locale:f,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?Pee(v):qR(v,{locale:f,weekStartsOn:l})}},p=h[n](t,r==="after"?1:-1);r==="before"&&u?p=SGe([u,p]):r==="after"&&d&&(p=EGe([d,p]));var g=!0;if(s){var m=pM(p,s);g=!m.disabled&&!m.hidden}return g?p:o.count>Net?o.lastFocused:Wne(p,{moveBy:n,direction:r,context:i,modifiers:s,retry:Xe(Xe({},o),{count:o.count+1})})}var Hne=b.createContext(void 0);function Iet(t){var e=qy(),n=Bne(),r=b.useState(),i=r[0],s=r[1],a=b.useState(),o=a[0],l=a[1],u=ket(e.displayMonths,n),d=i??(o&&e.isDateDisplayed(o))?o:u,f=function(){l(i),s(void 0)},h=function(v){s(v)},p=Gt(),g=function(v,y){if(i){var x=Wne(i,{moveBy:v,direction:y,context:p,modifiers:n});hi(i,x)||(e.goToDate(x,i),h(x))}},m={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return c.jsx(Hne.Provider,{value:m,children:t.children})}function mM(){var t=b.useContext(Hne);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Oet(t,e){var n=Bne(),r=pM(t,n,e);return r}var gM=b.createContext(void 0);function Ret(t){if(!yE(t.initialProps)){var e={selected:void 0};return c.jsx(gM.Provider,{value:e,children:t.children})}return c.jsx(Met,{initialProps:t.initialProps,children:t.children})}function Met(t){var e=t.initialProps,n=t.children,r=function(s,a,o){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,a,o),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:r};return c.jsx(gM.Provider,{value:i,children:n})}function qne(){var t=b.useContext(gM);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Det(t,e){var n=Gt(),r=qne(),i=dM(),s=hM(),a=mM(),o=a.focusDayAfter,l=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,h=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,m=a.focusYearBefore,v=a.focusYearAfter,y=a.focusStartOfWeek,x=a.focusEndOfWeek,_=function(z){var L,F,W,ne;yE(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,z):Wy(n)?(F=i.onDayClick)===null||F===void 0||F.call(i,t,e,z):Hy(n)?(W=s.onDayClick)===null||W===void 0||W.call(s,t,e,z):(ne=n.onDayClick)===null||ne===void 0||ne.call(n,t,e,z)},E=function(z){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,z)},S=function(z){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,z)},j=function(z){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,z)},A=function(z){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,z)},T=function(z){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,z)},C=function(z){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,z)},k=function(z){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,z)},I=function(z){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,z)},N=function(z){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,z)},O=function(z){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,z)},D=function(z){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,z)},V=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?m():p();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():g();break;case"Home":z.preventDefault(),z.stopPropagation(),y();break;case"End":z.preventDefault(),z.stopPropagation(),x();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,z)},U={onClick:_,onFocus:E,onBlur:S,onKeyDown:V,onKeyUp:D,onMouseEnter:j,onMouseLeave:A,onPointerEnter:T,onPointerLeave:C,onTouchCancel:k,onTouchEnd:I,onTouchMove:N,onTouchStart:O};return U}function Let(){var t=Gt(),e=qne(),n=dM(),r=hM(),i=yE(t)?e.selected:Wy(t)?n.selected:Hy(t)?r.selected:void 0;return i}function $et(t){return Object.values(ta).includes(t)}function Vet(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if($et(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function Fet(t,e){var n=Xe({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Xe(Xe({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function zet(t,e,n){var r,i,s,a=Gt(),o=mM(),l=Oet(t,e),u=Det(t,l),d=Let(),f=!!(a.onDayClick||a.mode!=="default");b.useEffect(function(){var j;l.outside||o.focusedDay&&f&&hi(o.focusedDay,t)&&((j=n.current)===null||j===void 0||j.focus())},[o.focusedDay,t,n,f,l.outside]);var h=Vet(a,l).join(" "),p=Fet(a,l),g=!!(l.outside&&!a.showOutsideDays||l.hidden),m=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:aet,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),y={style:p,className:h,children:v,role:"gridcell"},x=o.focusTarget&&hi(o.focusTarget,t)&&!l.outside,_=o.focusedDay&&hi(o.focusedDay,t),E=Xe(Xe(Xe({},y),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=_||x?0:-1,r)),u),S={isButton:f,isHidden:g,activeModifiers:l,selectedDays:d,buttonProps:E,divProps:y};return S}function Uet(t){var e=b.useRef(null),n=zet(t.date,t.displayMonth,e);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(k1,Xe({name:"day",ref:e},n.buttonProps)):c.jsx("div",Xe({},n.divProps))}function Bet(t){var e=t.number,n=t.dates,r=Gt(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var f=l(Number(e),{locale:o}),h=function(p){i(e,n,p)};return c.jsx(k1,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:h,children:d})}function Wet(t){var e,n,r=Gt(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:Uet,u=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:Bet,d;return a&&(d=c.jsx("td",{className:s.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return c.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:f})},kYe(f))})]})}function Zz(t,e,n){for(var r=n!=null&&n.ISOWeek?Pee(e):qR(e,n),i=n!=null&&n.ISOWeek?Hu(t):Fa(t,n),s=ya(r,i),a=[],o=0;o<=s;o++)a.push(zr(i,o));var l=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?Nee(d):Oee(d,n),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function Het(t,e){var n=Zz(wi(t),oE(t),e);if(e!=null&&e.useFixedWeeks){var r=IYe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=Ak(s,6-r),o=Zz(Ak(s,1),a,e);n.push.apply(n,o)}}return n}function qet(t){var e,n,r,i=Gt(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,g=Het(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:set,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Wet,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:net;return c.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:a.tbody,style:o.tbody,children:g.map(function(x){return c.jsx(v,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),c.jsx(y,{displayMonth:t.displayMonth})]})}function Ket(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Get=Ket()?b.useLayoutEffect:b.useEffect,zA=!1,Yet=0;function Jz(){return"react-day-picker-".concat(++Yet)}function Xet(t){var e,n=t??(zA?Jz():null),r=b.useState(n),i=r[0],s=r[1];return Get(function(){i===null&&s(Jz())},[]),b.useEffect(function(){zA===!1&&(zA=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Qet(t){var e,n,r=Gt(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,l=qy().displayMonths,u=Xet(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],h=a.month,p=t.displayIndex===0,g=t.displayIndex===l.length-1,m=!p&&!g;i==="rtl"&&(e=[p,g],g=e[0],p=e[1]),p&&(f.push(s.caption_start),h=Xe(Xe({},h),a.caption_start)),g&&(f.push(s.caption_end),h=Xe(Xe({},h),a.caption_end)),m&&(f.push(s.caption_between),h=Xe(Xe({},h),a.caption_between));var v=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:tet;return c.jsxs("div",{className:f.join(" "),style:h,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(qet,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Zet(t){var e=Gt(),n=e.classNames,r=e.styles;return c.jsx("div",{className:n.months,style:r.months,children:t.children})}function Jet(t){var e,n,r=t.initialProps,i=Gt(),s=mM(),a=qy(),o=b.useState(!1),l=o[0],u=o[1];b.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Xe(Xe({},i.styles.root),i.style),h=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return Xe(Xe({},g),(v={},v[m]=r[m],v))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Zet;return c.jsx("div",Xe({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:c.jsx(p,{children:a.displayMonths.map(function(g,m){return c.jsx(Qet,{displayIndex:m,displayMonth:g},m)})})}))}function ett(t){var e=t.children,n=_Je(t,["children"]);return c.jsx(zJe,{initialProps:n,children:c.jsx(QJe,{children:c.jsx(Ret,{initialProps:n,children:c.jsx(oet,{initialProps:n,children:c.jsx(det,{initialProps:n,children:c.jsx(xet,{children:c.jsx(Iet,{children:e})})})})})})})}function ttt(t){return c.jsx(ett,Xe({},t,{children:c.jsx(Jet,{initialProps:t})}))}function Kne({className:t,classNames:e,showOutsideDays:n=!0,...r}){return c.jsx(ttt,{showOutsideDays:n,className:G("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:G(yC({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:G(yC({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>c.jsx(V7,{className:"h-4 w-4"}),IconRight:({...i})=>c.jsx(ZI,{className:"h-4 w-4"})},...r})}Kne.displayName="Calendar";const ntt=[{id:1,title:"Session photo spéciale",date:new Date(2025,3,15),time:"20:00",type:"premium",attendees:18},{id:2,title:"Live Q&A",date:new Date(2025,3,18),time:"19:30",type:"standard",attendees:42},{id:3,title:"Cours privé",date:new Date(2025,3,21),time:"18:00",type:"vip",attendees:3},{id:4,title:"Séance dédicace",date:new Date(2025,3,28),time:"17:00",type:"standard",attendees:25}],rtt=()=>{const{toast:t}=br(),[e,n]=b.useState(new Date),[r,i]=b.useState(ntt),s=r.filter(o=>e&&o.date.toDateString()===e.toDateString()),a=()=>{t({title:"Créer un événement",description:"La fonction d'ajout d'événement sera bientôt disponible"})};return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:"Calendrier"}),c.jsx("p",{className:"text-muted-foreground",children:"Planifiez et gérez vos événements à venir"})]}),c.jsxs(K,{onClick:a,children:[c.jsx(gC,{size:16,className:"mr-1"}),"Nouvel événement"]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsxs(dt,{className:"flex items-center",children:[c.jsx(Fge,{size:18,className:"mr-2"}),"Calendrier"]}),c.jsx(Tn,{children:"Sélectionnez une date"})]}),c.jsx(Ue,{children:c.jsx(Kne,{mode:"single",selected:e,onSelect:n,className:"rounded-md border",modifiers:{booked:r.map(o=>o.date)},modifiersStyles:{booked:{fontWeight:"bold",backgroundColor:"hsl(var(--primary) / 0.1)",color:"hsl(var(--primary))"}}})})]})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsxs(dt,{children:["Événements du ",e==null?void 0:e.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]}),c.jsx(Tn,{children:s.length===0?"Pas d'événements prévus ce jour":`${s.length} événement${s.length>1?"s":""} prévu${s.length>1?"s":""}`})]}),c.jsx(Ue,{children:c.jsx("div",{className:"space-y-4",children:s.map(o=>c.jsxs("div",{className:G("p-4 border rounded-lg flex flex-col md:flex-row justify-between",o.type==="premium"&&"border-xvush-pink/30 bg-xvush-pink/5",o.type==="vip"&&"border-xvush-gold/30 bg-xvush-gold/5",o.type==="standard"&&"border-blue-400/30 bg-blue-400/5"),children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-medium",children:o.title}),c.jsx("span",{className:G("text-xs px-2 py-0.5 rounded-full",o.type==="premium"&&"bg-xvush-pink text-white",o.type==="vip"&&"bg-xvush-gold text-black",o.type==="standard"&&"bg-blue-400 text-white"),children:o.type})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(Ru,{size:14,className:"mr-1"}),o.time]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(pr,{size:14,className:"mr-1"}),o.attendees," inscrit",o.attendees>1?"s":""]})]})]}),c.jsx("div",{className:"mt-3 md:mt-0",children:c.jsx(K,{size:"sm",variant:"outline",children:"Gérer"})})]},o.id))})}),s.length===0&&c.jsx(Lu,{children:c.jsxs(K,{onClick:a,variant:"outline",className:"w-full",children:[c.jsx(gC,{size:16,className:"mr-2"}),"Ajouter un événement ce jour"]})})]})})]})]})})};function Gne(){const[t,e]=b.useState({wallet:!1,security:!1,subscriptions:!1,contentPurchase:!1,supportCreator:!1,giftCreator:!1});return{openModals:t,openModal:s=>{e(a=>({...a,[s]:!0}))},closeModal:s=>{e(a=>({...a,[s]:!1}))},toggleModal:s=>{e(a=>({...a,[s]:!a[s]}))}}}const am=new Map,itt={uploadFile:async(t,e="avatars")=>new Promise(n=>{setTimeout(()=>{const r=`${t.name}-${t.size}-${t.lastModified}`;let i=am.get(r);i||(i=URL.createObjectURL(t),am.set(r,i),setTimeout(()=>{URL.revokeObjectURL(i),am.delete(r)},5*60*1e3)),console.log(`File upload simulated: ${t.name} to folder ${e}`),n({url:i,path:`${e}/${t.name}`,success:!0})},800)}),validateFile:(t,e={})=>{const{maxSizeMB:n=5,allowedTypes:r=["image/jpeg","image/png","image/gif","image/webp"]}=e;if(r.length>0&&!r.includes(t.type))return{valid:!1,error:`Type de fichier non supporté. Types acceptés: ${r.join(", ")}`};const i=n*1024*1024;return t.size>i?{valid:!1,error:`Le fichier est trop volumineux. Taille maximum: ${n}MB`}:{valid:!0}},createOptimizedPreview:(t,e=800)=>new Promise((n,r)=>{if(!t.type.startsWith("image/")){const s=URL.createObjectURL(t);n(s);return}const i=new FileReader;i.onload=s=>{var o;const a=new Image;a.onload=()=>{var h,p;if(a.width<=e){n((h=s.target)==null?void 0:h.result);return}const l=document.createElement("canvas"),u=e/a.width;l.width=e,l.height=a.height*u;const d=l.getContext("2d");if(!d){n((p=s.target)==null?void 0:p.result);return}d.drawImage(a,0,0,l.width,l.height);const f=l.toDataURL(t.type,.85);n(f)},a.onerror=()=>{const l=URL.createObjectURL(t);n(l)},a.src=(o=s.target)==null?void 0:o.result},i.onerror=r,i.readAsDataURL(t)}),revokeObjectUrl:t=>{for(const[e,n]of am.entries())if(n===t){am.delete(e);break}URL.revokeObjectURL(t)}},stt=({open:t,onOpenChange:e})=>{const{user:n}=Ut(),{walletInfo:r,getWalletInfo:i,loading:s}=Tp(),[a,o]=b.useState("balance");return b.useEffect(()=>{t&&n&&i()},[t,n]),c.jsx(Zo,{open:t,onOpenChange:e,children:c.jsxs(Ya,{className:"sm:max-w-[600px]",children:[c.jsx(Oc,{children:c.jsx(Rc,{children:"Portefeuille"})}),s?c.jsx("div",{className:"flex justify-center items-center py-20",children:c.jsx(kx,{className:"h-8 w-8 animate-spin text-primary"})}):c.jsxs(Zr,{value:a,onValueChange:o,className:"w-full",children:[c.jsxs(Dr,{className:"grid w-full grid-cols-3",children:[c.jsx(Je,{value:"balance",children:"Solde"}),c.jsx(Je,{value:"connect",children:"Connecter"}),c.jsx(Je,{value:"history",children:"Historique"})]}),c.jsx(mt,{value:"balance",className:"space-y-4 py-4",children:c.jsx(jne,{walletInfo:r})}),c.jsx(mt,{value:"connect",className:"space-y-4 py-4",children:c.jsx(Ane,{walletInfo:r})}),c.jsx(mt,{value:"history",className:"space-y-4 py-4",children:c.jsx(Cne,{transactions:(r==null?void 0:r.transactions)||[]})})]})]})})},att=()=>{const{user:t,profile:e,isCreator:n,signOut:r,updateUserProfile:i,becomeCreator:s}=Ut(),{triggerMicroReward:a}=gn(),{openModals:o,openModal:l,closeModal:u}=Gne(),d=Xi(),[f,h]=b.useState(""),[p,g]=b.useState(""),[m,v]=b.useState(""),[y,x]=b.useState(""),[_,E]=b.useState(!1),[S,j]=b.useState(!1),[A,T]=b.useState(!1),C=b.useRef(null);b.useEffect(()=>{var U;e?(h(e.displayName||e.username||""),g(e.username||""),v(e.bio||""),x(e.avatarUrl||"")):t&&!e&&(h(""),g(((U=t.email)==null?void 0:U.split("@")[0])||""),v(""),x(""))},[e,t]);const k=async()=>{if(!p.trim()){me.error("Le nom d'utilisateur est requis");return}try{E(!0),await i({username:p,displayName:f,bio:m,avatarUrl:y}),a("like"),me.success("Profil mis à jour avec succès")}catch(U){me.error(U.message||"Erreur lors de la mise à jour du profil")}finally{E(!1)}},I=async()=>{try{j(!0),await s(),a("navigate"),me.success("Vous êtes maintenant un créateur !"),d("/dashboard")}catch(U){me.error(U.message||"Erreur lors du passage en mode créateur")}finally{j(!1)}},N=async()=>{try{await r(),d("/auth"),me.info("Déconnexion réussie.")}catch(U){me.error("Erreur lors de la déconnexion."),console.error("Sign out error:",U)}},O=async U=>{var F;const z=(F=U.target.files)==null?void 0:F[0];if(!z)return;const L=itt.validateFile(z,{maxSizeMB:5,allowedTypes:["image/jpeg","image/png","image/gif","image/webp"]});if(!L.valid){me.error(L.error||"Fichier invalide");return}try{T(!0);const W=URL.createObjectURL(z);x(W),await new Promise(ne=>setTimeout(ne,1500)),me.success("Photo de profil mise à jour."),a("creative")}catch(W){me.error(W.message||"Erreur lors de l'upload"),x((e==null?void 0:e.avatarUrl)||"")}finally{T(!1)}},D=()=>{var U;(U=C.current)==null||U.click()},V=U=>{switch(U){case"payment":l("wallet");break;case"security":me.info("Fonctionnalité de sécurité en cours de développement");break;case"subscriptions":d("/tokens");break;default:me.info("Cette section est en cours de développement")}};return!t&&!e?c.jsxs("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center min-h-[300px]",children:[c.jsx(qu,{size:"lg"}),c.jsx("p",{className:"ml-2",children:"Chargement des paramètres..."})]}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[c.jsx("div",{className:"w-full md:w-1/3 space-y-4",children:c.jsx(Fe,{children:c.jsxs(Ue,{className:"pt-6 flex flex-col items-center text-center",children:[c.jsxs("div",{className:"relative mb-4",children:[c.jsx(Yg,{src:y||"/placeholder.svg",size:"xl",status:"online",onClick:D}),c.jsx(K,{size:"icon",variant:"outline",className:"absolute bottom-0 right-0 rounded-full h-8 w-8",onClick:D,disabled:A,children:A?c.jsx(qu,{size:"sm"}):c.jsx(Px,{className:"h-4 w-4"})}),c.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:O,disabled:A})]}),c.jsx("h3",{className:"text-lg font-medium",children:f||p||"Utilisateur"}),c.jsx("div",{className:"mt-2",children:n?c.jsxs($n,{variant:"outline",className:"gap-1 border-pink-500 text-pink-500",children:[c.jsx(Kf,{className:"h-3 w-3"}),"Créateur"]}):c.jsxs($n,{variant:"outline",className:"gap-1",children:[c.jsx(Fg,{className:"h-3 w-3"}),"Fan"]})}),c.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:m||"Pas de bio..."}),!n&&e&&c.jsxs(K,{onClick:I,className:"mt-6 w-full bg-xvush-pink hover:bg-xvush-pink-dark gap-2",disabled:S,children:[c.jsx(Kf,{className:"h-4 w-4"}),S?"En cours...":"Devenir créateur"]}),c.jsxs(K,{onClick:N,variant:"outline",className:"mt-4 w-full gap-2",children:[c.jsx(r2,{className:"h-4 w-4"}),"Déconnexion"]})]})})}),c.jsx("div",{className:"w-full md:w-2/3",children:c.jsxs(Fe,{children:[c.jsxs(st,{children:[c.jsx(dt,{children:"Paramètres du profil"}),c.jsx(Tn,{children:"Gérez vos informations personnelles et vos préférences"})]}),c.jsx(Ue,{children:c.jsxs(Zr,{defaultValue:"profile",children:[c.jsxs(Dr,{className:"w-full mb-6",children:[c.jsx(Je,{value:"profile",className:"flex-1",children:"Profil"}),c.jsx(Je,{value:"account",className:"flex-1",children:"Compte"}),c.jsx(Je,{value:"preferences",className:"flex-1",children:"Préférences"})]}),c.jsxs(mt,{value:"profile",className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"username",children:"Nom d'utilisateur"}),c.jsx(en,{id:"username",value:p,onChange:U=>g(U.target.value),placeholder:"votrepseudo"})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"displayName",children:"Nom d'affichage"}),c.jsx(en,{id:"displayName",value:f,onChange:U=>h(U.target.value),placeholder:"Votre nom public"})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"bio",children:"Bio"}),c.jsx(Fy,{id:"bio",value:m,onChange:U=>v(U.target.value),placeholder:"Parlez-nous de vous...",rows:4})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"avatarUrl",children:"URL de l'avatar (ou uploadez ci-dessus)"}),c.jsx(en,{id:"avatarUrl",value:y||"",onChange:U=>x(U.target.value),placeholder:"URL de votre avatar"})]}),c.jsx(K,{onClick:k,disabled:_,children:_?"Mise à jour...":"Enregistrer"})]}),c.jsxs(mt,{value:"account",className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>V("payment"),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:c.jsx(yu,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Paiements"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérer vos méthodes"})]})]}),c.jsx(K,{variant:"outline",size:"sm",children:"Gérer"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>V("security"),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:c.jsx(O_,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Sécurité"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Mot de passe"})]})]}),c.jsx(K,{variant:"outline",size:"sm",children:"Modifier"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-muted/50",onClick:()=>V("subscriptions"),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:c.jsx(cs,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Abonnements"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérer vos abonnements"})]})]}),c.jsx(K,{variant:"outline",size:"sm",children:"Voir"})]})]}),c.jsx(mt,{value:"preferences",children:c.jsx("p",{className:"text-muted-foreground text-center py-6",children:"Préférences bientôt disponibles"})})]})})]})})]})}),c.jsx(stt,{open:o.wallet,onOpenChange:U=>U?l("wallet"):u("wallet")})]})},ott=()=>{const t=Ua();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ltt=({creator:t,className:e,onClick:n})=>{var h,p,g;const{user:r}=Ut(),{triggerHaptic:i}=ld(),{triggerMicroReward:s}=gn(),a=Xi(),[o,l]=b.useState(!1),[u,d]=b.useState(!1),f=async m=>{if(m.preventDefault(),m.stopPropagation(),!r){me.error("Veuillez vous connecter pour suivre un créateur."),a("/auth");return}if(r.id===t.userId){me.info("Vous ne pouvez pas vous suivre vous-même.");return}d(!0);try{o?await rO(r.id,t.userId)?(l(!1),me.success(`Vous ne suivez plus ${t.name}`)):me.error("Échec du désabonnement."):await nO(r.id,t.userId)?(l(!0),me.success(`Vous suivez maintenant ${t.name}`,{description:"Découvrez son contenu exclusif"}),s("like")):me.error("Échec de l'abonnement."),i("medium")}catch(v){console.error("Error following/unfollowing creator:",v),me.error("Une erreur est survenue",{description:"Veuillez réessayer plus tard"})}finally{d(!1)}};return b.useEffect(()=>{(async()=>{if(!(!r||!t.userId)&&r.id!==t.userId){d(!0);try{const v=await tO(r.id,t.userId);l(v)}catch(v){console.error("Error checking follow status:",v)}finally{d(!1)}}})()},[r,t.userId]),c.jsxs("div",{className:G("relative overflow-hidden rounded-xl border border-white/10 bg-black/30 hover:bg-black/40 transition-all duration-300",e),onClick:n,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/90 z-10"}),c.jsx("img",{src:t.avatar||`https://i.pravatar.cc/300?u=${t.userId}`,alt:t.name,className:"w-full aspect-[3/4] object-cover"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden border-2 border-white/80",children:c.jsx("img",{src:t.avatar||`https://i.pravatar.cc/100?u=${t.userId}`,alt:t.name,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-bold text-white truncate",children:t.name}),c.jsxs("p",{className:"text-xs text-white/70",children:["@",t.username]})]}),t.isPremium&&c.jsx("div",{className:"bg-amber-500 text-black text-xs font-semibold px-2 py-0.5 rounded",children:"PREMIUM"})]}),c.jsxs("div",{className:"flex items-center justify-between text-white/80 text-xs mb-3",children:[((h=t.metrics)==null?void 0:h.followers)!==void 0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(pr,{size:12,className:"mr-1"}),t.metrics.followers]}),((p=t.metrics)==null?void 0:p.likes)!==void 0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(er,{size:12,className:"mr-1"}),t.metrics.likes]}),((g=t.metrics)==null?void 0:g.rating)!==void 0&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(sd,{size:12,className:"mr-1"}),t.metrics.rating.toFixed(1)]}),c.jsxs("button",{className:"flex items-center hover:text-white transition-colors",onClick:m=>{if(m.preventDefault(),m.stopPropagation(),!r){me.error("Connectez-vous pour contacter un créateur."),a("/auth");return}if(r.id===t.userId){me.info("Vous ne pouvez pas vous contacter vous-même.");return}a("/secure-messaging",{state:{creatorId:t.userId,creatorName:t.name,creatorAvatar:t.avatar}})},children:[c.jsx(Qh,{size:12,className:"mr-1"}),"Contacter"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Wr,{to:`/creator/${t.username}`,className:"flex-1 text-center text-xs font-medium bg-white/10 hover:bg-white/20 rounded-full py-2",onClick:m=>m.stopPropagation(),children:"Profil"}),r&&r.id!==t.userId&&c.jsx("button",{className:G("flex-1 text-center text-xs font-medium rounded-full py-2",o?"bg-white/20 hover:bg-white/30":"bg-primary/80 hover:bg-primary"),onClick:f,disabled:u,children:u&&o?"Désabonnement...":u&&!o?"Abonnement...":o?"Ne plus suivre":"Suivre"})]})]})]})},eU=[{id:"trend1",userId:"mockUserId1",uploadedAt:new Date,title:"Morning Coffee Routine (Placeholder)",type:"premium",format:"9:16",thumbnailUrl:"https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=800&auto=format&fit=crop",videoUrl:"https://assets.mixkit.co/videos/preview/mixkit-woman-taking-cold-pictures-33355-large.mp4",metrics:{likes:1200,comments:89,views:5600}},{id:"trend2",userId:"mockUserId2",uploadedAt:new Date,title:"Spring Fashion Look (Placeholder)",type:"vip",format:"9:16",thumbnailUrl:"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=800&auto=format&fit=crop",videoUrl:"https://assets.mixkit.co/videos/preview/mixkit-going-down-a-curved-highway-through-a-mountain-range-41576-large.mp4",metrics:{likes:950,comments:63,views:4100}}],ctt=()=>{const[t,e]=b.useState("all"),[n,r]=b.useState("content"),{config:i}=gn(),{trackInteraction:s}=rp(),{triggerMicroReward:a}=gn(),[o,l]=b.useState(null),[u,d]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState(!1),[m,v]=b.useState(null),[y,x]=b.useState(eU),[_,E]=b.useState(!1),[S,j]=b.useState(null),{toast:A}=useToast(),T=Xi(),C=async()=>{g(!0),v(null);try{const V=(await Qb()).map(U=>({...U,metrics:{followers:Math.floor(Math.random()*1e4),likes:Math.floor(Math.random()*5e3),rating:4+Math.random()},isPremium:Math.random()>.5}));h(V)}catch(D){console.error("Erreur lors du chargement des créateurs:",D),v("Impossible de charger les créateurs.")}finally{g(!1)}},k=async()=>{E(!0),j(null);try{console.log("Logique de chargement des vidéos tendance à implémenter avec Firestore."),x(eU)}catch(D){console.error("Erreur lors du chargement des vidéos tendance:",D),j("Impossible de charger les vidéos tendance.")}finally{E(!1)}};b.useEffect(()=>{s("view",{page:"trending"}),C(),k()},[s]);const I=D=>{a("click"),s("click",{contentId:D.id}),D.videoUrl&&(l(D),d(!0))},N=D=>{a("click"),s("click",{creatorId:D.uid}),T("/secure-messaging",{state:{creatorId:D.uid}})},O=t==="all"?y:y.filter(D=>D.type===t);return c.jsxs("div",{className:"relative z-10",children:[c.jsx(X2,{visible:i.goldenRatioVisible||!1,opacity:.05}),c.jsx(Y2,{currentMood:i.adaptiveMood,intensity:i.moodIntensity}),c.jsx(TK,{enable:i.microRewardsEnabled,rewardIntensity:i.microRewardsIntensity,adaptToContext:!0,reducedMotion:i.animationSpeed==="reduced"}),c.jsxs("div",{className:"container px-4 mx-auto py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(K,{variant:"ghost",size:"icon",asChild:!0,children:c.jsx(Wr,{to:"/",children:c.jsx(j_,{className:"h-5 w-5"})})}),c.jsx("h1",{className:"text-3xl font-bold",children:"Trending"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",className:"gap-2",children:[c.jsx(t2,{className:"h-4 w-4"}),"Filtres"]}),c.jsx(K,{variant:"outline",size:"icon",onClick:()=>{C(),k()},title:"Actualiser",children:c.jsx(k_,{className:"h-4 w-4"})})]})]}),c.jsxs(Zr,{defaultValue:"content",value:n,onValueChange:r,children:[c.jsxs(Dr,{className:"mb-6",children:[c.jsx(Je,{value:"content",children:"Contenu"}),c.jsxs(Je,{value:"creators",className:"flex items-center gap-1",children:[c.jsx(pr,{size:14}),"Créateurs"]})]}),c.jsx(mt,{value:"content",children:c.jsxs(Zr,{defaultValue:"all",value:t,onValueChange:e,children:[c.jsxs(Dr,{className:"mb-6",children:[c.jsx(Je,{value:"all",children:"Tous"}),c.jsx(Je,{value:"standard",children:"Standard"}),c.jsx(Je,{value:"premium",children:"Premium"}),c.jsx(Je,{value:"vip",children:"VIP"})]}),c.jsxs(mt,{value:t,className:"mt-0",children:[_&&c.jsx("p",{children:"Chargement des vidéos..."}),S&&c.jsx("p",{className:"text-red-500",children:S}),!_&&!S&&c.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:c.jsx(K2,{contents:O,layout:"masonry",onItemClick:I})})]})]})}),c.jsxs(mt,{value:"creators",children:[p&&c.jsx("p",{children:"Chargement des créateurs..."}),m&&c.jsx("p",{className:"text-red-500",children:m}),!p&&!m&&c.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:f.length>0?c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f.map(D=>c.jsx(ltt,{creator:{id:D.uid,userId:D.uid,username:D.username,name:D.displayName||D.username,avatar:D.avatarUrl||`https://i.pravatar.cc/300?u=${D.uid}`,bio:D.bio||void 0,metrics:D.metrics,isPremium:D.isPremium},onClick:()=>N(D)},D.uid))}):c.jsx("p",{children:"Aucun créateur trouvé."})})]})]})]}),c.jsx(nee,{isOpen:u,onClose:()=>d(!1),videoSrc:(o==null?void 0:o.videoUrl)||"",thumbnailUrl:o==null?void 0:o.thumbnailUrl,title:o==null?void 0:o.title})]})},utt=()=>({trackInteraction:(t,e)=>console.log(t,e)}),dtt=()=>({modelState:{initialized:!1,autoApply:!1,predictions:[]},runAnalysis:()=>{},applyLatestPrediction:()=>{}}),ftt=({children:t,className:e,enableAutoML:n=!0})=>{const{config:r,circadian:i}=gn({enableCircadian:!0}),{trackInteraction:s}=utt(),{modelState:a,runAnalysis:o,applyLatestPrediction:l}=dtt(),{toast:u}=br(),[d,f]=M.useState(!1);return b.useEffect(()=>(document.documentElement.classList.add("xvush-design-system"),r.cognitiveProfile&&document.documentElement.classList.add(`cognitive-${r.cognitiveProfile}`),document.documentElement.setAttribute("data-time-of-day",i.timeOfDay),window.innerWidth<768&&document.documentElement.classList.add("xvush-mobile"),Sye()&&document.documentElement.classList.add("xvush-reduced-motion"),r.focusModeEnabled?document.documentElement.classList.add("focus-mode"):document.documentElement.classList.remove("focus-mode"),s("analyze",{system:"xvush-design-system",timeOfDay:i.timeOfDay,circadianPhase:i.circadianPhase}),setTimeout(()=>{document.querySelectorAll('button, a, [role="button"]').forEach(g=>{g.addEventListener("click",()=>{"vibrate"in navigator&&navigator.vibrate(10)})})},1e3),()=>{document.documentElement.classList.remove("xvush-design-system","focus-mode","xvush-mobile","xvush-reduced-motion","cognitive-visual","cognitive-analytical","cognitive-balanced","cognitive-immersive"),document.documentElement.removeAttribute("data-time-of-day")}),[r.cognitiveProfile,r.focusModeEnabled,i.timeOfDay,i.circadianPhase,s]),b.useEffect(()=>{if(!d){const h=setTimeout(()=>{"vibrate"in navigator&&navigator.vibrate([20,50,20]),f(!0)},2e3);return()=>clearTimeout(h)}},[d]),b.useEffect(()=>{r.focusModeEnabled?document.documentElement.classList.add("focus-mode"):document.documentElement.classList.remove("focus-mode")},[r.focusModeEnabled]),b.useEffect(()=>{document.documentElement.classList.remove("cognitive-visual","cognitive-analytical","cognitive-balanced","cognitive-immersive"),r.cognitiveProfile&&document.documentElement.classList.add(`cognitive-${r.cognitiveProfile}`)},[r.cognitiveProfile]),b.useEffect(()=>{document.documentElement.setAttribute("data-time-of-day",i.timeOfDay)},[i.timeOfDay]),b.useEffect(()=>{},[n,a.initialized,a.autoApply,a.predictions,r.cognitiveProfile,l,u]),b.useEffect(()=>{if(n){const h=setInterval(()=>{try{const p=localStorage.getItem("xvush_user_behavior");p&&JSON.parse(p).interactionCount>30&&(o(),clearInterval(h))}catch(p){console.error("Error checking user behavior data",p)}},36e5);return()=>clearInterval(h)}},[n,a.initialized,o]),c.jsx("div",{className:e,children:t})},htt=({onSelectCreator:t,onCancel:e})=>{const[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(""),{toast:l}=br(),{triggerHaptic:u}=ld();b.useEffect(()=>{(async()=>{s(!0);try{const p=await Qb();r(p)}catch(p){console.error("Error loading creators for selector:",p),l({title:"Erreur",description:"Impossible de charger les créateurs.",variant:"destructive"})}s(!1)})()},[l]);const d=n.filter(h=>{var v,y,x;const p=a.toLowerCase(),g=((v=h.displayName)==null?void 0:v.toLowerCase())||((y=h.username)==null?void 0:y.toLowerCase())||"",m=((x=h.username)==null?void 0:x.toLowerCase())||"";return g.includes(p)||m.includes(p)}),f=h=>{u("light"),t(h)};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Démarrer une conversation"}),c.jsxs("div",{className:"relative",children:[c.jsx(N_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",size:18}),c.jsx(en,{placeholder:"Rechercher un créateur...",className:"pl-10",value:a,onChange:h=>o(h.target.value)})]})]}),c.jsx(ep,{className:"flex-1 p-4",children:i?c.jsx("div",{className:"space-y-4",children:[...Array(5)].map((h,p)=>c.jsxs("div",{className:"flex items-center gap-3 p-3",children:[c.jsx(Wn,{className:"h-12 w-12 rounded-full"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Wn,{className:"h-4 w-40"}),c.jsx(Wn,{className:"h-3 w-24"})]})]},p))}):d.length>0?c.jsx("div",{className:"space-y-2",children:d.map(h=>c.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer transition-colors",onClick:()=>f(h),children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border border-gray-200 dark:border-gray-800",children:c.jsx("img",{src:h.avatarUrl||`https://i.pravatar.cc/150?u=${h.id}`,alt:h.displayName||h.username,className:"object-cover w-full h-full"})})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:h.displayName||h.username}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:h.bio||`@${h.username}`})]})]},h.id))}):c.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:a?"Aucun créateur trouvé pour votre recherche":"Aucun créateur disponible pour le moment"})})}),c.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:c.jsx(K,{variant:"outline",className:"w-full",onClick:e,children:"Annuler"})})]})},qk=async({userId:t,userName:e,userAvatar:n,creatorId:r,creatorName:i,creatorAvatar:s,initialMessageText:a="Bonjour, j'aimerais discuter avec vous !",isGated:o=!1})=>{if(t===r)return me.error("Vous ne pouvez pas démarrer une conversation avec vous-même."),{success:!1,error:"Self-conversation attempt"};try{const l=Gn(_n(Vt,"messageThreads"),gr("participantIds","==",[t,r]),Nu(1)),u=Gn(_n(Vt,"messageThreads"),gr("participantIds","==",[r,t]),Nu(1)),[d,f]=await Promise.all([ms(l),ms(u)]);let h=null,p;if(d.empty?f.empty||(p=f.docs[0].id,h=f.docs[0].data()):(p=d.docs[0].id,h=d.docs[0].data()),h&&p)return console.log("Un fil de discussion existe déjà:",p),me.info("Une conversation avec ce créateur existe déjà."),{success:!0,threadId:p,existingThreadId:p};const g=WI(Vt),m=uy(),v=ln(_n(Vt,"messageThreads")),y={participantIds:[t,r].sort(),participantInfo:{[t]:{displayName:e,avatarUrl:n},[r]:{displayName:i,avatarUrl:s}},lastMessageText:a,lastMessageSenderId:t,lastMessageCreatedAt:m,lastActivity:m,createdAt:m,isGated:o,name:i};g.set(v,y);const x=ln(_n(v,"messages")),_={senderId:t,content:a,type:"text",createdAt:m,isEncrypted:!1};return g.set(x,_),await g.commit(),me.success("Conversation démarrée avec succès!"),{success:!0,threadId:v.id,message:{id:x.id,..._}}}catch(l){return console.error("Erreur lors de la création de la conversation:",l),me.error("Impossible de démarrer une conversation. Veuillez réessayer."),{success:!1,error:l}}},ptt=({threads:t,userId:e,userName:n,userAvatar:r,onSelectThread:i,activeThreadId:s,userType:a,onNewConversation:o,onConversationCreated:l})=>{const[u,d]=b.useState(""),[f,h]=b.useState(!1),[p,g]=b.useState(!1),{toast:m}=br(),{triggerHaptic:v}=ld(),y=t.filter(N=>S(N).toLowerCase().includes(u.toLowerCase())),x=y.sort((N,O)=>new Date(O.lastActivity).getTime()-new Date(N.lastActivity).getTime()).slice(0,6),_={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},E={hidden:{opacity:0,y:10},show:{opacity:1,y:0}},S=N=>N.name||`Utilisateur_${N.participants.find(O=>O!==e)}`,j=N=>`https://i.pravatar.cc/150?u=${N.participants.find(D=>D!==e)}`,A=N=>N.messages.some(O=>O.status!=="read"&&O.senderId!==e),T=N=>N.messages.some(O=>O.monetization),C=N=>N.messages[N.messages.length-1],k=()=>{v("light"),h(!0)},I=async N=>{if(!(!N||!N.user_id||p)){g(!0);try{const O=await qk({userId:e,userName:n,userAvatar:r,creatorId:N.user_id,creatorName:N.name||N.username,creatorAvatar:N.avatarUrl||null});if(O.success&&O.threadId)m({title:"Conversation créée",description:`Vous pouvez maintenant discuter avec ${N.name||N.username}`}),h(!1),l&&l(O.threadId),v("medium");else throw new Error("Échec de création de la conversation")}catch(O){console.error("Erreur lors de la création de la conversation:",O),m({title:"Erreur",description:"Impossible de créer une conversation. Veuillez réessayer.",variant:"destructive"})}finally{g(!1)}}};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(N_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16}),c.jsx(en,{placeholder:"Rechercher une conversation...",className:"pl-9 bg-background",value:u,onChange:N=>d(N.target.value)})]}),c.jsx(K,{size:"icon",variant:"outline",onClick:k,disabled:p,children:p?c.jsx("div",{className:"h-4 w-4 border-2 border-t-transparent border-white rounded-full animate-spin"}):c.jsx(R_,{size:18})})]}),c.jsx(Oe.div,{variants:_,initial:"hidden",animate:"show",className:"p-4 grid grid-cols-3 sm:grid-cols-6 gap-3",children:x.map(N=>c.jsxs(Oe.div,{variants:E,whileTap:{scale:.95},className:"flex flex-col items-center",onClick:()=>i(N.id),children:[c.jsxs("div",{className:"relative mb-2",children:[c.jsx("div",{className:G("w-16 h-16 rounded-full overflow-hidden border-2",T(N)?"border-amber-500":A(N)?"border-purple-500":"border-white/20"),children:c.jsx("img",{src:j(N),alt:S(N),className:"w-full h-full object-cover"})}),c.jsx("div",{className:"absolute bottom-0 right-0",children:c.jsxs("div",{className:"flex",children:[A(N)&&c.jsx("span",{className:"w-3 h-3 bg-purple-500 rounded-full"}),T(N)&&c.jsx("span",{className:"w-3 h-3 bg-amber-500 rounded-full ml-0.5",children:c.jsx(cs,{size:6,className:"text-white absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})]})})]}),c.jsx("p",{className:"text-xs truncate max-w-full text-center",children:S(N)})]},`grid-${N.id}`))}),c.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent my-2"}),c.jsx(ep,{className:"flex-1",children:c.jsxs(Oe.div,{variants:_,initial:"hidden",animate:"show",className:"p-4 space-y-2",children:[y.map(N=>{const O=C(N),D=A(N),V=T(N);return c.jsxs(Oe.div,{variants:E,whileTap:{scale:.98},className:G("p-3 rounded-xl transition-all flex items-center",D?"bg-purple-900/30 border border-purple-500/30":V?"bg-amber-900/20 border border-amber-500/30":"bg-white/5 border border-white/10",N.id===s&&"ring-2 ring-white/30"),onClick:()=>i(N.id),children:[c.jsxs("div",{className:"relative mr-3",children:[c.jsx("div",{className:G("w-12 h-12 rounded-full overflow-hidden border",V?"border-amber-500":D?"border-purple-500":"border-white/20"),children:c.jsx("img",{src:j(N),alt:S(N),className:"w-full h-full object-cover"})}),c.jsx("span",{className:G("absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-black",Math.random()>.3?"bg-green-500":"bg-gray-500")})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:G("font-medium truncate",D&&"font-bold"),children:S(N)}),c.jsx("span",{className:"text-xs text-white/60 ml-2 whitespace-nowrap",children:new Date(N.lastActivity).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsxs("div",{className:"flex items-center text-sm text-white/60 truncate",children:[(O==null?void 0:O.isEncrypted)&&c.jsx(Mu,{size:10,className:"text-green-400 mr-1 inline-flex"}),(O==null?void 0:O.monetization)&&c.jsx(cs,{size:10,className:"text-amber-400 mr-1 inline-flex"}),c.jsx("span",{className:G("truncate",D&&"text-white font-medium"),children:(O==null?void 0:O.content)||"Nouvelle conversation"})]})]}),c.jsxs("div",{className:"ml-2 flex flex-col items-center",children:[D&&c.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-500 flex items-center justify-center text-xs mb-1",children:N.messages.filter(U=>U.status!=="read"&&U.senderId!==e).length}),V&&c.jsx("span",{className:"text-amber-400",children:c.jsx(cs,{size:14})})]})]},`list-${N.id}`)}),y.length===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:u?"Aucun résultat pour votre recherche":"Aucune conversation trouvée"}),c.jsxs(K,{variant:"outline",onClick:k,disabled:p,className:"flex items-center gap-2",children:[c.jsx(gC,{size:16}),"Nouvelle conversation"]})]})]})}),c.jsx(Zo,{open:f,onOpenChange:h,children:c.jsx(Ya,{className:"sm:max-w-md h-4/5 flex flex-col",children:c.jsx(htt,{onSelectCreator:I,onCancel:()=>h(!1)})})})]})},mtt=({message:t,isCurrentUser:e,isEphemeral:n=!1,isRevealed:r=!1,onReveal:i,sessionKey:s,decryptMessage:a})=>{var v,y;const[o,l]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(!1),p=!!t.monetization,g=async()=>{if(!(!a||!DA(t.content))){l(!0);try{const x=await a(t);d(x),h(!0)}catch(x){console.error("Error decrypting:",x)}finally{l(!1)}}},m=()=>DA(t.content)&&u&&f?c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:u}):DA(t.content)?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-1 text-green-500 dark:text-green-400",children:[c.jsx(Mu,{size:14}),c.jsx("span",{className:"text-xs font-medium",children:"Message chiffré"})]}),c.jsxs(K,{variant:"secondary",size:"sm",onClick:g,disabled:o,className:"w-full",children:[o?c.jsx(qu,{size:"sm",className:"mr-2"}):c.jsx(id,{size:14,className:"mr-2"}),"Déchiffrer"]})]}):c.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.content});return c.jsx("div",{className:G("flex mb-2",e?"justify-end":"justify-start"),children:c.jsxs("div",{className:G("max-w-[80%] flex",e?"flex-row-reverse":"flex-row"),children:[!e&&c.jsx("div",{className:"mr-2 flex-shrink-0",children:c.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white overflow-hidden",children:t.senderAvatar?c.jsx("img",{src:t.senderAvatar,alt:t.senderName,className:"w-full h-full object-cover"}):t.senderName.charAt(0).toUpperCase()})}),c.jsxs("div",{className:G("flex flex-col",e?"items-end":"items-start"),children:[!e&&c.jsx("span",{className:"text-xs text-muted-foreground mb-1",children:t.senderName}),c.jsxs("div",{className:G("rounded-2xl py-2 px-3 group relative",e?"bg-primary text-primary-foreground dark:bg-primary/90 rounded-tr-none":"bg-muted/60 dark:bg-muted/30 backdrop-blur-sm rounded-tl-none",p&&(e?"border-l-4 border-amber-400":"border-r-4 border-amber-400"),t.isEncrypted&&"border border-green-400/20","transition-all duration-300"),children:[c.jsxs("div",{className:G("absolute -top-2",e?"-left-2":"-right-2","flex space-x-1"),children:[t.isEncrypted&&c.jsx("div",{className:"bg-green-500 rounded-full p-1 shadow-lg",children:c.jsx(Mu,{size:10,className:"text-white"})}),p&&c.jsx("div",{className:"bg-amber-400 rounded-full p-1 shadow-lg",children:c.jsx(er,{size:10,className:"text-amber-900"})})]}),c.jsx(Oe.div,{initial:{opacity:.8},animate:{opacity:1},transition:{duration:.3},children:m()})]}),c.jsxs("span",{className:"text-[10px] text-muted-foreground mt-1",children:[new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),t.isEncrypted&&c.jsxs("span",{className:"ml-1",children:["• ",f?"Déchiffré":"Chiffré"]})]}),p&&c.jsx("div",{className:G("flex items-center mt-1",e?"justify-end":"justify-start"),children:c.jsxs("span",{className:"text-xs text-amber-500 flex items-center",children:[c.jsx(cs,{size:10,className:"mr-1"}),(v=t.monetization)==null?void 0:v.tier," · ",(y=t.monetization)==null?void 0:y.price," USDT"]})})]})]})})},gtt=M.memo(mtt),vtt=({onSendMessage:t,isComposing:e=!1,setIsComposing:n,monetizationEnabled:r=!1,onToggleMonetization:i,monetizationTier:s="basic",setMonetizationTier:a,monetizationAmount:o=0,setMonetizationAmount:l,disabled:u=!1,placeholder:d="Écrivez un message...",isEncrypted:f=!1})=>{const[h,p]=b.useState(""),g=b.useRef(null),{toast:m}=br(),v=E=>{p(E.target.value),n&&n(E.target.value.length>0)},y=()=>{h.trim()&&(t(h),p(""),g.current&&g.current.focus())},x=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),y())},_=()=>{m({title:"Bientôt disponible",description:"L'envoi d'images sera bientôt disponible"})};return c.jsxs("div",{className:"flex flex-col space-y-2",children:[r&&c.jsxs("div",{className:"px-2 py-1 bg-amber-500/10 rounded-lg flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(cs,{size:16,className:"text-amber-500"}),c.jsxs("span",{className:"text-sm font-medium text-amber-500",children:["Message monétisé (",s,") - ",o," USDT"]})]}),c.jsx(K,{variant:"ghost",size:"sm",onClick:i,children:"Annuler"})]}),c.jsxs("div",{className:"relative flex items-end gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Fy,{ref:g,value:h,onChange:v,onKeyDown:x,placeholder:d,className:G("resize-none min-h-[60px] pr-10 pt-3 bg-white dark:bg-gray-800","border border-gray-300 dark:border-gray-700","placeholder:text-gray-500 dark:placeholder:text-gray-400","focus:ring-1",f&&"border-green-500/30 focus:ring-green-500/20",u&&"opacity-60 cursor-not-allowed"),disabled:u,rows:1,style:{height:"auto",maxHeight:"120px"}}),c.jsx("div",{className:"absolute right-2 bottom-2 flex space-x-1",children:c.jsx(K,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:_,disabled:u,children:c.jsx(Fb,{size:16})})})]}),c.jsx(K,{onClick:y,disabled:!h.trim()||u,className:G("rounded-full h-10 w-10 flex items-center justify-center",h.trim()?"bg-primary hover:bg-primary/90":"bg-gray-300 dark:bg-gray-700"),"aria-label":"Envoyer",children:c.jsx(hve,{size:18})})]}),c.jsxs("div",{className:"flex items-center justify-between px-1",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>m({title:"Bientôt disponible",description:"Les émojis seront bientôt disponibles"}),disabled:u,children:c.jsx(yve,{size:18})}),c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>m({title:"Bientôt disponible",description:"Les pièces jointes seront bientôt disponibles"}),disabled:u,children:c.jsx(fve,{size:18})})]}),!r&&i&&c.jsxs(K,{variant:"ghost",size:"sm",onClick:i,className:"text-amber-600 hover:text-amber-700 hover:bg-amber-100/30 dark:text-amber-500 dark:hover:text-amber-400 dark:hover:bg-amber-900/30",disabled:u,children:[c.jsx(ave,{size:16,className:"mr-1"}),c.jsx("span",{children:"Soutenir"})]})]})]})},ytt=({thread:t,userId:e,userName:n,onSendMessage:r,sessionKey:i,isSecurityEnabled:s,onOpenSupport:a,onOpenGifts:o,userType:l,isLoadingMessages:u,onLoadMoreMessages:d,hasMoreMessages:f})=>{const[h,p]=b.useState(!1),[g,m]=b.useState(!1),[v,y]=b.useState("basic"),[x,_]=b.useState(1.99),E=b.useRef(null),S=b.useRef(null),j=b.useRef(null);br();const{triggerHaptic:A}=ld();b.useEffect(()=>{var D;if(u&&j.current!==null){if(E.current){const V=E.current.scrollHeight;E.current.scrollTop+=V-j.current,j.current=null}}else if(!u&&t.messages.length>0){const V=t.messages[t.messages.length-1];((V==null?void 0:V.senderId)===e||!j.current)&&((D=S.current)==null||D.scrollIntoView({behavior:"auto"}))}},[t.messages,u,e]);const T=async D=>{if(typeof D.content!="string"&&!D.content)return"Contenu indisponible";try{let V;if(typeof D.content=="string"&&D.content.startsWith("{"))V=JSON.parse(D.content);else if(typeof D.content=="object")V=D.content;else return D.content;return await Tne(V,i)}catch(V){return console.error("Error decrypting:",V),"Déchiffrement impossible"}},C=()=>{const D=t.participantIds.find(V=>V!==e);return D&&t.participantInfo&&t.participantInfo[D]?t.participantInfo[D]:{displayName:t.name||"Utilisateur...",avatarUrl:`https://i.pravatar.cc/150?u=${D}`}},k=D=>{if(!D.trim())return;A("light"),r(D,g?{tier:v,price:x}:void 0),g&&m(!1)},I=()=>{},N=C(),O=()=>{E.current&&(j.current=E.current.scrollHeight),d()};return c.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[c.jsx("div",{className:"px-4 py-3 backdrop-blur-md bg-white/90 dark:bg-gray-900/90 border-b border-gray-200 dark:border-gray-800",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"relative mr-3",children:c.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border border-gray-200 dark:border-gray-700",children:c.jsx("img",{src:N.avatarUrl||`https://i.pravatar.cc/150?u=${t.participantIds.find(D=>D!==e)}`,alt:N.displayName,className:"w-full h-full object-cover"})})}),c.jsx("div",{className:"flex-1",children:c.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:N.displayName})}),c.jsx("div",{className:"flex gap-2"})]})}),c.jsxs(ep,{className:"flex-1 px-4 py-3",ref:E,children:[u&&t.messages.length===0&&c.jsx("div",{className:"flex justify-center items-center h-full",children:c.jsx(kx,{className:"h-8 w-8 animate-spin text-primary"})}),f&&!u&&c.jsx("div",{className:"text-center my-4",children:c.jsxs(K,{variant:"outline",size:"sm",onClick:O,disabled:u,children:[u?c.jsx(kx,{className:"mr-2 h-4 w-4 animate-spin"}):c.jsx(Wge,{className:"mr-2 h-4 w-4"}),"Charger plus de messages"]})}),u&&t.messages.length>0&&c.jsx("div",{className:"flex justify-center py-2",children:c.jsx(kx,{className:"h-5 w-5 animate-spin text-muted-foreground"})}),c.jsx("div",{className:"space-y-1",children:t.messages&&[...t.messages].sort((D,V)=>D.createdAt.toMillis()-V.createdAt.toMillis()).map(D=>c.jsx(gtt,{message:D,isCurrentUser:D.senderId===e,sessionKey:i,decryptMessage:T},D.id))}),c.jsx("div",{ref:S})]}),s&&c.jsx("div",{className:"px-4 py-1 flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center px-2 py-1 bg-green-50 dark:bg-green-900/20 rounded text-xs text-green-700 dark:text-green-400",children:[c.jsx(Mu,{size:12,className:"mr-1"}),"Messages chiffrés de bout en bout"]})}),c.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:c.jsx(vtt,{onSendMessage:k,isComposing:h,setIsComposing:p,monetizationEnabled:g,onToggleMonetization:l==="fan"?I:void 0,monetizationTier:v,setMonetizationTier:y,monetizationAmount:x,setMonetizationAmount:_,isEncrypted:s})}),l==="fan"&&c.jsxs("div",{className:"px-4 pb-3 flex gap-2 justify-center",children:[c.jsx(K,{variant:"outline",size:"sm",className:"text-amber-600 dark:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/20",onClick:o,children:"Offrir un cadeau"}),c.jsx(K,{variant:"outline",size:"sm",className:"text-pink-600 dark:text-pink-500 hover:bg-pink-50 dark:hover:bg-pink-900/20",onClick:a,children:"Soutenir"})]})]})},xtt=({isOpen:t,onClose:e,onApply:n})=>{const[r,i]=b.useState("basic"),[s,a]=b.useState(1.99),{toast:o}=br(),l=[{id:"basic",name:"Basic",icon:c.jsx(er,{className:"h-5 w-5 text-red-500"}),minAmount:1.99,description:"Un petit soutien pour encourager"},{id:"premium",name:"Premium",icon:c.jsx(cs,{className:"h-5 w-5 text-yellow-500"}),minAmount:4.99,description:"Soutenez le contenu que vous aimez"},{id:"vip",name:"VIP",icon:c.jsx(sd,{className:"h-5 w-5 text-purple-500"}),minAmount:9.99,description:"Montrez que vous êtes un super fan"},{id:"exclusive",name:"Exclusive",icon:c.jsx(i2,{className:"h-5 w-5 text-amber-500"}),minAmount:19.99,description:"Soutien exceptionnel avec accès VIP"}];l.find(f=>f.id===r)||l[0];const u=f=>{const h=f;i(h);const p=l.find(g=>g.id===h);p&&s<p.minAmount&&a(p.minAmount)},d=()=>{n({tier:r,price:s,currency:"USDT"}),o({title:"Message de soutien",description:`Vous avez ajouté un soutien de ${s} USDT (${r})`})};return c.jsx(Zo,{open:t,onOpenChange:e,children:c.jsxs(Ya,{className:"sm:max-w-[425px]",children:[c.jsx(Oc,{children:c.jsx(Rc,{children:"Soutenir le créateur"})}),c.jsx("div",{className:"py-4",children:c.jsxs(Zr,{defaultValue:"basic",value:r,onValueChange:u,children:[c.jsx(Dr,{className:"grid grid-cols-4 mb-4",children:l.map(f=>c.jsxs(Je,{value:f.id,className:"flex flex-col items-center py-2 px-1",children:[f.icon,c.jsx("span",{className:"text-xs mt-1",children:f.name})]},f.id))}),l.map(f=>c.jsxs(mt,{value:f.id,className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[f.icon,c.jsx("span",{className:"ml-2",children:f.name})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:f.description})]}),c.jsxs("div",{className:"text-lg font-bold",children:["$",f.minAmount,"+"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("label",{className:"text-sm font-medium",children:"Montant (USDT)"}),c.jsxs("span",{className:"text-sm font-bold",children:[s," USDT"]})]}),c.jsx(Xg,{value:[s],min:f.minAmount,max:100,step:.01,onValueChange:h=>a(h[0]),className:"py-4"})]})]},f.id))]})}),c.jsxs($y,{children:[c.jsx(K,{variant:"outline",onClick:e,className:"w-full sm:w-auto",children:"Annuler"}),c.jsx(K,{onClick:d,className:"w-full sm:w-auto",children:"Appliquer"})]})]})})},btt=({isOpen:t,onClose:e,onSendGift:n})=>{const[r,i]=b.useState(null),{toast:s}=br(),a=[{id:"heart",name:"Cœur",icon:c.jsx(er,{className:"h-6 w-6 text-red-500"}),price:1.99,description:"Montrez votre appréciation",color:"bg-red-100 dark:bg-red-900/30 text-red-500 border-red-300"},{id:"star",name:"Étoile",icon:c.jsx(sd,{className:"h-6 w-6 text-amber-500"}),price:4.99,description:"Pour les contenus qui brillent",color:"bg-amber-100 dark:bg-amber-900/30 text-amber-500 border-amber-300"},{id:"gem",name:"Gemme",icon:c.jsx(sve,{className:"h-6 w-6 text-blue-500"}),price:9.99,description:"Un contenu de grande valeur",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-500 border-blue-300"},{id:"diamond",name:"Diamant",icon:c.jsx(Qge,{className:"h-6 w-6 text-cyan-500"}),price:19.99,description:"Pour les créations exceptionnelles",color:"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-500 border-cyan-300"},{id:"crown",name:"Couronne",icon:c.jsx(Kf,{className:"h-6 w-6 text-purple-500"}),price:29.99,description:"Récompensez la royauté du contenu",color:"bg-purple-100 dark:bg-purple-900/30 text-purple-500 border-purple-300"},{id:"sparkles",name:"Étincelles",icon:c.jsx(Vg,{className:"h-6 w-6 text-yellow-500"}),price:49.99,description:"Pour les moments magiques",color:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-500 border-yellow-300"},{id:"trophy",name:"Trophée",icon:c.jsx(i2,{className:"h-6 w-6 text-emerald-500"}),price:99.99,description:"Pour les plus grands achievements",color:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-500 border-emerald-300"}],o=()=>{if(!r){s({title:"Aucun cadeau sélectionné",description:"Veuillez sélectionner un cadeau à envoyer",variant:"destructive"});return}n(r),s({title:"Cadeau envoyé",description:`Vous avez envoyé un(e) ${r.name} (${r.price} USDT)`})};return c.jsx(Zo,{open:t,onOpenChange:e,children:c.jsxs(Ya,{className:"sm:max-w-[500px]",children:[c.jsx(Oc,{children:c.jsx(Rc,{children:"Envoyer un cadeau"})}),c.jsx("div",{className:"py-4",children:c.jsx(ep,{className:"h-80",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map(l=>c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all flex flex-col items-center ${(r==null?void 0:r.id)===l.id?`${l.color} border-2`:"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>i(l),children:[c.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-white dark:bg-gray-800 mb-2 shadow-md",children:l.icon}),c.jsx("h3",{className:"font-medium text-center",children:l.name}),c.jsx("p",{className:"text-sm text-muted-foreground mb-1 text-center",children:l.description}),c.jsxs("span",{className:"font-bold",children:[l.price," USDT"]})]},l.id))})})}),c.jsxs($y,{children:[c.jsx(K,{variant:"outline",onClick:e,className:"w-full sm:w-auto",children:"Annuler"}),c.jsxs(K,{onClick:o,disabled:!r,className:"w-full sm:w-auto",children:[c.jsx(U7,{className:"mr-2 h-4 w-4"}),"Envoyer"]})]})]})})},wtt=async t=>{try{const e=Gn(_n(Vt,"messageThreads"),gr("participantIds","array-contains",t),Jl("lastActivity","desc"));return(await ms(e)).docs.map(i=>{const s=i.data();return{id:i.id,...s,messages:[],readStatus:{}}})}catch(e){return console.error("Error fetching user threads metadata from Firestore:",e),[]}},_tt=async(t,e=20,n=null)=>{try{let r;const i=_n(Vt,"messageThreads",t,"messages");n?r=Gn(i,Jl("createdAt","desc"),Tpe(n),Nu(e)):r=Gn(i,Jl("createdAt","desc"),Nu(e));const s=await ms(r),a=s.docs.map(l=>({id:l.id,...l.data()})).reverse(),o=s.docs[s.docs.length-1];return{messages:a,newLastVisibleDoc:o}}catch(r){return console.error(`Error fetching messages for thread ${t}:`,r),{messages:[],newLastVisibleDoc:null}}},Stt=async({threadId:t,senderId:e,content:n,isEncrypted:r=!1,monetizationData:i=null,messageType:s="text"})=>{try{const a=WI(Vt),o=uy(),l=ln(Vt,"messageThreads",t),u=ln(_n(l,"messages")),d={senderId:e,content:n,type:s,createdAt:o,isEncrypted:r,...i&&{monetization:i}};return a.set(u,d),a.update(l,{lastMessageText:n.length>100?n.substring(0,97)+"...":n,lastMessageSenderId:e,lastMessageCreatedAt:o,lastActivity:o,[`readStatus.${e}`]:o}),await a.commit(),{id:u.id,...d,createdAt:Sn.now()}}catch(a){throw console.error("Error sending message to Firestore:",a),a}},tU=async(t,e)=>{try{const n=ln(Vt,"messageThreads",t),r={};return r[`readStatus.${e}`]=uy(),await BI(n,r),console.log(`Thread ${t} marked as read up to now for user ${e}`),!0}catch(n){return console.error("Error marking thread as read in Firestore:",n),!1}},Ett=({userId:t,userName:e,userAvatar:n})=>{const r=Xi(),i=Ua(),{toast:s}=br(),{triggerHaptic:a}=ld(),{user:o,profile:l}=Ut(),{getWalletInfo:u}=Tp(),{openModal:d,closeModal:f,openModals:h}=Gne(),[p,g]=b.useState(null),[m,v]=b.useState([]),[y,x]=b.useState(!0),[_,E]=b.useState(!0),[S,j]=b.useState({}),[A,T]=b.useState("all"),[C,k]=b.useState(!0),[I,N]=b.useState(!1),[O,D]=b.useState(null),[V,U]=b.useState(!0),z=(l==null?void 0:l.role)||"fan",L=b.useCallback(async()=>{if(t){console.log("SecureMessaging: Initial load of conversation threads for user:",t),k(!0);try{const q=await wtt(t);v(q.map(ee=>({...ee,messages:ee.messages||[],readStatus:ee.readStatus||{}})));const oe=i.state;let Z=null,J=!1;if(oe!=null&&oe.threadId)Z=oe.threadId,J=!0;else if(oe!=null&&oe.creatorId){const ee=q.find(H=>H.participantIds.includes(oe.creatorId));if(ee)Z=ee.id;else if(t&&e){console.log("SecureMessaging: No existing thread for creatorId, creating...");const H=await qk({userId:t,userName:e,userAvatar:n,creatorId:oe.creatorId,creatorName:oe.creatorName||"Créateur",creatorAvatar:oe.creatorAvatar||null});H.success&&H.threadId?Z=H.threadId:me.error("Impossible de démarrer la nouvelle conversation.")}J=!0}Z&&(g(Z),x(!1)),J&&r(i.pathname,{replace:!0,state:{}})}catch(q){console.error("Error loading initial conversation threads:",q),me.error("Erreur de chargement des fils de discussion")}finally{k(!1)}}},[t,i.state,r,e,n,i.pathname]);b.useEffect(()=>{t&&(L(),u())},[t,L,u]),b.useEffect(()=>{if(!t||!Vt)return()=>{};const q=Gn(_n(Vt,"messageThreads"),gr("participantIds","array-contains",t),Jl("lastActivity","desc")),oe=X$(q,Z=>{v(J=>{const ee=new Map(J.map(H=>[H.id,H]));return Z.docChanges().forEach(H=>{var je,$e;const Ae={id:H.doc.id,...H.doc.data(),messages:((je=ee.get(H.doc.id))==null?void 0:je.messages)||[],readStatus:(($e=ee.get(H.doc.id))==null?void 0:$e.readStatus)||{}};H.type==="added"||H.type==="modified"?ee.set(H.doc.id,Ae):H.type==="removed"&&ee.delete(H.doc.id)}),Array.from(ee.values()).sort((H,Ae)=>Ae.lastActivity.toMillis()-H.lastActivity.toMillis())}),k(!1)},Z=>{console.error("Error listening to real-time thread metadata:",Z),k(!1)});return()=>oe()},[t]);const F=b.useCallback(async(q=!1)=>{if(!(!p||!t)&&!(!q&&!V)){N(!0);try{const{messages:oe,newLastVisibleDoc:Z}=await _tt(p,20,q?null:O);v(J=>J.map(ee=>ee.id===p?{...ee,messages:q?oe:[...oe,...ee.messages].sort((H,Ae)=>H.createdAt.toMillis()-Ae.createdAt.toMillis())}:ee)),D(Z),U(oe.length===20),q&&tU(p,t)}catch(oe){console.error("Error fetching messages:",oe),me.error("Erreur de chargement des messages.")}finally{N(!1)}}},[p,t,O,V]);b.useEffect(()=>{p&&(U(!0),D(null),F(!0))},[p,F]),b.useEffect(()=>{if(!p||!Vt||!t)return()=>{};let q=Gn(_n(Vt,"messageThreads",p,"messages"),Jl("createdAt","asc"));const oe=m.find(J=>J.id===p);if(oe&&oe.messages.length>0){const J=oe.messages[oe.messages.length-1];J.createdAt&&(q=Gn(_n(Vt,"messageThreads",p,"messages"),Jl("createdAt","asc"),gr("createdAt",">",J.createdAt)))}const Z=X$(q,J=>{const ee=[];J.docChanges().forEach(H=>{H.type==="added"&&ee.push({id:H.doc.id,...H.doc.data()})}),ee.length>0&&(v(Ae=>Ae.map(je=>je.id===p?{...je,messages:[...je.messages,...ee].sort(($e,de)=>$e.createdAt.toMillis()-de.createdAt.toMillis()),lastActivity:ee[ee.length-1].createdAt,lastMessageText:ee[ee.length-1].content,lastMessageSenderId:ee[ee.length-1].senderId,readStatus:{...je.readStatus||{},[ee[ee.length-1].senderId]:ee[ee.length-1].createdAt}}:je)),ee[ee.length-1].senderId!==t&&(a("medium"),tU(p,t)))},J=>console.error(`Error listening to new messages for thread ${p}:`,J));return()=>Z()},[p,t,a,m]),b.useEffect(()=>{m.forEach(q=>{q.id&&!S[q.id]&&j(oe=>({...oe,[q.id]:Wk()}))})},[m,S]);const W=m.find(q=>q.id===p),ne=q=>{a("light"),p!==q&&g(q),x(!1)},Q=()=>{!y&&p?(a("light"),x(!0),g(null)):r(-1)},ie=async(q,oe)=>{if(!p||!q.trim()||!t)return;const Z={id:`optimistic_${Date.now()}`,senderId:t,content:q,type:"text",createdAt:Sn.now(),isEncrypted:_,...oe&&{monetization:oe}};v(J=>J.map(ee=>ee.id===p?{...ee,messages:[...ee.messages,Z],lastMessageText:q.substring(0,97)+(q.length>100?"...":""),lastMessageSenderId:t,lastActivity:Sn.now()}:ee));try{await Stt({threadId:p,senderId:t,content:q,isEncrypted:_,monetizationData:oe}),oe&&(a("strong"),s({title:"Message de soutien envoyé"}))}catch(J){console.error("Error sending message:",J),s({title:"Erreur d'envoi",variant:"destructive"}),v(ee=>ee.map(H=>H.id===p?{...H,messages:H.messages.filter(Ae=>Ae.id!==Z.id)}:H))}},xe=()=>{E(!_)},Pe=async q=>{var H;if(!t||!e)return;const{creatorId:oe,creatorName:Z,creatorAvatar:J}=q,ee=m.find(Ae=>Ae.participantIds.includes(oe)&&Ae.participantIds.includes(t));if(ee&&ee.id){g(ee.id),x(!1);return}try{const Ae=await qk({userId:t,userName:e,userAvatar:n,creatorId:oe,creatorName:Z,creatorAvatar:J});Ae.success&&Ae.threadId?(g(Ae.threadId),x(!1)):me.error(((H=Ae.error)==null?void 0:H.message)||"Impossible de créer la conversation.")}catch(Ae){console.error("Error creating new conversation:",Ae),me.error("Erreur.")}};if(C&&m.length===0&&!p)return c.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white dark:bg-gray-900 z-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(qu,{size:"lg"}),c.jsx("p",{className:"mt-4 text-lg",children:"Chargement des discussions..."})]})});const he=m.filter(q=>{var oe;if(A==="all")return!0;if(A==="unread"){const Z=((oe=q.readStatus&&t&&q.readStatus[t])==null?void 0:oe.toMillis())||0;return q.lastActivity&&q.lastActivity.toMillis()>Z&&q.lastMessageSenderId!==t}return A==="supported"?q.messages.some(Z=>Z.senderId===t&&Z.monetization):!0});return c.jsxs("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 flex flex-col h-full w-full z-50",children:[c.jsxs("header",{className:"flex items-center justify-between p-4 backdrop-blur-md bg-white/50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-800",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",onClick:Q,children:c.jsx(j_,{size:24})}),c.jsx(tG,{size:"md"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"ghost",size:"icon",className:G("rounded-full",_?"text-green-500":"text-red-500"),onClick:xe,children:_?c.jsx(Mu,{size:20}):c.jsx(ove,{size:20})}),c.jsx(K,{variant:"ghost",size:"icon",className:"rounded-full text-gray-700 dark:text-gray-300",onClick:()=>r("/"),children:c.jsx(bi,{size:22})})]})]}),c.jsx(Oo,{children:y&&c.jsx(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"px-4 pt-3 pb-1",children:c.jsx(Zr,{value:A,onValueChange:q=>T(q),className:"w-full",children:c.jsxs(Dr,{className:"w-full bg-gray-100 dark:bg-gray-800 border",children:[c.jsx(Je,{value:"all",children:"Tous"}),c.jsx(Je,{value:"unread",children:"Non lus"}),c.jsxs(Je,{value:"supported",children:[c.jsx(cs,{size:14,className:"mr-1"}),"Soutenus"]})]})})})}),c.jsx("div",{className:"flex-1 overflow-hidden relative",children:c.jsx(Oo,{mode:"wait",children:y?c.jsx(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"h-full",children:c.jsx(ptt,{threads:he,userId:t,userName:e,userAvatar:n,onSelectThread:ne,activeThreadId:p,userType:z,onConversationCreated:Pe})},"conversation-list"):W&&c.jsx(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:c.jsx(ytt,{thread:W,userId:t,userName:e,onSendMessage:ie,sessionKey:S[W.id]||Wk(),isSecurityEnabled:_,onOpenSupport:()=>d("supportCreator"),onOpenGifts:()=>d("giftCreator"),userType:z,isLoadingMessages:I,onLoadMoreMessages:()=>F(!1),hasMoreMessages:V})},W.id||"active-conversation")})}),c.jsx(xtt,{isOpen:h.supportCreator,onClose:()=>f("supportCreator"),onApply:q=>{ie("Je soutiens votre contenu",q),f("supportCreator")}}),c.jsx(btt,{isOpen:h.giftCreator,onClose:()=>f("giftCreator"),onSendGift:q=>{ie(`🎁 ${q.name}`,{tier:"premium",price:q.price,currency:"USDT"}),f("giftCreator")}})]})},Ttt=()=>{const{profile:t,user:e}=Ut();return c.jsx("div",{className:"h-screen w-screen overflow-hidden",children:c.jsx(Ett,{userId:(e==null?void 0:e.id)||"",userName:(t==null?void 0:t.displayName)||(t==null?void 0:t.username)||"User",userAvatar:(t==null?void 0:t.avatarUrl)||"https://images.unsplash.com/photo-1649972904349-6e44c42644a7?crop=faces&w=200&h=200"})})},Att=()=>{const[t,e]=b.useState("initial"),[n,r]=b.useState("initial"),[i,s]=b.useState("initial"),[a,o]=b.useState([]),[l,u]=b.useState("");b.useEffect(()=>{if(wT){const v=`Project ID: ${wT.config.projectId}
Mode: ${wT.mode}
Production: Yes`;u(v)}},[]);const d=v=>{const y=new Date().toLocaleTimeString();o(x=>[`[${y}] ${v}`,...x])},f=async()=>{e("loading"),d("Testing general network connectivity...");try{const v=await fetch("https://www.google.com",{method:"HEAD",mode:"no-cors",signal:AbortSignal.timeout(5e3)});return e("success"),d("✓ General network connectivity OK"),!0}catch(v){return e("error"),d(`✗ General network error: ${v.message}`),!1}},h=async()=>{r("loading"),d("Testing Firebase Auth connectivity...");try{return await Yce(Hr),r("success"),d("✓ Firebase Auth connectivity OK"),!0}catch(v){return r("error"),d(`✗ Firebase Auth error: ${v.message}`),!1}},p=async()=>{s("loading"),d("Testing Firestore connectivity...");try{const v=Gn(_n(ur,"usernames"),Nu(1));return await ms(v),s("success"),d("✓ Firestore connectivity OK"),!0}catch(v){return s("error"),d(`✗ Firestore error: ${v.message}`),!1}},g=async()=>{if(d("Starting network diagnostics..."),!await f()){d("⚠️ No general connectivity, skipping Firebase tests");return}await h(),await p(),d("All tests completed.")},m=v=>{switch(v){case"initial":return null;case"loading":return c.jsx(dve,{className:"animate-pulse"});case"success":return c.jsx(Hge,{className:"text-green-500"});case"error":return c.jsx(Gge,{className:"text-red-500"});default:return c.jsx(f4,{})}};return c.jsxs("div",{className:"container mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Firebase Network Diagnostics"}),c.jsx("div",{className:"mb-4",children:c.jsxs(rM,{children:[c.jsx(f4,{className:"h-4 w-4"}),c.jsx(Xte,{children:"Diagnostic Tool"}),c.jsx(iM,{children:'This tool helps identify network-related issues with Firebase connectivity. Use it when experiencing "auth/network-request-failed" or similar errors.'})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs(Fe,{children:[c.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(dt,{className:"text-sm font-medium",children:"Internet Connectivity"}),m(t)]}),c.jsx(Ue,{children:c.jsx("div",{className:"text-xs text-muted-foreground",children:"Tests if your device can connect to the internet in general"})})]}),c.jsxs(Fe,{children:[c.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(dt,{className:"text-sm font-medium",children:"Firebase Auth"}),m(n)]}),c.jsx(Ue,{children:c.jsx("div",{className:"text-xs text-muted-foreground",children:"Tests connectivity to Firebase Authentication services"})})]}),c.jsxs(Fe,{children:[c.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(dt,{className:"text-sm font-medium",children:"Firestore Database"}),m(i)]}),c.jsx(Ue,{children:c.jsx("div",{className:"text-xs text-muted-foreground",children:"Tests connectivity to Firebase Firestore database"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Network Tests"})}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(K,{onClick:g,className:"w-full mb-2",children:"Run All Tests"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsx(K,{onClick:f,variant:"outline",children:"Test Internet"}),c.jsx(K,{onClick:h,variant:"outline",children:"Test Auth"}),c.jsx(K,{onClick:p,variant:"outline",children:"Test Firestore"})]})]})}),c.jsx(Lu,{children:c.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.jsx("p",{children:"Firebase config:"}),c.jsx("pre",{className:"mt-1 p-2 bg-slate-100 rounded-md whitespace-pre-wrap",children:l})]})})]}),c.jsxs(Fe,{children:[c.jsx(st,{children:c.jsx(dt,{children:"Diagnostic Log"})}),c.jsx(Ue,{children:c.jsx("div",{className:"h-[300px] overflow-y-auto border rounded-md p-2 bg-black text-white",children:a.length>0?c.jsx("div",{className:"space-y-1",children:a.map((v,y)=>c.jsx("div",{className:"text-xs font-mono",children:v},y))}):c.jsx("div",{className:"text-gray-500 text-center mt-4",children:"Run tests to see diagnostic information"})})})]})]})]})},jtt=()=>{const{user:t,profile:e,isLoading:n,signOut:r}=Ut(),[i,s]=b.useState(""),[a,o]=b.useState("test@example.com"),[l,u]=b.useState("password123"),[d,f]=b.useState("testuser"),h=async()=>{s("Testing Firestore...");try{const y=["user_profiles","usernames","videos","messages","conversations"];let x=`Collections test:
`;for(const _ of y)try{const E=Gn(_n(ur,_),Nu(1)),S=await ms(E);x+=`- ${_}: ${S.empty?"Empty":"Has data"}
`}catch(E){x+=`- ${_}: ERROR - ${E.message}
`}s(x)}catch(y){s(`Firestore test failed: ${y.message}`)}},p=async()=>{s("Testing direct signup...");try{const y=await Kj(Hr,a,l);s(`User created: ${y.user.uid}`)}catch(y){s(`Direct signup failed: ${y.message}`)}},g=async()=>{s("Testing network connectivity...");try{const x=await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp",{method:"HEAD",mode:"no-cors"}),E=await fetch("https://firestore.googleapis.com/",{method:"HEAD",mode:"no-cors"});s(`Network test results:
- Auth endpoint reached: ${x?"Yes":"No"}
- Firestore endpoint reached: ${E?"Yes":"No"}
      
If you see any failures above, it could indicate network connectivity issues.
Common causes:
- Corporate/School firewall blocking Firebase
- Network connectivity issues
- VPN interference
- Proxy settings`)}catch(y){s(`Network test failed: ${y.message}`)}},m=async()=>{s(`Starting complete signup process with detailed logging...
`);try{s(_=>_+`Step 1: Creating Firebase Auth user...
`);let y;try{y=await Kj(Hr,a,l),s(_=>_+`✓ User auth created: ${y.user.uid}
`)}catch(_){s(E=>E+`✗ Auth creation failed: ${_.message}
`),s(E=>E+`Error code: ${_.code}
`),s(E=>E+`Full error: ${JSON.stringify(_)}
`);return}const x=y.user;s(_=>_+`Step 2: Updating Firebase Auth profile...
`);try{await Gj(x,{displayName:d}),s(_=>_+`✓ Auth profile updated
`)}catch(_){s(E=>E+`✗ Auth profile update failed: ${_.message}
`)}s(_=>_+`Step 3: Checking username availability...
`);try{const _=ln(ur,"usernames",d);if((await Al(_)).exists()){s(S=>S+`✗ Username already exists
`),await wb(Hr);return}s(S=>S+`✓ Username is available
`)}catch(_){s(E=>E+`✗ Username check failed: ${_.message}
`);return}s(_=>_+`Step 4: Creating user profile...
`);try{const _=new Date().toISOString(),E={id:x.uid,username:d,displayName:d,avatarUrl:null,bio:null,role:"fan",createdAt:_,updatedAt:_};await ml(ln(ur,"user_profiles",x.uid),E),s(S=>S+`✓ User profile created
`)}catch(_){s(E=>E+`✗ Profile creation failed: ${_.message}
`);return}s(_=>_+`Step 5: Reserving username...
`);try{await ml(ln(ur,"usernames",d),{uid:x.uid}),s(_=>_+`✓ Username reserved
`)}catch(_){s(E=>E+`✗ Username reservation failed: ${_.message}
`);return}s(_=>_+`
✓ SIGNUP PROCESS COMPLETED SUCCESSFULLY
`)}catch(y){s(x=>x+`
✗ UNHANDLED ERROR: ${y.message}
`)}},v=async()=>{s("Testing sign out with improved implementation...");try{const y=await r();y.error?s(`Sign out completed with error: ${y.error.message}`):s("Sign out successful")}catch(y){s(`Sign out failed: ${y.message}`)}};return c.jsxs("div",{className:"container mx-auto p-4",children:[c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Firebase Authentication Test"}),n?c.jsx("p",{children:"Loading..."}):c.jsxs(Fe,{className:"mb-6",children:[c.jsx(st,{children:c.jsx(dt,{children:"User Status"})}),c.jsxs(Ue,{children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("strong",{children:"Authenticated:"})," ",t?"Yes":"No"]}),t&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"User ID:"})," ",t.uid]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",t.email]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Display Name:"})," ",t.displayName]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email Verified:"})," ",t.emailVerified?"Yes":"No"]})]}),e&&c.jsxs("div",{className:"mt-4 pt-4 border-t",children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"User Profile"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Username:"})," ",e.username]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Display Name:"})," ",e.displayName]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Role:"})," ",e.role]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Created:"})," ",new Date(e.createdAt).toLocaleString()]})]})]}),c.jsx(Lu,{children:t?c.jsxs("div",{className:"space-x-2",children:[c.jsx(K,{onClick:()=>wb(Hr),variant:"destructive",children:"Direct Sign Out"}),c.jsx(K,{onClick:v,variant:"outline",children:"Improved Sign Out"})]}):c.jsx("p",{children:"Not logged in"})})]}),c.jsxs(Fe,{className:"mb-6",children:[c.jsx(st,{children:c.jsx(dt,{children:"Test Firestore Connection"})}),c.jsxs(Ue,{children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(K,{onClick:h,children:"Test Firestore"}),c.jsx(K,{onClick:g,variant:"outline",children:"Test Network"})]}),i&&c.jsx("pre",{className:"mt-4 p-4 bg-gray-100 rounded whitespace-pre-wrap",children:i})]})]}),c.jsxs(Fe,{className:"mb-6",children:[c.jsx(st,{children:c.jsx(dt,{children:"Direct Firebase Signup Test"})}),c.jsx(Ue,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"email",children:"Email"}),c.jsx(en,{id:"email",value:a,onChange:y=>o(y.target.value),placeholder:"test@example.com"})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"password",children:"Password"}),c.jsx(en,{id:"password",type:"password",value:l,onChange:y=>u(y.target.value),placeholder:"password123"})]}),c.jsxs("div",{children:[c.jsx(ct,{htmlFor:"username",children:"Username"}),c.jsx(en,{id:"username",value:d,onChange:y=>f(y.target.value),placeholder:"testuser"})]})]})}),c.jsxs(Lu,{className:"flex gap-2",children:[c.jsx(K,{onClick:p,children:"Test Direct Signup"}),c.jsx(K,{onClick:m,variant:"secondary",children:"Test Full Signup"})]})]})]})},Ctt={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}},om=({children:t})=>{const{user:e,isLoading:n}=Ut();return n?c.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-background z-50",children:[c.jsx(qu,{size:"lg"}),c.jsx("p",{className:"ml-4 text-lg",children:"Chargement de votre session..."})]}):e?c.jsx(c.Fragment,{children:t}):c.jsx(vx,{to:"/auth",replace:!0})},Id=({children:t})=>{const{user:e,isLoading:n,isCreator:r,profile:i}=Ut();return n?c.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-background z-50",children:[c.jsx(qu,{size:"lg"}),c.jsx("p",{className:"ml-4 text-lg",children:"Chargement de votre session créateur..."})]}):e?i?r?c.jsx(c.Fragment,{children:t}):c.jsx(vx,{to:"/",replace:!0}):c.jsx(vx,{to:"/",replace:!0}):c.jsx(vx,{to:"/auth",replace:!0})};function Ptt(){const[t,e]=b.useState(!1);return c.jsx(Nge,{children:c.jsx(yEe,{children:c.jsx(Fae,{...Ctt,children:c.jsxs(ftt,{children:[c.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-background",children:[c.jsx(Gye,{expanded:t,onToggle:()=>e(!t)}),c.jsxs("div",{className:`flex flex-col flex-1 h-full transition-all duration-300 ${t?"md:ml-64":""}`,children:[c.jsx(S1e,{onMenuClick:()=>e(!t)}),c.jsx("main",{className:"flex-1 overflow-y-auto pb-20 md:pb-4 pt-2 md:pt-4 px-2 md:px-4 lg:px-6",children:c.jsxs(Iae,{children:[c.jsx(Nn,{path:"/",element:c.jsx(z5,{})}),c.jsx(Nn,{path:"/auth",element:c.jsx(D_e,{})}),c.jsx(Nn,{path:"/creators",element:c.jsx(yXe,{})}),c.jsx(Nn,{path:"/creator/:id?",element:c.jsx(YKe,{})}),c.jsx(Nn,{path:"/trending",element:c.jsx(ctt,{})}),c.jsx(Nn,{path:"/stories",element:c.jsx(om,{children:c.jsx(z5,{})})}),c.jsx(Nn,{path:"/secure-messaging",element:c.jsx(om,{children:c.jsx(Ttt,{})})}),c.jsx(Nn,{path:"/dashboard",element:c.jsx(Id,{children:c.jsx(EXe,{})})}),c.jsx(Nn,{path:"/videos",element:c.jsx(Id,{children:c.jsx(eJe,{})})}),c.jsx(Nn,{path:"/subscribers",element:c.jsx(Id,{children:c.jsx(wJe,{})})}),c.jsx(Nn,{path:"/calendar",element:c.jsx(Id,{children:c.jsx(rtt,{})})}),c.jsx(Nn,{path:"/exclusive",element:c.jsx(Id,{children:c.jsx(rJe,{})})}),c.jsx(Nn,{path:"/revenue",element:c.jsx(Id,{children:c.jsx(hJe,{})})}),c.jsx(Nn,{path:"/messages",element:c.jsx(om,{children:c.jsx(TXe,{})})}),c.jsx(Nn,{path:"/tokens",element:c.jsx(om,{children:c.jsx(lJe,{})})}),c.jsx(Nn,{path:"/settings",element:c.jsx(om,{children:c.jsx(att,{})})}),c.jsx(Nn,{path:"/network-test",element:c.jsx(Att,{})}),c.jsx(Nn,{path:"/test-auth",element:c.jsx(jtt,{})}),c.jsx(Nn,{path:"*",element:c.jsx(ott,{})})]})}),c.jsx(E1e,{})]})]}),c.jsx(xoe,{})]})})})})}const ktt=async()=>{console.log("Firebase initialized")};ktt().catch(t=>{console.error("Failed to initialize Firestore:",t)});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("root");if(!t){console.error("Root element not found");return}m9(t).render(c.jsx(b.StrictMode,{children:c.jsx(Ptt,{})}))});export{M7 as A,K as B,Fe as C,JI as D,e2 as E,C_ as F,me as G,WZ as H,en as I,Ml as J,Br as K,ct as L,Va as M,Qo as N,Cy as O,RHe as P,ec as Q,fa as R,Wn as S,Zh as T,_k as U,Di as V,Fs as W,Vi as X,Fi as Y,Pne as _,st as a,dt as b,Ue as c,yu as d,QI as e,Zr as f,Dr as g,Je as h,mt as i,c as j,fe as k,Bv as l,Wv as m,Oi as n,Mn as o,Hv as p,kt as q,b as r,Zo as s,Ya as t,Tp as u,Oc as v,Rc as w,$y as x,$n as y,Ru as z};
//# sourceMappingURL=index-Buw2fQRV.js.map
