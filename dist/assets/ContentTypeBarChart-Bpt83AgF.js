import{r as n,j as s,R as b,U as j,J as w,X as C,Y as y,K as S,V as R,O as E}from"./index-D5VhsPbz.js";function z(u={}){const[x,c]=n.useState(!1),[p,h]=n.useState(!1),e=n.useRef(null),{threshold:d=.1,rootMargin:r="0px",once:i=!0}=u;return n.useEffect(()=>{const a=new IntersectionObserver(([f])=>{f.isIntersecting?(c(!0),h(!0),i&&e.current&&a.unobserve(e.current)):i||c(!1)},{threshold:d,rootMargin:r}),o=e.current;return o&&a.observe(o),()=>{o&&a.unobserve(o)}},[d,r,i]),{elementRef:e,isVisible:x,hasLoaded:p}}const g=[{name:"VidÃ©os",value:420},{name:"Photos",value:180},{name:"Tutoriels",value:320},{name:"Lives",value:280}],L=({className:u})=>{const[x,c]=n.useState(0),[p,h]=n.useState(0),[e,d]=n.useState(!1),{elementRef:r,isVisible:i,hasLoaded:a}=z({threshold:.2});n.useEffect(()=>{const t=()=>{d(window.innerWidth<640)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n.useEffect(()=>{if(r.current){const{width:t,height:l}=r.current.getBoundingClientRect();c(t),h(l)}},[i,r]);const o="#0ea5e9",f="#0284c7",[m,v]=n.useState(null);return s.jsxs("div",{ref:r,className:`w-full h-full min-h-[200px] ${u||""}`,children:[(i||a)&&s.jsx(b,{width:"100%",height:"100%",children:s.jsxs(j,{data:g,margin:e?{top:5,right:10,left:0,bottom:20}:{top:10,right:30,left:10,bottom:30},barSize:e?15:30,onMouseMove:t=>{t.activeTooltipIndex!==void 0&&v(t.activeTooltipIndex)},onMouseLeave:()=>v(null),children:[s.jsx(w,{strokeDasharray:"3 3",opacity:.2}),s.jsx(C,{dataKey:"name",tick:{fontSize:e?10:12},interval:0,angle:e?-45:0,textAnchor:e?"end":"middle",height:e?50:30}),s.jsx(y,{width:e?30:40,tick:{fontSize:e?10:12},tickFormatter:t=>e?`$${t/100}`:`$${t}`}),s.jsx(S,{formatter:t=>[`$${t}`,"Revenu"],contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",fontSize:e?"10px":"12px",padding:"8px"},wrapperStyle:{zIndex:1e3}}),s.jsx(R,{dataKey:"value",name:"Revenu ($)",radius:[4,4,0,0],animationDuration:1e3,children:g.map((t,l)=>s.jsx(E,{fill:l===m?f:o,style:{filter:l===m?"drop-shadow(0 0 3px rgba(14, 165, 233, 0.5))":"none",transition:"fill 0.3s ease, filter 0.3s ease"}},`cell-${l}`))})]})}),!a&&!i&&s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted/20 animate-pulse rounded-lg",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"Chargement du graphique..."})})]})};export{L as default};
//# sourceMappingURL=ContentTypeBarChart-Bpt83AgF.js.map
